{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[68],{Ubvz:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/pengguna/edit/[id]\",function(){return r(\"l8Dz\")}])},l8Dz:function(e,t,r){\"use strict\";r.r(t);var n=r(\"4IMT\"),a=r.n(n),s=r(\"MM9K\"),i=r.n(s),o=r(\"FAat\"),c=r.n(o),l=r(\"z19R\"),u=r.n(l),p=r(\"iJl9\"),d=r.n(p),b=r(\"SNDM\"),j=r.n(b),m=r(\"cpVT\"),h=r(\"rg98\"),f=r(\"qu0K\"),O=r.n(f),x=r(\"xvhg\"),v=r(\"vJKn\"),w=r.n(v),g=r(\"NyWP\"),y=r.n(g),k=r(\"q1tI\"),T=r(\"g4pe\"),P=r.n(T),N=r(\"kM/w\"),_=r(\"0Jbt\"),I=r(\"PKTO\"),z=r(\"xBBV\"),E=r(\"FGyW\"),S=r(\"20a2\"),A=r(\"0Ize\"),D=r(\"nKUr\");function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(e){var t,r=e.props,n=O.a.useForm(),s=Object(x.a)(n,1)[0],o=Object(k.useState)(!1),l=o[0],p=o[1],b=Object(k.useState)({}),m=(b[0],b[1]),f=y.a.get(null,\"token\"),v=Object(S.useRouter)(),g=null===r||void 0===r||null===(t=r.role)||void 0===t?void 0:t.roles,T=null===r||void 0===r?void 0:r.user,V=null===r||void 0===r?void 0:r.user.role,B=null===r||void 0===r?void 0:r.user.locations,G=null===r||void 0===r?void 0:r.locations,J=function(){var e=Object(h.a)(w.a.mark((function e(t){var r,n,a,s,i,o,c,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,M(t.role_id);case 3:return r=e.sent,n=q(q({},t),{},{role:r,deleteAble:!0}),a=\"https://strapi-js.keelola.web.id/api/users/\"+T.id,s=JSON.stringify(n),i={method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+f.token},body:s},e.next=10,fetch(a,i);case 10:return o=e.sent,e.next=13,o.json();case 13:c=e.sent,200===o.status?(v.back(),E.b.success(\"Data Pengguna berhasil diperbarui!\",{position:E.b.POSITION.TOP_RIGHT})):null===(l=c.error)||void 0===l||l.details.errors.map((function(e){E.b.error(\"Tidak dapat memperbarui Pengguna\",{position:E.b.POSITION.TOP_RIGHT})})),p(!1);case 16:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(h.a)(w.a.mark((function e(t){var r,n,a,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=\"https://strapi-js.keelola.web.id/api/users-permissions/roles/\"+t,n={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+f.token}},e.next=4,fetch(r,n);case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,e.abrupt(\"return\",s.role);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(P.a,{children:Object(D.jsx)(\"title\",{children:\"Tambahkan Pengguna\"})}),Object(D.jsx)(_.a,{children:Object(D.jsxs)(I.a,{style:{},children:[Object(D.jsx)(z.a,{titleText:\"Tambahkan Pengguna\"}),Object(D.jsx)(N.a,{children:Object(D.jsxs)(O.a,{form:s,name:\"add_user\",initialValues:{remember:!0},onFinish:J,children:[Object(D.jsxs)(\"div\",{className:\"flex flex-wrap -mx-3 mb-6\",children:[Object(D.jsx)(\"div\",{className:\"w-full md:w-1/3 px-3 mb-2 md:mb-0\",children:Object(D.jsx)(O.a.Item,{initialValue:T.username,name:\"username\",rules:[{required:!0,message:\"Username tidak boleh kosong!\"}],children:Object(D.jsx)(d.a,{disabled:!0,style:{height:\"50px\"},prefix:Object(D.jsx)(j.a,{style:{fontSize:\"150%\"},className:\"site-form-item-icon mr-5\"}),placeholder:\"Username\"})})}),Object(D.jsx)(\"div\",{className:\"w-full md:w-1/3 px-3 mb-2 md:mb-0\",children:Object(D.jsx)(O.a.Item,{initialValue:T.name,name:\"name\",rules:[{required:!0,message:\"Nama tidak boleh kosong!\"}],children:Object(D.jsx)(d.a,{style:{height:\"50px\"},prefix:Object(D.jsx)(j.a,{style:{fontSize:\"150%\"},className:\"site-form-item-icon mr-5\"}),placeholder:\"Nama\"})})}),Object(D.jsx)(\"div\",{className:\"w-full md:w-1/3 px-3 mb-2 md:mb-0\",children:Object(D.jsx)(O.a.Item,{name:\"email\",initialValue:T.email,rules:[{required:!0,message:\"Email tidak boleh kosong!\"}],children:Object(D.jsx)(d.a,{style:{height:\"50px\"},prefix:Object(D.jsx)(u.a,{style:{fontSize:\"150%\"},className:\"site-form-item-icon mr-5\"}),placeholder:\"Email\"})})})]}),Object(D.jsx)(A.a,{data:G,onSelect:m,initialValue:B,errMsg:\"Harap pilih lokasi user\",required:!0}),Object(D.jsx)(O.a.Item,{name:\"role_id\",className:\"w-1/4 mb-5 ml-1\",initialValue:V.id,children:Object(D.jsx)(c.a,{placeholder:\"Role\",children:g.map((function(e){return\"Authenticated\"===e.name||\"Public\"===e.name?Object(D.jsx)(c.a.Option,{hidden:!0,disabled:!0,value:e.id,children:e.name}):Object(D.jsx)(c.a.Option,{value:e.id,children:e.name})}))})}),Object(D.jsx)(O.a.Item,{children:l?Object(D.jsx)(\"div\",{className:\" flex float-left ml-3\",children:Object(D.jsx)(i.a,{})}):Object(D.jsx)(a.a,{htmlType:\"submit\",className:\" hover:text-white hover:bg-cyan-700 border border-cyan-700 ml-1\",children:\"Submit\"})})]})})]})})]})};B.getInitialProps=function(){var e=Object(h.a)(w.a.mark((function e(t){var r,n,a,s,i,o,c,l,u,p;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.a.get(t),n=t.query.id,a=\"https://strapi-js.keelola.web.id/api/users/\"+n+\"?populate=*\",s={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+r.token}},e.next=6,fetch(a,s);case 6:return i=e.sent,e.next=9,i.json();case 9:return o=e.sent,e.next=12,G(r);case 12:return c=e.sent,e.next=15,c.json();case 15:return l=e.sent,e.next=18,J(r,\"/locations\");case 18:return u=e.sent,e.next=21,u.json();case 21:return p=e.sent,e.abrupt(\"return\",{props:{user:o,role:l,locations:p}});case 23:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var G=function(){var e=Object(h.a)(w.a.mark((function e(t){var r,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return\"https://strapi-js.keelola.web.id/api/users-permissions/roles\",r={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+t.token}},e.next=4,fetch(\"https://strapi-js.keelola.web.id/api/users-permissions/roles\",r);case 4:return n=e.sent,e.abrupt(\"return\",n);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(h.a)(w.a.mark((function e(t,r){var n,a,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=\"https://strapi-js.keelola.web.id/api\"+r,a={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+t.token}},e.next=4,fetch(n,a);case 4:return s=e.sent,e.abrupt(\"return\",s);case 6:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.default=B}},[[\"Ubvz\",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,19,30]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/pengguna/edit/[id]-eefedb14e821de526061.js"],"names":["_N_E","window","push","Ubvz","module","exports","__webpack_require__","__NEXT_P","l8Dz","__webpack_exports__","r","antd_lib_button__WEBPACK_IMPORTED_MODULE_0__","antd_lib_button__WEBPACK_IMPORTED_MODULE_0___default","n","antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__","antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default","antd_lib_select__WEBPACK_IMPORTED_MODULE_2__","antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default","_ant_design_icons_lib_icons_MailOutlined__WEBPACK_IMPORTED_MODULE_3__","_ant_design_icons_lib_icons_MailOutlined__WEBPACK_IMPORTED_MODULE_3___default","antd_lib_input__WEBPACK_IMPORTED_MODULE_4__","antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default","_ant_design_icons_lib_icons_UserOutlined__WEBPACK_IMPORTED_MODULE_5__","_ant_design_icons_lib_icons_UserOutlined__WEBPACK_IMPORTED_MODULE_5___default","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__","antd_lib_form__WEBPACK_IMPORTED_MODULE_8__","antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_9__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default","nookies__WEBPACK_IMPORTED_MODULE_11__","nookies__WEBPACK_IMPORTED_MODULE_11___default","react__WEBPACK_IMPORTED_MODULE_12__","next_head__WEBPACK_IMPORTED_MODULE_13__","next_head__WEBPACK_IMPORTED_MODULE_13___default","_iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_14__","_containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_15__","_iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_16__","_components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_17__","react_toastify__WEBPACK_IMPORTED_MODULE_18__","next_router__WEBPACK_IMPORTED_MODULE_19__","_components_Form_Locations__WEBPACK_IMPORTED_MODULE_20__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Edit","_ref","_props$role","props","_Form$useForm","a","useForm","form","_useState","loading","setLoading","_useState2","setSelectLocation","cookies","get","router","role","roles","user","userRole","userLocation","locations","onFinish","_ref2","mark","_callee","values","data","endpoint","JSONdata","options","req","res","_res$error","wrap","_context","prev","next","getRole","role_id","sent","deleteAble","id","JSON","stringify","method","headers","Authorization","token","body","fetch","json","status","back","success","position","POSITION","TOP_RIGHT","error","details","errors","map","stop","_x","this","_ref3","_callee2","roleId","_context2","abrupt","_x2","children","style","titleText","name","initialValues","remember","className","Item","initialValue","username","rules","required","message","disabled","height","prefix","fontSize","placeholder","email","onSelect","errMsg","Option","hidden","value","htmlType","getInitialProps","_ref4","_callee3","context","resRole","reqLocations","resLocations","_context3","query","fetchRole","fetchDataLocation","_x3","_ref5","_callee4","_context4","_x4","_ref6","_callee5","url","_context5","_x5","_x6"],"mappings":"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"},"name":"static/chunks/pages/dashboard/pengguna/edit/[id]-eefedb14e821de526061.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[68],{\n\n/***/ \"Ubvz\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/pengguna/edit/[id]\",\n      function () {\n        return __webpack_require__(\"l8Dz\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"l8Dz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"4IMT\");\n/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"MM9K\");\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"FAat\");\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ant_design_icons_lib_icons_MailOutlined__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"z19R\");\n/* harmony import */ var _ant_design_icons_lib_icons_MailOutlined__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_ant_design_icons_lib_icons_MailOutlined__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"iJl9\");\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ant_design_icons_lib_icons_UserOutlined__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"SNDM\");\n/* harmony import */ var _ant_design_icons_lib_icons_UserOutlined__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_ant_design_icons_lib_icons_UserOutlined__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"rg98\");\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"qu0K\");\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"NyWP\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"kM/w\");\n/* harmony import */ var _containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"0Jbt\");\n/* harmony import */ var _iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"PKTO\");\n/* harmony import */ var _components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"xBBV\");\n/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"FGyW\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _components_Form_Locations__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"0Ize\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__);\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Edit = function Edit(_ref) {\n  var _props$role;\n\n  var props = _ref.props;\n\n  var _Form$useForm = antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default.a.useForm(),\n      _Form$useForm2 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_12__[\"useState\"])(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_12__[\"useState\"])({}),\n      selectLocations = _useState2[0],\n      setSelectLocation = _useState2[1];\n\n  var cookies = nookies__WEBPACK_IMPORTED_MODULE_11___default.a.get(null, \"token\");\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_19__[\"useRouter\"])();\n  var role = props === null || props === void 0 ? void 0 : (_props$role = props.role) === null || _props$role === void 0 ? void 0 : _props$role.roles;\n  var user = props === null || props === void 0 ? void 0 : props.user;\n  var userRole = props === null || props === void 0 ? void 0 : props.user.role;\n  var userLocation = props === null || props === void 0 ? void 0 : props.user.locations;\n  var locations = props === null || props === void 0 ? void 0 : props.locations;\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee(values) {\n      var role, data, endpoint, JSONdata, options, req, res, _res$error;\n\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return getRole(values.role_id);\n\n            case 3:\n              role = _context.sent;\n              data = _objectSpread(_objectSpread({}, values), {}, {\n                role: role,\n                deleteAble: true\n              });\n              endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/users/\" + user.id;\n              JSONdata = JSON.stringify(data);\n              options = {\n                method: \"PUT\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                },\n                body: JSONdata\n              };\n              _context.next = 10;\n              return fetch(endpoint, options);\n\n            case 10:\n              req = _context.sent;\n              _context.next = 13;\n              return req.json();\n\n            case 13:\n              res = _context.sent;\n\n              if (req.status === 200) {\n                router.back();\n                react_toastify__WEBPACK_IMPORTED_MODULE_18__[/* toast */ \"b\"].success(\"Data Pengguna berhasil diperbarui!\", {\n                  position: react_toastify__WEBPACK_IMPORTED_MODULE_18__[/* toast */ \"b\"].POSITION.TOP_RIGHT\n                });\n              } else {\n                (_res$error = res.error) === null || _res$error === void 0 ? void 0 : _res$error.details.errors.map(function (error) {\n                  react_toastify__WEBPACK_IMPORTED_MODULE_18__[/* toast */ \"b\"].error(\"Tidak dapat memperbarui Pengguna\", {\n                    position: react_toastify__WEBPACK_IMPORTED_MODULE_18__[/* toast */ \"b\"].POSITION.TOP_RIGHT\n                  });\n                });\n              }\n\n              setLoading(false);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getRole = /*#__PURE__*/function () {\n    var _ref3 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee2(roleId) {\n      var endpoint, options, req, res;\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/users-permissions/roles/\" + roleId;\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context2.next = 4;\n              return fetch(endpoint, options);\n\n            case 4:\n              req = _context2.sent;\n              _context2.next = 7;\n              return req.json();\n\n            case 7:\n              res = _context2.sent;\n              return _context2.abrupt(\"return\", res.role);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getRole(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(next_head__WEBPACK_IMPORTED_MODULE_13___default.a, {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(\"title\", {\n        children: \"Tambahkan Pengguna\"\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(_containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsxs\"])(_iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"], {\n        style: {},\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(_components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"], {\n          titleText: \"Tambahkan Pengguna\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(_iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsxs\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default.a, {\n            form: form,\n            name: \"add_user\",\n            initialValues: {\n              remember: true\n            },\n            onFinish: onFinish,\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsxs\"])(\"div\", {\n              className: \"flex flex-wrap -mx-3 mb-6\",\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default.a.Item, {\n                  initialValue: user.username,\n                  name: \"username\",\n                  rules: [{\n                    required: true,\n                    message: \"Username tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    disabled: true,\n                    style: {\n                      height: \"50px\"\n                    },\n                    prefix: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(_ant_design_icons_lib_icons_UserOutlined__WEBPACK_IMPORTED_MODULE_5___default.a, {\n                      style: {\n                        fontSize: \"150%\"\n                      },\n                      className: \"site-form-item-icon mr-5\"\n                    }),\n                    placeholder: \"Username\"\n                  })\n                })\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default.a.Item, {\n                  initialValue: user.name,\n                  name: \"name\",\n                  rules: [{\n                    required: true,\n                    message: \"Nama tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    style: {\n                      height: \"50px\"\n                    },\n                    prefix: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(_ant_design_icons_lib_icons_UserOutlined__WEBPACK_IMPORTED_MODULE_5___default.a, {\n                      style: {\n                        fontSize: \"150%\"\n                      },\n                      className: \"site-form-item-icon mr-5\"\n                    }),\n                    placeholder: \"Nama\"\n                  })\n                })\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default.a.Item, {\n                  name: \"email\",\n                  initialValue: user.email,\n                  rules: [{\n                    required: true,\n                    message: \"Email tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_4___default.a, {\n                    style: {\n                      height: \"50px\"\n                    },\n                    prefix: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(_ant_design_icons_lib_icons_MailOutlined__WEBPACK_IMPORTED_MODULE_3___default.a, {\n                      style: {\n                        fontSize: \"150%\"\n                      },\n                      className: \"site-form-item-icon mr-5\"\n                    }),\n                    placeholder: \"Email\"\n                  })\n                })\n              })]\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(_components_Form_Locations__WEBPACK_IMPORTED_MODULE_20__[/* default */ \"a\"], {\n              data: locations,\n              onSelect: setSelectLocation,\n              initialValue: userLocation,\n              errMsg: \"Harap pilih lokasi user\",\n              required: true\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default.a.Item, {\n              name: \"role_id\",\n              className: \"w-1/4 mb-5 ml-1\",\n              initialValue: userRole.id,\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                placeholder: \"Role\",\n                children: role.map(function (role) {\n                  return role.name === \"Authenticated\" || role.name === \"Public\" ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a.Option, {\n                    hidden: true,\n                    disabled: true,\n                    value: role.id,\n                    children: role.name\n                  }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a.Option, {\n                    value: role.id,\n                    children: role.name\n                  });\n                })\n              })\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_8___default.a.Item, {\n              children: loading ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(\"div\", {\n                className: \" flex float-left ml-3\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default.a, {})\n              }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__[\"jsx\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                htmlType: \"submit\",\n                className: \" hover:text-white hover:bg-cyan-700 border border-cyan-700 ml-1\",\n                children: \"Submit\"\n              })\n            })]\n          })\n        })]\n      })\n    })]\n  });\n};\n\nEdit.getInitialProps = /*#__PURE__*/function () {\n  var _ref4 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee3(context) {\n    var cookies, id, endpoint, options, res, user, resRole, role, reqLocations, resLocations;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            cookies = nookies__WEBPACK_IMPORTED_MODULE_11___default.a.get(context);\n            id = context.query.id;\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/users/\" + id + \"?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context3.next = 6;\n            return fetch(endpoint, options);\n\n          case 6:\n            res = _context3.sent;\n            _context3.next = 9;\n            return res.json();\n\n          case 9:\n            user = _context3.sent;\n            _context3.next = 12;\n            return fetchRole(cookies);\n\n          case 12:\n            resRole = _context3.sent;\n            _context3.next = 15;\n            return resRole.json();\n\n          case 15:\n            role = _context3.sent;\n            _context3.next = 18;\n            return fetchDataLocation(cookies, \"/locations\");\n\n          case 18:\n            reqLocations = _context3.sent;\n            _context3.next = 21;\n            return reqLocations.json();\n\n          case 21:\n            resLocations = _context3.sent;\n            return _context3.abrupt(\"return\", {\n              props: {\n                user: user,\n                role: role,\n                locations: resLocations\n              }\n            });\n\n          case 23:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar fetchRole = /*#__PURE__*/function () {\n  var _ref5 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee4(cookies) {\n    var endpoint, options, req;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/users-permissions/roles\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context4.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context4.sent;\n            return _context4.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function fetchRole(_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar fetchDataLocation = /*#__PURE__*/function () {\n  var _ref6 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee5(cookies, url) {\n    var endpoint, options, req;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + url;\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context5.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context5.sent;\n            return _context5.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function fetchDataLocation(_x5, _x6) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Edit);\n\n/***/ })\n\n},[[\"Ubvz\",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,19,30]]]);","inputSourceMap":{"version":3,"sources":["/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fdashboard%2Fpengguna%2Fedit%2F%5Bid%5D&absolutePagePath=private-next-pages%2Fdashboard%2Fpengguna%2Fedit%2F%5Bid%5D.js!","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/pages/dashboard/pengguna/edit/[id].js"],"names":[],"mappings":"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C;AACA,uCAAuC,8DAAI,CAAC,oDAAK;AACjD;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,yCAAyC,8DAAI,CAAC,qDAAM;AACpD;AACA;AACA,qBAAqB;AACrB,yCAAyC,8DAAI,CAAC,+EAAa;AAC3D;AACA;AACA,uBAAuB;AACvB;AACA,qBAAqB;AACrB;AACA,mBAAmB;AACnB,iBAAiB;AACjB,eAAe;AACf,aAAa,gBAAgB,8DAAI,CAAC,2EAAS;AAC3C;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB,8DAAI,CAAC,oDAAK;AACvC;AACA;AACA;AACA,qCAAqC,8DAAI,CAAC,sDAAO;AACjD;AACA;AACA,gGAAgG,8DAAI,CAAC,sDAAO;AAC5G;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB,8DAAI,CAAC,sDAAO;AAChD;AACA;AACA,mBAAmB;AACnB,iBAAiB;AACjB,eAAe;AACf,aAAa,gBAAgB,8DAAI,CAAC,oDAAK;AACvC,+CAA+C,8DAAI;AACnD;AACA,uCAAuC,8DAAI,CAAC,oDAAK,IAAI;AACrD,eAAe,iBAAiB,8DAAI,CAAC,sDAAO;AAC5C;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA;AACA,cAAc,kMAAiB,eAAe,iKAAmB;AACjE;AACA,WAAW,iKAAmB;AAC9B;AACA;AACA;AACA,sBAAsB,+CAAO;AAC7B;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,iKAAmB;AACjE;AACA,WAAW,iKAAmB;AAC9B;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,iKAAmB;AACjE;AACA,WAAW,iKAAmB;AAC9B;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAEc,mEAAI,E","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/pengguna/edit/[id]\",\n      function () {\n        return require(\"private-next-pages/dashboard/pengguna/edit/[id].js\");\n      }\n    ]);\n  ","import _Button from \"antd/lib/button\";\nimport _Spin from \"antd/lib/spin\";\nimport _Select from \"antd/lib/select\";\nimport _MailOutlined from \"@ant-design/icons/lib/icons/MailOutlined\";\nimport _Input from \"antd/lib/input\";\nimport _UserOutlined from \"@ant-design/icons/lib/icons/UserOutlined\";\nimport _defineProperty from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport nookies from \"nookies\";\nimport { useState } from \"react\";\nimport Head from \"next/head\";\nimport LayoutContent from \"@iso/components/utility/layoutContent\";\nimport DashboardLayout from \"../../../../containers/DashboardLayout/DashboardLayout\";\nimport LayoutWrapper from \"@iso/components/utility/layoutWrapper.js\";\nimport TitlePage from \"../../../../components/TitlePage/TitlePage\";\nimport { toast } from \"react-toastify\";\nimport { useRouter } from \"next/router\";\nimport Locations from \"../../../../components/Form/Locations\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar Edit = function Edit(_ref) {\n  var _props$role;\n\n  var props = _ref.props;\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState({}),\n      selectLocations = _useState2[0],\n      setSelectLocation = _useState2[1];\n\n  var cookies = nookies.get(null, \"token\");\n  var router = useRouter();\n  var role = props === null || props === void 0 ? void 0 : (_props$role = props.role) === null || _props$role === void 0 ? void 0 : _props$role.roles;\n  var user = props === null || props === void 0 ? void 0 : props.user;\n  var userRole = props === null || props === void 0 ? void 0 : props.user.role;\n  var userLocation = props === null || props === void 0 ? void 0 : props.user.locations;\n  var locations = props === null || props === void 0 ? void 0 : props.locations;\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var role, data, endpoint, JSONdata, options, req, res, _res$error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return getRole(values.role_id);\n\n            case 3:\n              role = _context.sent;\n              data = _objectSpread(_objectSpread({}, values), {}, {\n                role: role,\n                deleteAble: true\n              });\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/users/\" + user.id;\n              JSONdata = JSON.stringify(data);\n              options = {\n                method: \"PUT\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                },\n                body: JSONdata\n              };\n              _context.next = 10;\n              return fetch(endpoint, options);\n\n            case 10:\n              req = _context.sent;\n              _context.next = 13;\n              return req.json();\n\n            case 13:\n              res = _context.sent;\n\n              if (req.status === 200) {\n                router.back();\n                toast.success(\"Data Pengguna berhasil diperbarui!\", {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n              } else {\n                (_res$error = res.error) === null || _res$error === void 0 ? void 0 : _res$error.details.errors.map(function (error) {\n                  toast.error(\"Tidak dapat memperbarui Pengguna\", {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                });\n              }\n\n              setLoading(false);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getRole = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(roleId) {\n      var endpoint, options, req, res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/users-permissions/roles/\" + roleId;\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context2.next = 4;\n              return fetch(endpoint, options);\n\n            case 4:\n              req = _context2.sent;\n              _context2.next = 7;\n              return req.json();\n\n            case 7:\n              res = _context2.sent;\n              return _context2.abrupt(\"return\", res.role);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getRole(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Tambahkan Pengguna\"\n      })\n    }), /*#__PURE__*/_jsx(DashboardLayout, {\n      children: /*#__PURE__*/_jsxs(LayoutWrapper, {\n        style: {},\n        children: [/*#__PURE__*/_jsx(TitlePage, {\n          titleText: \"Tambahkan Pengguna\"\n        }), /*#__PURE__*/_jsx(LayoutContent, {\n          children: /*#__PURE__*/_jsxs(_Form, {\n            form: form,\n            name: \"add_user\",\n            initialValues: {\n              remember: true\n            },\n            onFinish: onFinish,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-wrap -mx-3 mb-6\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  initialValue: user.username,\n                  name: \"username\",\n                  rules: [{\n                    required: true,\n                    message: \"Username tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    disabled: true,\n                    style: {\n                      height: \"50px\"\n                    },\n                    prefix: /*#__PURE__*/_jsx(_UserOutlined, {\n                      style: {\n                        fontSize: \"150%\"\n                      },\n                      className: \"site-form-item-icon mr-5\"\n                    }),\n                    placeholder: \"Username\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  initialValue: user.name,\n                  name: \"name\",\n                  rules: [{\n                    required: true,\n                    message: \"Nama tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    style: {\n                      height: \"50px\"\n                    },\n                    prefix: /*#__PURE__*/_jsx(_UserOutlined, {\n                      style: {\n                        fontSize: \"150%\"\n                      },\n                      className: \"site-form-item-icon mr-5\"\n                    }),\n                    placeholder: \"Nama\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"email\",\n                  initialValue: user.email,\n                  rules: [{\n                    required: true,\n                    message: \"Email tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    style: {\n                      height: \"50px\"\n                    },\n                    prefix: /*#__PURE__*/_jsx(_MailOutlined, {\n                      style: {\n                        fontSize: \"150%\"\n                      },\n                      className: \"site-form-item-icon mr-5\"\n                    }),\n                    placeholder: \"Email\"\n                  })\n                })\n              })]\n            }), /*#__PURE__*/_jsx(Locations, {\n              data: locations,\n              onSelect: setSelectLocation,\n              initialValue: userLocation,\n              errMsg: \"Harap pilih lokasi user\",\n              required: true\n            }), /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"role_id\",\n              className: \"w-1/4 mb-5 ml-1\",\n              initialValue: userRole.id,\n              children: /*#__PURE__*/_jsx(_Select, {\n                placeholder: \"Role\",\n                children: role.map(function (role) {\n                  return role.name === \"Authenticated\" || role.name === \"Public\" ? /*#__PURE__*/_jsx(_Select.Option, {\n                    hidden: true,\n                    disabled: true,\n                    value: role.id,\n                    children: role.name\n                  }) : /*#__PURE__*/_jsx(_Select.Option, {\n                    value: role.id,\n                    children: role.name\n                  });\n                })\n              })\n            }), /*#__PURE__*/_jsx(_Form.Item, {\n              children: loading ? /*#__PURE__*/_jsx(\"div\", {\n                className: \" flex float-left ml-3\",\n                children: /*#__PURE__*/_jsx(_Spin, {})\n              }) : /*#__PURE__*/_jsx(_Button, {\n                htmlType: \"submit\",\n                className: \" hover:text-white hover:bg-cyan-700 border border-cyan-700 ml-1\",\n                children: \"Submit\"\n              })\n            })]\n          })\n        })]\n      })\n    })]\n  });\n};\n\nEdit.getInitialProps = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(context) {\n    var cookies, id, endpoint, options, res, user, resRole, role, reqLocations, resLocations;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            cookies = nookies.get(context);\n            id = context.query.id;\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/users/\" + id + \"?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context3.next = 6;\n            return fetch(endpoint, options);\n\n          case 6:\n            res = _context3.sent;\n            _context3.next = 9;\n            return res.json();\n\n          case 9:\n            user = _context3.sent;\n            _context3.next = 12;\n            return fetchRole(cookies);\n\n          case 12:\n            resRole = _context3.sent;\n            _context3.next = 15;\n            return resRole.json();\n\n          case 15:\n            role = _context3.sent;\n            _context3.next = 18;\n            return fetchDataLocation(cookies, \"/locations\");\n\n          case 18:\n            reqLocations = _context3.sent;\n            _context3.next = 21;\n            return reqLocations.json();\n\n          case 21:\n            resLocations = _context3.sent;\n            return _context3.abrupt(\"return\", {\n              props: {\n                user: user,\n                role: role,\n                locations: resLocations\n              }\n            });\n\n          case 23:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar fetchRole = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(cookies) {\n    var endpoint, options, req;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/users-permissions/roles\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context4.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context4.sent;\n            return _context4.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function fetchRole(_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar fetchDataLocation = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(cookies, url) {\n    var endpoint, options, req;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + url;\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context5.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context5.sent;\n            return _context5.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function fetchDataLocation(_x5, _x6) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nexport default Edit;"]}}