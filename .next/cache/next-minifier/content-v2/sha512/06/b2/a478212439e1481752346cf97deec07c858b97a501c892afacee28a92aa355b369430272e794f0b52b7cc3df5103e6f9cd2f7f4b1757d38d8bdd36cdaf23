{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[89],{Mdum:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/produk/subkategori\",function(){return n(\"nNUm\")}])},nNUm:function(e,t,n){\"use strict\";n.r(t);var a=n(\"rg98\"),r=n(\"iJl9\"),s=n.n(r),o=n(\"vJKn\"),c=n.n(o),u=n(\"g4pe\"),i=n.n(u),p=n(\"q1tI\"),l=n(\"kM/w\"),h=n(\"PKTO\"),d=n(\"20a2\"),b=n(\"FGyW\"),f=n(\"NyWP\"),j=n.n(f),x=n(\"0Jbt\"),g=n(\"QoXh\"),k=n(\"xBBV\"),v=n(\"nKUr\"),w=function(e){var t=e.props.data,n=Object(p.useState)(t),r=n[0],o=n[1],u=Object(p.useState)(!1),f=u[0],w=u[1],O=Object(d.useRouter)(),y=s.a.Search,T=function(){var e=Object(a.a)(c.a.mark((function e(n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.target.value.length>=2)){e.next=12;break}return w(!0),e.next=4,_(n.target.value);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,o(r),w(!1),e.next=14;break;case 12:o(t),w(!1);case 14:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=\"https://js-strapi.keelola.net/api/sub-categories?filters[$or][0][name][$contains]=\"+t+\"&filters[$or][1][sub_id][$contains]=\"+t+\"&populate=*\",a=j.a.get(null,\"token\"),r={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+a.token}},e.next=5,fetch(n,r);case 5:return s=e.sent,e.abrupt(\"return\",s);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a,r,s,u,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=\"https://js-strapi.keelola.net/api/sub-categories/\"+t,a=j.a.get(null,\"token\"),r={method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+a.token}},e.next=5,fetch(n,r);case 5:return s=e.sent,e.next=8,s.json();case 8:if(!e.sent){e.next=18;break}return e.next=12,m(a);case 12:return u=e.sent,e.next=15,u.json();case 15:i=e.sent,b.b.success(\"Satuan berhasil dihapus\"),o(i);case 18:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a,r,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j.a.get(null,\"token\"),a=\"https://js-strapi.keelola.net/api/sub-categories?pagination[page]=\"+t,r={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+n.token}},e.prev=3,e.next=6,fetch(a,r);case 6:return s=e.sent,e.next=9,s.json();case 9:(u=e.sent)?o((function(e){return{data:C(e.data.concat(u.data)),meta:e.meta}})):console.log(\"something is wrong\"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case\"end\":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=new Set;return e.filter((function(e){var n=t.has(e.id);return t.add(e.id),!n}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.a,{children:Object(v.jsx)(\"title\",{children:\"Sub Kategori Produk\"})}),Object(v.jsx)(x.a,{children:Object(v.jsxs)(h.a,{style:{},children:[Object(v.jsx)(k.a,{titleText:\"Sub Kategori\"}),Object(v.jsxs)(l.a,{children:[Object(v.jsxs)(\"div\",{children:[Object(v.jsx)(y,{loading:f,onChange:function(e){return T(e)},placeholder:\"Cari Sub Kategori\",style:{width:200}}),Object(v.jsx)(\"button\",{onClick:function(){O.push(\"/dashboard/produk/subkategori/tambah\")},type:\"button\",className:\"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5\",children:Object(v.jsx)(\"div\",{className:\"text-white text-center text-sm font-bold\",children:Object(v.jsx)(\"a\",{className:\"text-white no-underline text-xs sm:text-xs\",children:\"+ Tambah\"})})})]}),Object(v.jsx)(g.a,{categoryData:r,onDelete:E,onUpdate:function(e){O.push(\"/dashboard/produk/subkategori/edit/\"+e)},onPageChange:N,isSubCategory:!0})]})]})})]})};w.getInitialProps=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j.a.get(t),e.next=3,m(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt(\"return\",{props:{data:a}});case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var m=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return\"https://js-strapi.keelola.net/api/sub-categories?populate=*\",n={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+t.token}},e.next=4,fetch(\"https://js-strapi.keelola.net/api/sub-categories?populate=*\",n);case 4:return a=e.sent,e.abrupt(\"return\",a);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=w}},[[\"Mdum\",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,16,17,18,33]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/produk/subkategori-729ca8c2544e7f8a6daf.js"],"names":["_N_E","window","push","Mdum","module","exports","__webpack_require__","__NEXT_P","nNUm","__webpack_exports__","r","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","antd_lib_input__WEBPACK_IMPORTED_MODULE_1__","antd_lib_input__WEBPACK_IMPORTED_MODULE_1___default","n","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","next_head__WEBPACK_IMPORTED_MODULE_3__","next_head__WEBPACK_IMPORTED_MODULE_3___default","react__WEBPACK_IMPORTED_MODULE_4__","_iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_5__","_iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_6__","next_router__WEBPACK_IMPORTED_MODULE_7__","react_toastify__WEBPACK_IMPORTED_MODULE_8__","nookies__WEBPACK_IMPORTED_MODULE_9__","nookies__WEBPACK_IMPORTED_MODULE_9___default","_containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_10__","_components_ReactDataTable_CategoryTable__WEBPACK_IMPORTED_MODULE_11__","_components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_12__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__","SubKategori","_ref","data","props","_useState","Object","category","setCategory","_useState2","isSearching","setIsSearching","router","Search","a","onSearch","_ref2","mark","_callee","e","req","res","wrap","_context","prev","next","target","value","length","searchQuery","sent","json","stop","_x","apply","this","arguments","_ref3","_callee2","keywords","endpoint","cookies","options","_context2","get","method","headers","Authorization","token","fetch","abrupt","_x2","handleDelete","_ref4","_callee3","id","_req","_res","_context3","fetchData","success","_x3","handlePageChange","_ref5","_callee4","page","_context4","prevData","filterDuplicateData","concat","meta","console","log","t0","_x4","arr","seen","Set","filter","el","duplicate","has","add","children","style","titleText","loading","onChange","placeholder","width","onClick","type","className","categoryData","onDelete","onUpdate","onPageChange","isSubCategory","getInitialProps","_ref6","_callee5","context","_context5","_x5","_ref7","_callee6","_context6","_x6"],"mappings":"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"},"name":"static/chunks/pages/dashboard/produk/subkategori-729ca8c2544e7f8a6daf.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[89],{\n\n/***/ \"Mdum\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/produk/subkategori\",\n      function () {\n        return __webpack_require__(\"nNUm\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"nNUm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"rg98\");\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"iJl9\");\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"kM/w\");\n/* harmony import */ var _iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"PKTO\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"FGyW\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"NyWP\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"0Jbt\");\n/* harmony import */ var _components_ReactDataTable_CategoryTable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"QoXh\");\n/* harmony import */ var _components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"xBBV\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar SubKategori = function SubKategori(_ref) {\n  var props = _ref.props;\n  var data = props.data;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(data),\n      category = _useState[0],\n      setCategory = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),\n      isSearching = _useState2[0],\n      setIsSearching = _useState2[1];\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_7__[\"useRouter\"])();\n  var Search = antd_lib_input__WEBPACK_IMPORTED_MODULE_1___default.a.Search;\n\n  var onSearch = /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(e) {\n      var req, res;\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(e.target.value.length >= 2)) {\n                _context.next = 12;\n                break;\n              }\n\n              setIsSearching(true);\n              _context.next = 4;\n              return searchQuery(e.target.value);\n\n            case 4:\n              req = _context.sent;\n              _context.next = 7;\n              return req.json();\n\n            case 7:\n              res = _context.sent;\n              setCategory(res);\n              setIsSearching(false);\n              _context.next = 14;\n              break;\n\n            case 12:\n              setCategory(data);\n              setIsSearching(false);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSearch(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var searchQuery = /*#__PURE__*/function () {\n    var _ref3 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(keywords) {\n      var endpoint, cookies, options, req;\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              endpoint = \"https://js-strapi.keelola.net/api\" + \"/sub-categories?filters[$or][0][name][$contains]=\" + keywords + \"&filters[$or][1][sub_id][$contains]=\" + keywords + \"&populate=*\";\n              cookies = nookies__WEBPACK_IMPORTED_MODULE_9___default.a.get(null, \"token\");\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context2.next = 5;\n              return fetch(endpoint, options);\n\n            case 5:\n              req = _context2.sent;\n              return _context2.abrupt(\"return\", req);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function searchQuery(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleAddSubCategory = function handleAddSubCategory() {\n    router.push(\"/dashboard/produk/subkategori/tambah\");\n  };\n\n  var handleUpdateSubCategory = function handleUpdateSubCategory(id) {\n    router.push(\"/dashboard/produk/subkategori/edit/\" + id);\n  };\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref4 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3(id) {\n      var endpoint, cookies, options, req, res, _req, _res;\n\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              endpoint = \"https://js-strapi.keelola.net/api\" + \"/sub-categories/\" + id;\n              cookies = nookies__WEBPACK_IMPORTED_MODULE_9___default.a.get(null, \"token\");\n              options = {\n                method: \"DELETE\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context3.next = 5;\n              return fetch(endpoint, options);\n\n            case 5:\n              req = _context3.sent;\n              _context3.next = 8;\n              return req.json();\n\n            case 8:\n              res = _context3.sent;\n\n              if (!res) {\n                _context3.next = 18;\n                break;\n              }\n\n              _context3.next = 12;\n              return fetchData(cookies);\n\n            case 12:\n              _req = _context3.sent;\n              _context3.next = 15;\n              return _req.json();\n\n            case 15:\n              _res = _context3.sent;\n              react_toastify__WEBPACK_IMPORTED_MODULE_8__[/* toast */ \"b\"].success(\"Satuan berhasil dihapus\");\n              setCategory(_res);\n\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleDelete(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handlePageChange = /*#__PURE__*/function () {\n    var _ref5 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee4(page) {\n      var cookies, endpoint, options, req, res;\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              cookies = nookies__WEBPACK_IMPORTED_MODULE_9___default.a.get(null, \"token\");\n              endpoint = \"https://js-strapi.keelola.net/api\" + \"/sub-categories?pagination[page]=\" + page;\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context4.prev = 3;\n              _context4.next = 6;\n              return fetch(endpoint, options);\n\n            case 6:\n              req = _context4.sent;\n              _context4.next = 9;\n              return req.json();\n\n            case 9:\n              res = _context4.sent;\n\n              if (res) {\n                setCategory(function (prevData) {\n                  return {\n                    data: filterDuplicateData(prevData.data.concat(res.data)),\n                    meta: prevData.meta\n                  };\n                });\n              } else {\n                console.log(\"something is wrong\");\n              }\n\n              _context4.next = 16;\n              break;\n\n            case 13:\n              _context4.prev = 13;\n              _context4.t0 = _context4[\"catch\"](3);\n              console.log(_context4.t0);\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[3, 13]]);\n    }));\n\n    return function handlePageChange(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var filterDuplicateData = function filterDuplicateData(arr) {\n    var seen = new Set();\n    var filteredArr = arr.filter(function (el) {\n      var duplicate = seen.has(el.id);\n      seen.add(el.id);\n      return !duplicate;\n    });\n    return filteredArr;\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(next_head__WEBPACK_IMPORTED_MODULE_3___default.a, {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"title\", {\n        children: \"Sub Kategori Produk\"\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(_iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n        style: {},\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n          titleText: \"Sub Kategori\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(_iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"div\", {\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(Search, {\n              loading: isSearching,\n              onChange: function onChange(e) {\n                return onSearch(e);\n              },\n              placeholder: \"Cari Sub Kategori\",\n              style: {\n                width: 200\n              }\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"button\", {\n              onClick: handleAddSubCategory,\n              type: \"button\",\n              className: \"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"div\", {\n                className: \"text-white text-center text-sm font-bold\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"a\", {\n                  className: \"text-white no-underline text-xs sm:text-xs\",\n                  children: \"+ Tambah\"\n                })\n              })\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_components_ReactDataTable_CategoryTable__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], {\n            categoryData: category,\n            onDelete: handleDelete,\n            onUpdate: handleUpdateSubCategory,\n            onPageChange: handlePageChange,\n            isSubCategory: true\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nSubKategori.getInitialProps = /*#__PURE__*/function () {\n  var _ref6 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee5(context) {\n    var cookies, data, req;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            cookies = nookies__WEBPACK_IMPORTED_MODULE_9___default.a.get(context);\n            _context5.next = 3;\n            return fetchData(cookies);\n\n          case 3:\n            req = _context5.sent;\n            _context5.next = 6;\n            return req.json();\n\n          case 6:\n            data = _context5.sent;\n            return _context5.abrupt(\"return\", {\n              props: {\n                data: data\n              }\n            });\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function (_x5) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar fetchData = /*#__PURE__*/function () {\n  var _ref7 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee6(cookies) {\n    var endpoint, options, req;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_ERP_Sejati_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            endpoint = \"https://js-strapi.keelola.net/api\" + \"/sub-categories?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context6.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context6.sent;\n            return _context6.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function fetchData(_x6) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SubKategori);\n\n/***/ })\n\n},[[\"Mdum\",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,16,17,18,33]]]);","inputSourceMap":{"version":3,"sources":["/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fdashboard%2Fproduk%2Fsubkategori&absolutePagePath=private-next-pages%2Fdashboard%2Fproduk%2Fsubkategori%2Findex.js!","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/pages/dashboard/produk/subkategori/index.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA0D;AACjF;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6K;AACzI;AAC0H;AACjI;AACW;AAC0B;AACG;AAC7B;AACD;AACT;AACuD;AACL;AACb;AACnB;AACE;AACQ;;AAE1D;AACA;AACA;;AAEA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,eAAe,6DAAS;AACxB,eAAe,qDAAM;;AAErB;AACA,gBAAgB,mMAAiB,eAAe,iKAAmB;AACnE;AACA,aAAa,iKAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,mMAAiB,eAAe,iKAAmB;AACnE;AACA,aAAa,iKAAmB;AAChC;AACA;AACA;AACA,yBAAyB,mCAA2B;AACpD,wBAAwB,8CAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,mMAAiB,eAAe,iKAAmB;AACnE;;AAEA,aAAa,iKAAmB;AAChC;AACA;AACA;AACA,yBAAyB,mCAA2B;AACpD,wBAAwB,8CAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,4DAAK;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,mMAAiB,eAAe,iKAAmB;AACnE;AACA,aAAa,iKAAmB;AAChC;AACA;AACA;AACA,wBAAwB,8CAAO;AAC/B,yBAAyB,mCAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,eAAe;AACf;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,sBAAsB,+DAAK,CAAC,2DAAS;AACrC,4BAA4B,8DAAI,CAAC,gDAAI;AACrC,6BAA6B,8DAAI;AACjC;AACA,OAAO;AACP,KAAK,gBAAgB,8DAAI,CAAC,4FAAe;AACzC,6BAA6B,+DAAK,CAAC,wFAAa;AAChD,iBAAiB;AACjB,gCAAgC,8DAAI,CAAC,gFAAS;AAC9C;AACA,SAAS,gBAAgB,+DAAK,CAAC,qFAAa;AAC5C,kCAAkC,+DAAK;AACvC,oCAAoC,8DAAI;AACxC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,aAAa,gBAAgB,8DAAI;AACjC;AACA;AACA;AACA,qCAAqC,8DAAI;AACzC;AACA,uCAAuC,8DAAI;AAC3C;AACA;AACA,iBAAiB;AACjB,eAAe;AACf,aAAa;AACb,WAAW,gBAAgB,8DAAI,CAAC,yFAAa;AAC7C;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA;AACA,cAAc,mMAAiB,eAAe,iKAAmB;AACjE;AACA,WAAW,iKAAmB;AAC9B;AACA;AACA;AACA,sBAAsB,8CAAO;AAC7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,mMAAiB,eAAe,iKAAmB;AACjE;AACA,WAAW,iKAAmB;AAC9B;AACA;AACA;AACA,uBAAuB,mCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAEc,0EAAW,E","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/produk/subkategori\",\n      function () {\n        return require(\"private-next-pages/dashboard/produk/subkategori/index.js\");\n      }\n    ]);\n  ","import _asyncToGenerator from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _Input from \"antd/lib/input\";\nimport _regeneratorRuntime from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport Head from \"next/head\";\nimport React, { useState } from \"react\";\nimport LayoutContent from \"@iso/components/utility/layoutContent\";\nimport LayoutWrapper from \"@iso/components/utility/layoutWrapper.js\";\nimport { useRouter } from \"next/router\";\nimport { toast } from \"react-toastify\";\nimport nookies from \"nookies\";\nimport DashboardLayout from \"../../../../containers/DashboardLayout/DashboardLayout\";\nimport CategoryTable from \"../../../../components/ReactDataTable/CategoryTable\";\nimport TitlePage from \"../../../../components/TitlePage/TitlePage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar SubKategori = function SubKategori(_ref) {\n  var props = _ref.props;\n  var data = props.data;\n\n  var _useState = useState(data),\n      category = _useState[0],\n      setCategory = _useState[1];\n\n  var _useState2 = useState(false),\n      isSearching = _useState2[0],\n      setIsSearching = _useState2[1];\n\n  var router = useRouter();\n  var Search = _Input.Search;\n\n  var onSearch = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var req, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(e.target.value.length >= 2)) {\n                _context.next = 12;\n                break;\n              }\n\n              setIsSearching(true);\n              _context.next = 4;\n              return searchQuery(e.target.value);\n\n            case 4:\n              req = _context.sent;\n              _context.next = 7;\n              return req.json();\n\n            case 7:\n              res = _context.sent;\n              setCategory(res);\n              setIsSearching(false);\n              _context.next = 14;\n              break;\n\n            case 12:\n              setCategory(data);\n              setIsSearching(false);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSearch(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var searchQuery = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(keywords) {\n      var endpoint, cookies, options, req;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/sub-categories?filters[$or][0][name][$contains]=\" + keywords + \"&filters[$or][1][sub_id][$contains]=\" + keywords + \"&populate=*\";\n              cookies = nookies.get(null, \"token\");\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context2.next = 5;\n              return fetch(endpoint, options);\n\n            case 5:\n              req = _context2.sent;\n              return _context2.abrupt(\"return\", req);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function searchQuery(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleAddSubCategory = function handleAddSubCategory() {\n    router.push(\"/dashboard/produk/subkategori/tambah\");\n  };\n\n  var handleUpdateSubCategory = function handleUpdateSubCategory(id) {\n    router.push(\"/dashboard/produk/subkategori/edit/\" + id);\n  };\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n      var endpoint, cookies, options, req, res, _req, _res;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/sub-categories/\" + id;\n              cookies = nookies.get(null, \"token\");\n              options = {\n                method: \"DELETE\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context3.next = 5;\n              return fetch(endpoint, options);\n\n            case 5:\n              req = _context3.sent;\n              _context3.next = 8;\n              return req.json();\n\n            case 8:\n              res = _context3.sent;\n\n              if (!res) {\n                _context3.next = 18;\n                break;\n              }\n\n              _context3.next = 12;\n              return fetchData(cookies);\n\n            case 12:\n              _req = _context3.sent;\n              _context3.next = 15;\n              return _req.json();\n\n            case 15:\n              _res = _context3.sent;\n              toast.success(\"Satuan berhasil dihapus\");\n              setCategory(_res);\n\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleDelete(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handlePageChange = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(page) {\n      var cookies, endpoint, options, req, res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              cookies = nookies.get(null, \"token\");\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/sub-categories?pagination[page]=\" + page;\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context4.prev = 3;\n              _context4.next = 6;\n              return fetch(endpoint, options);\n\n            case 6:\n              req = _context4.sent;\n              _context4.next = 9;\n              return req.json();\n\n            case 9:\n              res = _context4.sent;\n\n              if (res) {\n                setCategory(function (prevData) {\n                  return {\n                    data: filterDuplicateData(prevData.data.concat(res.data)),\n                    meta: prevData.meta\n                  };\n                });\n              } else {\n                console.log(\"something is wrong\");\n              }\n\n              _context4.next = 16;\n              break;\n\n            case 13:\n              _context4.prev = 13;\n              _context4.t0 = _context4[\"catch\"](3);\n              console.log(_context4.t0);\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[3, 13]]);\n    }));\n\n    return function handlePageChange(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var filterDuplicateData = function filterDuplicateData(arr) {\n    var seen = new Set();\n    var filteredArr = arr.filter(function (el) {\n      var duplicate = seen.has(el.id);\n      seen.add(el.id);\n      return !duplicate;\n    });\n    return filteredArr;\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Sub Kategori Produk\"\n      })\n    }), /*#__PURE__*/_jsx(DashboardLayout, {\n      children: /*#__PURE__*/_jsxs(LayoutWrapper, {\n        style: {},\n        children: [/*#__PURE__*/_jsx(TitlePage, {\n          titleText: \"Sub Kategori\"\n        }), /*#__PURE__*/_jsxs(LayoutContent, {\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            children: [/*#__PURE__*/_jsx(Search, {\n              loading: isSearching,\n              onChange: function onChange(e) {\n                return onSearch(e);\n              },\n              placeholder: \"Cari Sub Kategori\",\n              style: {\n                width: 200\n              }\n            }), /*#__PURE__*/_jsx(\"button\", {\n              onClick: handleAddSubCategory,\n              type: \"button\",\n              className: \"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"text-white text-center text-sm font-bold\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  className: \"text-white no-underline text-xs sm:text-xs\",\n                  children: \"+ Tambah\"\n                })\n              })\n            })]\n          }), /*#__PURE__*/_jsx(CategoryTable, {\n            categoryData: category,\n            onDelete: handleDelete,\n            onUpdate: handleUpdateSubCategory,\n            onPageChange: handlePageChange,\n            isSubCategory: true\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nSubKategori.getInitialProps = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(context) {\n    var cookies, data, req;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            cookies = nookies.get(context);\n            _context5.next = 3;\n            return fetchData(cookies);\n\n          case 3:\n            req = _context5.sent;\n            _context5.next = 6;\n            return req.json();\n\n          case 6:\n            data = _context5.sent;\n            return _context5.abrupt(\"return\", {\n              props: {\n                data: data\n              }\n            });\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function (_x5) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar fetchData = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(cookies) {\n    var endpoint, options, req;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/sub-categories?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context6.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context6.sent;\n            return _context6.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function fetchData(_x6) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nexport default SubKategori;"]}}