{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[101],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return E}));var r=n(\"ATwu\"),a=n.n(r),s=n(\"MM9K\"),c=n.n(s),o=n(\"cpVT\"),i=n(\"rg98\"),u=n(\"qu0K\"),l=n.n(u),p=n(\"xvhg\"),d=n(\"vJKn\"),j=n.n(d),b=n(\"q1tI\"),m=n(\"/MKj\"),f=n(\"20a2\"),h=n(\"7I1n\"),O=n(\"QCuh\"),v=n(\"+i/H\"),w=n(\"w+U0\"),y=n(\"4CJn\"),g=n(\"NyWP\"),x=n.n(g),S=n(\"nKUr\");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}w.a.login;function E(e){Object(m.c)();var t=l.a.useForm(),n=Object(p.a)(t,1)[0],r=Object(f.useRouter)(),s=Object(b.useState)(!1),u=s[0],d=s[1],w=Object(b.useState)(!1),g=w[0],N=w[1],E=Object(b.useState)(\"Username atau Password salah\"),k=(E[0],E[1]),_=Object(b.useState)({}),C=_[0],T=_[1],D=function(){var e=Object(i.a)(j.a.mark((function e(t){var n,a,s,c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!1),d(!0),n={identifier:C.username,password:C.password},a=JSON.stringify(n),\"https://strapi-js.keelola.web.id/api/auth/local\",s={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:a},e.prev=7,e.next=10,fetch(\"https://strapi-js.keelola.web.id/api/auth/local\",s);case 10:return c=e.sent,e.next=13,c.json();case 13:if(o=e.sent,console.log(o),!o.jwt){e.next=24;break}return x.a.set(null,\"token\",o.jwt,{maxAge:60,path:\"/\",secure:!0,sameSite:\"strict\"}),e.next=19,I(o.jwt);case 19:i=e.sent,x.a.set(null,\"role\",i,{maxAge:60,path:\"/\",secure:!0,sameSite:\"strict\"}),r.replace(\"/dashboard\"),e.next=25;break;case 24:N(!0);case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(7),N(!0),k(\"Kesalahan Pada Server. Silahkan cek kembali\");case 31:d(!1);case 32:case\"end\":return e.stop()}}),e,null,[[7,27]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(j.a.mark((function e(t){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return\"https://strapi-js.keelola.web.id/api/users/me?populate=role\",n={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+t}},e.next=4,fetch(\"https://strapi-js.keelola.web.id/api/users/me?populate=role\",n);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,console.log(a),e.abrupt(\"return\",a.role.name);case 10:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function U(e){var t=e.target,n=t.name,r=t.value;T(P(P({},C),{},Object(o.a)({},n,r)))}return Object(S.jsx)(l.a,{form:n,name:\"add_order\",initialValues:{remember:!0},onFinish:D,children:Object(S.jsx)(y.a,{className:\"isoSignInPage\",children:Object(S.jsx)(\"div\",{className:\"isoLoginContentWrapper\",children:Object(S.jsx)(\"div\",{className:\"isoLoginContent\",children:Object(S.jsxs)(\"div\",{className:\"isoSignInForm\",children:[Object(S.jsx)(\"div\",{className:\"font-bold text-lg p-3\",children:Object(S.jsx)(\"center\",{children:\"LOGIN\"})}),Object(S.jsx)(\"div\",{className:\"isoInputWrapper\",children:Object(S.jsx)(h.c,{onChange:U,name:\"username\",id:\"inputUserName\",size:\"large\",placeholder:\"Username\"})}),Object(S.jsx)(\"div\",{className:\"isoInputWrapper\",children:Object(S.jsx)(h.c,{onChange:U,id:\"inpuPassword\",size:\"large\",name:\"password\",type:\"password\",placeholder:\"Password\"})}),Object(S.jsx)(\"div\",{className:\"isoInputWrapper isoLeftRightComponent\",children:u?Object(S.jsx)(\"div\",{className:\"center\",children:Object(S.jsx)(c.a,{})}):Object(S.jsx)(O.a,{htmlType:\"submit\",className:\"bg-blue-400 text-white w-full hover:bg-blue-600\",onClick:D,children:Object(S.jsx)(v.a,{id:\"page.signInButton\"})})}),g?Object(S.jsx)(a.a,{message:\"Login Error\",description:\"Username atau Password salah\",type:\"error\",closable:!0,onClose:function(e){console.log(e,\"I was closed.\")}}):Object(S.jsx)(\"div\",{})]})})})})})}},UMre:function(e,t,n){\"use strict\";var r=n(\"TqRt\").default;Object.defineProperty(t,\"__esModule\",{value:!0}),t.isStyleSupport=function(e,t){if(!Array.isArray(e)&&void 0!==t)return function(e,t){if(!s(e))return!1;var n=document.createElement(\"div\"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t);return s(e)};var a=r(n(\"3Mug\")),s=function(e){if((0,a.default)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1}},cBho:function(e,t,n){\"use strict\";var r=n(\"TqRt\").default;Object.defineProperty(t,\"__esModule\",{value:!0}),t.detectFlexGapSupported=t.canUseDocElement=void 0,Object.defineProperty(t,\"isStyleSupport\",{enumerable:!0,get:function(){return c.isStyleSupport}});var a,s=r(n(\"3Mug\")),c=n(\"UMre\"),o=function(){return(0,s.default)()&&window.document.documentElement};t.canUseDocElement=o;t.detectFlexGapSupported=function(){if(!o())return!1;if(void 0!==a)return a;var e=document.createElement(\"div\");return e.style.display=\"flex\",e.style.flexDirection=\"column\",e.style.rowGap=\"1px\",e.appendChild(document.createElement(\"div\")),e.appendChild(document.createElement(\"div\")),document.body.appendChild(e),a=1===e.scrollHeight,document.body.removeChild(e),a}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,1,2,3,4,5,6,7,9,10,15,34]]]);","map":{"version":3,"sources":["static/chunks/pages/index-8912424587b8e2069266.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","SignInPage","antd_lib_alert__WEBPACK_IMPORTED_MODULE_0__","antd_lib_alert__WEBPACK_IMPORTED_MODULE_0___default","n","antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__","antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","antd_lib_form__WEBPACK_IMPORTED_MODULE_4__","antd_lib_form__WEBPACK_IMPORTED_MODULE_4___default","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default","react__WEBPACK_IMPORTED_MODULE_7__","react_redux__WEBPACK_IMPORTED_MODULE_8__","next_router__WEBPACK_IMPORTED_MODULE_9__","_iso_components_uielements_input__WEBPACK_IMPORTED_MODULE_10__","_iso_components_uielements_button__WEBPACK_IMPORTED_MODULE_11__","_iso_components_utility_intlMessages__WEBPACK_IMPORTED_MODULE_12__","_authentication_actions__WEBPACK_IMPORTED_MODULE_13__","_styled_SignIn_styles__WEBPACK_IMPORTED_MODULE_14__","nookies__WEBPACK_IMPORTED_MODULE_15__","nookies__WEBPACK_IMPORTED_MODULE_15___default","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","login","props","_Form$useForm","a","useForm","form","router","_useState","loading","setLoading","_useState2","failedLogin","setFailedLogin","_useState3","setfailedLoginMsg","_useState4","field","setField","handleLogin","_ref","mark","_callee","e","credentials","JSONdata","options","req","res","role","wrap","_context","prev","next","preventDefault","identifier","username","password","JSON","stringify","method","headers","body","fetch","sent","json","console","log","jwt","set","maxAge","path","secure","sameSite","getUserInformation","replace","t0","stop","_x","this","_ref2","_callee2","_context2","Authorization","abrupt","name","_x2","setValue","value","initialValues","remember","onFinish","children","className","onChange","id","size","placeholder","type","htmlType","onClick","message","description","closable","onClose","UMre","exports","_interopRequireDefault","default","isStyleSupport","styleName","styleValue","Array","isArray","undefined","isStyleNameSupport","ele","document","createElement","origin","style","isStyleValueSupport","_canUseDom","documentElement","styleNameList","some","cBho","detectFlexGapSupported","canUseDocElement","get","_styleChecker","flexGapSupported","flex","display","flexDirection","rowGap","appendChild","scrollHeight","removeChild","vlRD","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/index-8912424587b8e2069266.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[101],{\n\n/***/ \"RNiq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SignInPage; });\n/* harmony import */ var antd_lib_alert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"ATwu\");\n/* harmony import */ var antd_lib_alert__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_alert__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"MM9K\");\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"rg98\");\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"qu0K\");\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _iso_components_uielements_input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"7I1n\");\n/* harmony import */ var _iso_components_uielements_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"QCuh\");\n/* harmony import */ var _iso_components_utility_intlMessages__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"+i/H\");\n/* harmony import */ var _authentication_actions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"w+U0\");\n/* harmony import */ var _styled_SignIn_styles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"4CJn\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"NyWP\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__);\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar login = _authentication_actions__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"].login;\nfunction SignInPage(props) {\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[/* useDispatch */ \"c\"])();\n\n  var _Form$useForm = antd_lib_form__WEBPACK_IMPORTED_MODULE_4___default.a.useForm(),\n      _Form$useForm2 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_9__[\"useRouter\"])();\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(false),\n      failedLogin = _useState2[0],\n      setFailedLogin = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(\"Username atau Password salah\"),\n      failedLoginMsg = _useState3[0],\n      setfailedLoginMsg = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])({}),\n      field = _useState4[0],\n      setField = _useState4[1];\n\n  var handleLogin = /*#__PURE__*/function () {\n    var _ref = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee(e) {\n      var credentials, JSONdata, endpoint, options, req, res, role;\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setFailedLogin(false);\n              setLoading(true);\n              credentials = {\n                identifier: field.username,\n                password: field.password\n              };\n              JSONdata = JSON.stringify(credentials);\n              endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/auth/local\";\n              options = {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSONdata\n              };\n              _context.prev = 7;\n              _context.next = 10;\n              return fetch(endpoint, options);\n\n            case 10:\n              req = _context.sent;\n              _context.next = 13;\n              return req.json();\n\n            case 13:\n              res = _context.sent;\n              console.log(res);\n\n              if (!res.jwt) {\n                _context.next = 24;\n                break;\n              }\n\n              // set new token\n              nookies__WEBPACK_IMPORTED_MODULE_15___default.a.set(null, \"token\", res.jwt, {\n                // maxAge: 30 * 24 * 60 * 60,\n                maxAge: 60,\n                path: \"/\",\n                secure: \"https://strapi-js.keelola.web.id/api\" !== \"development\",\n                sameSite: \"strict\"\n              });\n              _context.next = 19;\n              return getUserInformation(res.jwt);\n\n            case 19:\n              role = _context.sent;\n              // set role token\n              nookies__WEBPACK_IMPORTED_MODULE_15___default.a.set(null, \"role\", role, {\n                // maxAge: 30 * 24 * 60 * 60,\n                maxAge: 60,\n                path: \"/\",\n                secure: \"https://strapi-js.keelola.web.id/api\" !== \"development\",\n                sameSite: \"strict\"\n              }); // redirect\n\n              router.replace(\"/dashboard\");\n              _context.next = 25;\n              break;\n\n            case 24:\n              setFailedLogin(true);\n\n            case 25:\n              _context.next = 31;\n              break;\n\n            case 27:\n              _context.prev = 27;\n              _context.t0 = _context[\"catch\"](7);\n              setFailedLogin(true);\n              setfailedLoginMsg(\"Kesalahan Pada Server. Silahkan cek kembali\");\n\n            case 31:\n              setLoading(false);\n\n            case 32:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 27]]);\n    }));\n\n    return function handleLogin(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getUserInformation = /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee2(jwt) {\n      var endpoint, options, req, res;\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/users/me?populate=role\";\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + jwt\n                }\n              };\n              _context2.next = 4;\n              return fetch(endpoint, options);\n\n            case 4:\n              req = _context2.sent;\n              _context2.next = 7;\n              return req.json();\n\n            case 7:\n              res = _context2.sent;\n              console.log(res);\n              return _context2.abrupt(\"return\", res.role.name);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getUserInformation(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onClose = function onClose(e) {\n    console.log(e, \"I was closed.\");\n  };\n\n  function setValue(e) {\n    var target = e.target;\n    var name = target.name;\n    var value = target.value;\n    setField(_objectSpread(_objectSpread({}, field), {}, Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({}, name, value)));\n  } // =========================== UI ===========================\n\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_4___default.a, {\n    form: form,\n    name: \"add_order\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: handleLogin,\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(_styled_SignIn_styles__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n      className: \"isoSignInPage\",\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"div\", {\n        className: \"isoLoginContentWrapper\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"div\", {\n          className: \"isoLoginContent\",\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsxs\"])(\"div\", {\n            className: \"isoSignInForm\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"div\", {\n              className: \"font-bold text-lg p-3\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"center\", {\n                children: \"LOGIN\"\n              })\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"div\", {\n              className: \"isoInputWrapper\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(_iso_components_uielements_input__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"c\"], {\n                onChange: setValue,\n                name: \"username\",\n                id: \"inputUserName\",\n                size: \"large\",\n                placeholder: \"Username\"\n              })\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"div\", {\n              className: \"isoInputWrapper\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(_iso_components_uielements_input__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"c\"], {\n                onChange: setValue,\n                id: \"inpuPassword\",\n                size: \"large\",\n                name: \"password\",\n                type: \"password\",\n                placeholder: \"Password\"\n              })\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"div\", {\n              className: \"isoInputWrapper isoLeftRightComponent\",\n              children: loading ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"div\", {\n                className: \"center\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default.a, {})\n              }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(_iso_components_uielements_button__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], {\n                htmlType: \"submit\",\n                className: \"bg-blue-400 text-white w-full hover:bg-blue-600\",\n                onClick: handleLogin,\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(_iso_components_utility_intlMessages__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n                  id: \"page.signInButton\"\n                })\n              })\n            }), failedLogin ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(antd_lib_alert__WEBPACK_IMPORTED_MODULE_0___default.a, {\n              message: \"Login Error\",\n              description: \"Username atau Password salah\",\n              type: \"error\",\n              closable: true,\n              onClose: onClose\n            }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__[\"jsx\"])(\"div\", {})]\n          })\n        })\n      })\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"UMre\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(\"TqRt\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isStyleSupport = isStyleSupport;\n\nvar _canUseDom = _interopRequireDefault(__webpack_require__(\"3Mug\"));\n\nvar isStyleNameSupport = function isStyleNameSupport(styleName) {\n  if ((0, _canUseDom.default)() && window.document.documentElement) {\n    var styleNameList = Array.isArray(styleName) ? styleName : [styleName];\n    var documentElement = window.document.documentElement;\n    return styleNameList.some(function (name) {\n      return name in documentElement.style;\n    });\n  }\n\n  return false;\n};\n\nvar isStyleValueSupport = function isStyleValueSupport(styleName, value) {\n  if (!isStyleNameSupport(styleName)) {\n    return false;\n  }\n\n  var ele = document.createElement('div');\n  var origin = ele.style[styleName];\n  ele.style[styleName] = value;\n  return ele.style[styleName] !== origin;\n};\n\nfunction isStyleSupport(styleName, styleValue) {\n  if (!Array.isArray(styleName) && styleValue !== undefined) {\n    return isStyleValueSupport(styleName, styleValue);\n  }\n\n  return isStyleNameSupport(styleName);\n}\n\n/***/ }),\n\n/***/ \"cBho\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(\"TqRt\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detectFlexGapSupported = exports.canUseDocElement = void 0;\nObject.defineProperty(exports, \"isStyleSupport\", {\n  enumerable: true,\n  get: function get() {\n    return _styleChecker.isStyleSupport;\n  }\n});\nvar _canUseDom = _interopRequireDefault(__webpack_require__(\"3Mug\"));\nvar _styleChecker = __webpack_require__(\"UMre\");\nvar canUseDocElement = function canUseDocElement() {\n  return (0, _canUseDom[\"default\"])() && window.document.documentElement;\n};\nexports.canUseDocElement = canUseDocElement;\nvar flexGapSupported;\nvar detectFlexGapSupported = function detectFlexGapSupported() {\n  if (!canUseDocElement()) {\n    return false;\n  }\n  if (flexGapSupported !== undefined) {\n    return flexGapSupported;\n  }\n  // create flex container with row-gap set\n  var flex = document.createElement('div');\n  flex.style.display = 'flex';\n  flex.style.flexDirection = 'column';\n  flex.style.rowGap = '1px';\n  // create two, elements inside it\n  flex.appendChild(document.createElement('div'));\n  flex.appendChild(document.createElement('div'));\n  // append to the DOM (needed to obtain scrollHeight)\n  document.body.appendChild(flex);\n  flexGapSupported = flex.scrollHeight === 1; // flex container should be 1px high from the row-gap\n  document.body.removeChild(flex);\n  return flexGapSupported;\n};\nexports.detectFlexGapSupported = detectFlexGapSupported;\n\n/***/ }),\n\n/***/ \"vlRD\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return __webpack_require__(\"RNiq\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"vlRD\",0,1,2,3,4,5,6,7,9,10,15,34]]]);","inputSourceMap":{"version":3,"sources":["/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/pages/index.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/rc-util/lib/Dom/styleChecker.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/antd/lib/_util/styleChecker.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2F&absolutePagePath=private-next-pages%2Findex.js!"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoC;AACF;AACsI;AACI;AAC1I;AACoI;;AAEtK,0CAA0C,gCAAgC,oCAAoC,oDAAoD,sBAAsB,0CAA0C,gEAAgE,EAAE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEvV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,gMAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEvX;AACrH;AACE;AACF;AACa;AACE;AACS;AACZ;AACK;AAC3B;AACkB;AACE;AAClD,YAAY,wEAAW;AACR;AACf,iBAAiB,uEAAW;;AAE5B,sBAAsB,oDAAK;AAC3B,uBAAuB,+LAAc;AACrC;;AAEA,eAAe,6DAAS;;AAExB,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ,GAAG;AAC9B;AACA;;AAEA;AACA,eAAe,kMAAiB,eAAe,gKAAmB;AAClE;AACA,aAAa,gKAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,sCAA2B;AACpD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAc,+CAAO;AACrB;AACA;AACA;AACA,wBAAwB,sCAA2B;AACnD;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA,cAAc,+CAAO;AACrB;AACA;AACA;AACA,wBAAwB,sCAA2B;AACnD;AACA,eAAe,EAAE;;AAEjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,kMAAiB,eAAe,gKAAmB;AACnE;AACA,aAAa,gKAAmB;AAChC;AACA;AACA;AACA,yBAAyB,sCAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C,YAAY,EAAE,gMAAe,GAAG;AAC3E,GAAG;;;AAGH,sBAAsB,8DAAI,CAAC,oDAAK;AAChC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,2BAA2B,8DAAI,CAAC,sEAAkB;AAClD;AACA,6BAA6B,8DAAI;AACjC;AACA,+BAA+B,8DAAI;AACnC;AACA,iCAAiC,+DAAK;AACtC;AACA,oCAAoC,8DAAI;AACxC;AACA,qCAAqC,8DAAI;AACzC;AACA,eAAe;AACf,aAAa,gBAAgB,8DAAI;AACjC;AACA,qCAAqC,8DAAI,CAAC,iFAAK;AAC/C;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa,gBAAgB,8DAAI;AACjC;AACA,qCAAqC,8DAAI,CAAC,iFAAK;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa,gBAAgB,8DAAI;AACjC;AACA,+CAA+C,8DAAI;AACnD;AACA,uCAAuC,8DAAI,CAAC,oDAAK,IAAI;AACrD,eAAe,iBAAiB,8DAAI,CAAC,kFAAM;AAC3C;AACA;AACA;AACA,uCAAuC,8DAAI,CAAC,qFAAY;AACxD;AACA,iBAAiB;AACjB,eAAe;AACf,aAAa,8BAA8B,8DAAI,CAAC,qDAAM;AACtD;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB,8DAAI,UAAU;AAC5C,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH,C;;;;;;;;ACtQa;;AAEb,6BAA6B,mBAAO,CAAC,MAA8C;;AAEnF;AACA;AACA,CAAC;AACD;;AAEA,wCAAwC,mBAAO,CAAC,MAAa;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;ACxCa;;AAEb,6BAA6B,mBAAO,CAAC,MAA8C;AACnF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,wCAAwC,mBAAO,CAAC,MAA2B;AAC3E,oBAAoB,mBAAO,CAAC,MAA8B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,wD;;;;;;;;ACxCA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA6B;AACpD;AACA","file":"x","sourcesContent":["import _Alert from \"antd/lib/alert\";\nimport _Spin from \"antd/lib/spin\";\nimport _defineProperty from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport Input from \"@iso/components/uielements/input\";\nimport Button from \"@iso/components/uielements/button\";\nimport IntlMessages from \"@iso/components/utility/intlMessages\";\nimport authActions from \"../authentication/actions\";\nimport SignInStyleWrapper from \"../styled/SignIn.styles\";\nimport nookies from \"nookies\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar login = authActions.login;\nexport default function SignInPage(props) {\n  var dispatch = useDispatch();\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var router = useRouter();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      failedLogin = _useState2[0],\n      setFailedLogin = _useState2[1];\n\n  var _useState3 = useState(\"Username atau Password salah\"),\n      failedLoginMsg = _useState3[0],\n      setfailedLoginMsg = _useState3[1];\n\n  var _useState4 = useState({}),\n      field = _useState4[0],\n      setField = _useState4[1];\n\n  var handleLogin = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var credentials, JSONdata, endpoint, options, req, res, role;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setFailedLogin(false);\n              setLoading(true);\n              credentials = {\n                identifier: field.username,\n                password: field.password\n              };\n              JSONdata = JSON.stringify(credentials);\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/auth/local\";\n              options = {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSONdata\n              };\n              _context.prev = 7;\n              _context.next = 10;\n              return fetch(endpoint, options);\n\n            case 10:\n              req = _context.sent;\n              _context.next = 13;\n              return req.json();\n\n            case 13:\n              res = _context.sent;\n              console.log(res);\n\n              if (!res.jwt) {\n                _context.next = 24;\n                break;\n              }\n\n              // set new token\n              nookies.set(null, \"token\", res.jwt, {\n                // maxAge: 30 * 24 * 60 * 60,\n                maxAge: 60,\n                path: \"/\",\n                secure: process.env.NEXT_PUBLIC_URL !== \"development\",\n                sameSite: \"strict\"\n              });\n              _context.next = 19;\n              return getUserInformation(res.jwt);\n\n            case 19:\n              role = _context.sent;\n              // set role token\n              nookies.set(null, \"role\", role, {\n                // maxAge: 30 * 24 * 60 * 60,\n                maxAge: 60,\n                path: \"/\",\n                secure: process.env.NEXT_PUBLIC_URL !== \"development\",\n                sameSite: \"strict\"\n              }); // redirect\n\n              router.replace(\"/dashboard\");\n              _context.next = 25;\n              break;\n\n            case 24:\n              setFailedLogin(true);\n\n            case 25:\n              _context.next = 31;\n              break;\n\n            case 27:\n              _context.prev = 27;\n              _context.t0 = _context[\"catch\"](7);\n              setFailedLogin(true);\n              setfailedLoginMsg(\"Kesalahan Pada Server. Silahkan cek kembali\");\n\n            case 31:\n              setLoading(false);\n\n            case 32:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 27]]);\n    }));\n\n    return function handleLogin(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getUserInformation = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(jwt) {\n      var endpoint, options, req, res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/users/me?populate=role\";\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + jwt\n                }\n              };\n              _context2.next = 4;\n              return fetch(endpoint, options);\n\n            case 4:\n              req = _context2.sent;\n              _context2.next = 7;\n              return req.json();\n\n            case 7:\n              res = _context2.sent;\n              console.log(res);\n              return _context2.abrupt(\"return\", res.role.name);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getUserInformation(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onClose = function onClose(e) {\n    console.log(e, \"I was closed.\");\n  };\n\n  function setValue(e) {\n    var target = e.target;\n    var name = target.name;\n    var value = target.value;\n    setField(_objectSpread(_objectSpread({}, field), {}, _defineProperty({}, name, value)));\n  } // =========================== UI ===========================\n\n\n  return /*#__PURE__*/_jsx(_Form, {\n    form: form,\n    name: \"add_order\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: handleLogin,\n    children: /*#__PURE__*/_jsx(SignInStyleWrapper, {\n      className: \"isoSignInPage\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"isoLoginContentWrapper\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"isoLoginContent\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"isoSignInForm\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"font-bold text-lg p-3\",\n              children: /*#__PURE__*/_jsx(\"center\", {\n                children: \"LOGIN\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"isoInputWrapper\",\n              children: /*#__PURE__*/_jsx(Input, {\n                onChange: setValue,\n                name: \"username\",\n                id: \"inputUserName\",\n                size: \"large\",\n                placeholder: \"Username\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"isoInputWrapper\",\n              children: /*#__PURE__*/_jsx(Input, {\n                onChange: setValue,\n                id: \"inpuPassword\",\n                size: \"large\",\n                name: \"password\",\n                type: \"password\",\n                placeholder: \"Password\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"isoInputWrapper isoLeftRightComponent\",\n              children: loading ? /*#__PURE__*/_jsx(\"div\", {\n                className: \"center\",\n                children: /*#__PURE__*/_jsx(_Spin, {})\n              }) : /*#__PURE__*/_jsx(Button, {\n                htmlType: \"submit\",\n                className: \"bg-blue-400 text-white w-full hover:bg-blue-600\",\n                onClick: handleLogin,\n                children: /*#__PURE__*/_jsx(IntlMessages, {\n                  id: \"page.signInButton\"\n                })\n              })\n            }), failedLogin ? /*#__PURE__*/_jsx(_Alert, {\n              message: \"Login Error\",\n              description: \"Username atau Password salah\",\n              type: \"error\",\n              closable: true,\n              onClose: onClose\n            }) : /*#__PURE__*/_jsx(\"div\", {})]\n          })\n        })\n      })\n    })\n  });\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isStyleSupport = isStyleSupport;\n\nvar _canUseDom = _interopRequireDefault(require(\"./canUseDom\"));\n\nvar isStyleNameSupport = function isStyleNameSupport(styleName) {\n  if ((0, _canUseDom.default)() && window.document.documentElement) {\n    var styleNameList = Array.isArray(styleName) ? styleName : [styleName];\n    var documentElement = window.document.documentElement;\n    return styleNameList.some(function (name) {\n      return name in documentElement.style;\n    });\n  }\n\n  return false;\n};\n\nvar isStyleValueSupport = function isStyleValueSupport(styleName, value) {\n  if (!isStyleNameSupport(styleName)) {\n    return false;\n  }\n\n  var ele = document.createElement('div');\n  var origin = ele.style[styleName];\n  ele.style[styleName] = value;\n  return ele.style[styleName] !== origin;\n};\n\nfunction isStyleSupport(styleName, styleValue) {\n  if (!Array.isArray(styleName) && styleValue !== undefined) {\n    return isStyleValueSupport(styleName, styleValue);\n  }\n\n  return isStyleNameSupport(styleName);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detectFlexGapSupported = exports.canUseDocElement = void 0;\nObject.defineProperty(exports, \"isStyleSupport\", {\n  enumerable: true,\n  get: function get() {\n    return _styleChecker.isStyleSupport;\n  }\n});\nvar _canUseDom = _interopRequireDefault(require(\"rc-util/lib/Dom/canUseDom\"));\nvar _styleChecker = require(\"rc-util/lib/Dom/styleChecker\");\nvar canUseDocElement = function canUseDocElement() {\n  return (0, _canUseDom[\"default\"])() && window.document.documentElement;\n};\nexports.canUseDocElement = canUseDocElement;\nvar flexGapSupported;\nvar detectFlexGapSupported = function detectFlexGapSupported() {\n  if (!canUseDocElement()) {\n    return false;\n  }\n  if (flexGapSupported !== undefined) {\n    return flexGapSupported;\n  }\n  // create flex container with row-gap set\n  var flex = document.createElement('div');\n  flex.style.display = 'flex';\n  flex.style.flexDirection = 'column';\n  flex.style.rowGap = '1px';\n  // create two, elements inside it\n  flex.appendChild(document.createElement('div'));\n  flex.appendChild(document.createElement('div'));\n  // append to the DOM (needed to obtain scrollHeight)\n  document.body.appendChild(flex);\n  flexGapSupported = flex.scrollHeight === 1; // flex container should be 1px high from the row-gap\n  document.body.removeChild(flex);\n  return flexGapSupported;\n};\nexports.detectFlexGapSupported = detectFlexGapSupported;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.js\");\n      }\n    ]);\n  "]}}