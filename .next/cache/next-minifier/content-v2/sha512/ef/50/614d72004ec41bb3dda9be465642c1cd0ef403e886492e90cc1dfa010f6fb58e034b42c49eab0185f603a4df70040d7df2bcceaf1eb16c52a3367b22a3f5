{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[63],{\"85bS\":function(e,t,r){\"use strict\";r.r(t);var n=r(\"rg98\"),i=r(\"vJKn\"),a=r.n(i),o=(r(\"q1tI\"),r(\"NyWP\")),s=r.n(o),c=(r(\"wd/R\"),s.a.get(null,\"token\"));var u=function(){var e=Object(n.a)(a.a.mark((function e(t,r,n){var i,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=\"https://strapi-js.keelola.web.id/api\"+\"/inventory-details?filters[locations][id][$eq]=\".concat(n,\"&filters[products][id][$eq]=\").concat(r,\"&filters[expired_date][$eq]=2024-10-01&populate=*\"),o={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+c.token}},e.next=4,fetch(i,o);case 4:return s=e.sent,e.next=7,s.json();case 7:(u=e.sent).data.length>0?p(u.data[0],t,r,n):d(t,r,n),l(t);case 10:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(n.a)(a.a.mark((function e(t,r,n,i){var o,s,u,p,d,l,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.attributes.stock,s=o+r.data.stock,t.attributes.stock=s,t.attributes.locations=r.data.locations,t.attributes.products=r.data.products,u={data:t.attributes},p=JSON.stringify(u),d=\"https://strapi-js.keelola.web.id/api/inventory-details/\"+t.id,l={method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+c.token},body:p},e.next=11,fetch(d,l);case 11:return h=e.sent,e.next=14,h.json();case 14:e.sent,200===h.status&&f(i,n,r.data.stock,r);case 16:case\"end\":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),d=function(){var e=Object(n.a)(a.a.mark((function e(t,r,n){var i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify(t),\"https://strapi-js.keelola.web.id/api/inventory-details\",o={method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+c.token},body:i},e.next=5,fetch(\"https://strapi-js.keelola.web.id/api/inventory-details\",o);case 5:return s=e.sent,e.next=8,s.json();case 8:e.sent,200===s.status&&f(n,r,t.data.stock,t);case 10:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(n.a)(a.a.mark((function e(t){var r,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify(t),\"https://strapi-js.keelola.web.id/api/inventory-histories\",n={method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+c.token},body:r},e.next=5,fetch(\"https://strapi-js.keelola.web.id/api/inventory-histories\",n);case 5:return i=e.sent,e.next=8,i.json();case 8:e.sent;case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.a)(a.a.mark((function e(t,r,n,i){var o,s,u,p,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=\"https://strapi-js.keelola.web.id/api\"+\"/inventories?filters[locations][id][$eq]=\".concat(t,\"&filters[products][id][$eq]=\").concat(r,\"&populate=locations\"),s={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+c.token}},e.next=4,fetch(o,s);case 4:return u=e.sent,e.next=7,u.json();case 7:if(!((p=e.sent).data.length>0)){e.next=14;break}return d=p.data[0].attributes.total_stock+n,e.next=12,h(p.data[0].id,p.data[0].attributes,d);case 12:e.next=16;break;case 14:return e.next=16,v(i,t);case 16:case\"end\":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),h=function(){var e=Object(n.a)(a.a.mark((function e(t,r,n){var i,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.total_stock=n,r.locations={id:r.locations.data[0].id},i={data:r},o=JSON.stringify(i),s=\"https://strapi-js.keelola.web.id/api/inventories/\"+t,u={method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+c.token},body:o},e.next=8,fetch(s,u);case 8:e.sent;case 9:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(n.a)(a.a.mark((function e(t,r){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.data.total_stock=t.data.stock,t.data.locations={id:r},n=JSON.stringify(t),\"https://strapi-js.keelola.web.id/api/inventories\",i={method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+c.token},body:n},e.next=7,fetch(\"https://strapi-js.keelola.web.id/api/inventories\",i);case 7:e.sent;case 8:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.default=function(e){e.attributes.purchasing_details.data.forEach((function(e){var t=new Date(e.attributes.expired_date),r=e.attributes.batch,n=e.attributes.unit_order,i=parseInt(e.attributes.total_order),a=e.attributes.product.data,o=function(e,t){for(var r=1,n=0,i=\"\",a=1;a<6;a++)t.attributes[\"unit_\".concat(a)]===e&&(n=a),t.attributes[\"unit_\".concat(a)]&&(i=t.attributes[\"unit_\".concat(a)]);for(var o=n+1;o<6;o++)0===(r*=t.attributes[\"qty_\".concat(o)])&&(r=1);return{total:r,productSmallestUnit:i}}(n,a),s=o.total*i,c=e.attributes.location.data,p={data:{expired_date:t,batch:r,products:{id:a.id},stock:s,smallest_unit:o.productSmallestUnit,locations:{id:c.id},keterangan:\"Pembelian\"}};u(p,a.id,c.id)}))}},LY0y:function(e,t){(function(t){e.exports=function(){var e={880:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={exports:{}},a=!0;try{e[t](i,i.exports,n),a=!1}finally{a&&delete r[t]}return i.exports}return n.ab=t+\"/\",n(880)}()}).call(this,\"/\")},NyWP:function(e,t,r){\"use strict\";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var i=r(\"iVi/\"),a=r(\"U0US\"),o=r(\"YAAg\");function s(e,t){var r,n;return(null===(n=null===(r=null===e||void 0===e?void 0:e.req)||void 0===r?void 0:r.headers)||void 0===n?void 0:n.cookie)?i.parse(e.req.headers.cookie,t):o.isBrowser()?i.parse(document.cookie,t):{}}function c(e,t,r,s){var c,u;if(void 0===s&&(s={}),(null===(c=null===e||void 0===e?void 0:e.res)||void 0===c?void 0:c.getHeader)&&e.res.setHeader){if(null===(u=null===e||void 0===e?void 0:e.res)||void 0===u?void 0:u.finished)return console.warn('Not setting \"'+t+'\" cookie. Response has finished.'),console.warn(\"You should set cookie before res.send()\"),{};var p=e.res.getHeader(\"Set-Cookie\")||[];\"string\"===typeof p&&(p=[p]),\"number\"===typeof p&&(p=[]);var d=a.parse(p,{decodeValues:!1}),l=o.createCookie(t,r,s),f=[];d.forEach((function(e){if(!o.areCookiesEqual(e,l)){var t=i.serialize(e.name,e.value,n({encode:function(e){return e}},e));f.push(t)}})),f.push(i.serialize(t,r,s)),e.res.setHeader(\"Set-Cookie\",f)}if(o.isBrowser()){if(s&&s.httpOnly)throw new Error(\"Can not set a httpOnly cookie in the browser.\");document.cookie=i.serialize(t,r,s)}return{}}function u(e,t,r){return c(e,t,\"\",n(n({},r||{}),{maxAge:-1}))}t.parseCookies=s,t.setCookie=c,t.destroyCookie=u,t.default={set:c,get:s,destroy:u}},U0US:function(e,t,r){\"use strict\";var n={decodeValues:!0,map:!1,silent:!1};function i(e){return\"string\"===typeof e&&!!e.trim()}function a(e,t){var r=e.split(\";\").filter(i),a=function(e){var t=\"\",r=\"\",n=e.split(\"=\");n.length>1?(t=n.shift(),r=n.join(\"=\")):r=e;return{name:t,value:r}}(r.shift()),o=a.name,s=a.value;t=t?Object.assign({},n,t):n;try{s=t.decodeValues?decodeURIComponent(s):s}catch(u){console.error(\"set-cookie-parser encountered an error while decoding a cookie with value '\"+s+\"'. Set options.decodeValues to false to disable this feature.\",u)}var c={name:o,value:s};return r.forEach((function(e){var t=e.split(\"=\"),r=t.shift().trimLeft().toLowerCase(),n=t.join(\"=\");\"expires\"===r?c.expires=new Date(n):\"max-age\"===r?c.maxAge=parseInt(n,10):\"secure\"===r?c.secure=!0:\"httponly\"===r?c.httpOnly=!0:\"samesite\"===r?c.sameSite=n:c[r]=n})),c}function o(e,t){if(t=t?Object.assign({},n,t):n,!e)return t.map?{}:[];if(e.headers&&e.headers[\"set-cookie\"])e=e.headers[\"set-cookie\"];else if(e.headers){var r=e.headers[Object.keys(e.headers).find((function(e){return\"set-cookie\"===e.toLowerCase()}))];r||!e.headers.cookie||t.silent||console.warn(\"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"),e=r}if(Array.isArray(e)||(e=[e]),(t=t?Object.assign({},n,t):n).map){return e.filter(i).reduce((function(e,r){var n=a(r,t);return e[n.name]=n,e}),{})}return e.filter(i).map((function(e){return a(e,t)}))}e.exports=o,e.exports.parse=o,e.exports.parseString=a,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if(\"string\"!==typeof e)return[];var t,r,n,i,a,o=[],s=0;function c(){for(;s<e.length&&/\\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;c();)if(\",\"===(r=e.charAt(s))){for(n=s,s+=1,c(),i=s;s<e.length&&\"=\"!==(r=e.charAt(s))&&\";\"!==r&&\",\"!==r;)s+=1;s<e.length&&\"=\"===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}},YAAg:function(e,t,r){\"use strict\";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var a=r[i];if(e[a]!==t[a])return!1}return!0}Object.defineProperty(t,\"__esModule\",{value:!0}),t.areCookiesEqual=t.hasSameProperties=t.createCookie=t.isBrowser=void 0,t.isBrowser=function(){return\"undefined\"!==typeof window},t.createCookie=function(e,t,r){var i=r.sameSite;!0===i&&(i=\"strict\"),void 0!==i&&!1!==i||(i=\"lax\");var a=n(n({},r),{sameSite:i});return delete a.encode,n({name:e,value:t},a)},t.hasSameProperties=i,t.areCookiesEqual=function(e,t){var r=e.sameSite===t.sameSite;return\"string\"===typeof e.sameSite&&\"string\"===typeof t.sameSite&&(r=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),i(n(n({},e),{sameSite:void 0}),n(n({},t),{sameSite:void 0}))&&r}},\"iVi/\":function(e,t,r){\"use strict\";t.parse=function(e,t){if(\"string\"!==typeof e)throw new TypeError(\"argument str must be a string\");for(var r={},i=t||{},a=e.split(\";\"),s=i.decode||n,c=0;c<a.length;c++){var u=a[c],p=u.indexOf(\"=\");if(!(p<0)){var d=u.substring(0,p).trim();if(void 0==r[d]){var l=u.substring(p+1,u.length).trim();'\"'===l[0]&&(l=l.slice(1,-1)),r[d]=o(l,s)}}}return r},t.serialize=function(e,t,r){var n=r||{},o=n.encode||i;if(\"function\"!==typeof o)throw new TypeError(\"option encode is invalid\");if(!a.test(e))throw new TypeError(\"argument name is invalid\");var s=o(t);if(s&&!a.test(s))throw new TypeError(\"argument val is invalid\");var c=e+\"=\"+s;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError(\"option maxAge is invalid\");c+=\"; Max-Age=\"+Math.floor(u)}if(n.domain){if(!a.test(n.domain))throw new TypeError(\"option domain is invalid\");c+=\"; Domain=\"+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError(\"option path is invalid\");c+=\"; Path=\"+n.path}if(n.expires){if(\"function\"!==typeof n.expires.toUTCString)throw new TypeError(\"option expires is invalid\");c+=\"; Expires=\"+n.expires.toUTCString()}n.httpOnly&&(c+=\"; HttpOnly\");n.secure&&(c+=\"; Secure\");if(n.sameSite){switch(\"string\"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+=\"; SameSite=Strict\";break;case\"lax\":c+=\"; SameSite=Lax\";break;case\"strict\":c+=\"; SameSite=Strict\";break;case\"none\":c+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return c};var n=decodeURIComponent,i=encodeURIComponent,a=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function o(e,t){try{return t(e)}catch(r){return e}}},\"oAW/\":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/pembelian/utility/createInventory\",function(){return r(\"85bS\")}])},rg98:function(e,t,r){\"use strict\";function n(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,\"next\",e)}function c(e){n(o,i,a,s,c,\"throw\",e)}s(void 0)}))}}r.d(t,\"a\",(function(){return i}))}},[[\"oAW/\",0,1,20,2]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/pembelian/utility/createInventory-b4c9e8feb733c03c098d.js"],"names":["_N_E","window","push","module","__webpack_exports__","__webpack_require__","r","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","nookies__WEBPACK_IMPORTED_MODULE_3__","nookies__WEBPACK_IMPORTED_MODULE_3___default","cookies","a","get","checkDetailStock","_ref","Object","mark","_callee","data","productId","locationId","endpoint","options","req","res","wrap","_context","prev","next","concat","method","headers","Authorization","token","fetch","sent","json","length","updateAPI","createAPI","createInventoryHistory","stop","_x","_x2","_x3","apply","this","arguments","_ref2","_callee2","resData","currentStock","finalStock","newData","JSONdata","_context2","attributes","stock","locations","products","JSON","stringify","id","body","status","createInventoryAPI","_x4","_x5","_x6","_x7","_ref3","_callee3","_context3","_x8","_x9","_x10","_ref4","_callee4","_context4","_x11","_ref5","_callee5","quantity","totalStock","_context5","total_stock","putExistingData","createNewData","_x12","_x13","_x14","_x15","_ref6","_callee6","putData","_context6","_x16","_x17","_x18","_ref7","_callee7","_context7","_x19","_x20","purchasing_details","forEach","element","expiredDate","Date","expired_date","batch","unitOrder","unit_order","totalOrder","parseInt","total_order","product","result","unit","total","productIndex","productSmallestUnit","index","_index","calculateTotalUnit","totalQty","location","smallest_unit","keterangan","LY0y","exports","__dirname","__webpack_modules__","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","l","i","__webpack_module_cache__","__nccwpck_require__","moduleId","threw","ab","call","NyWP","__assign","assign","t","s","p","prototype","hasOwnProperty","value","destroyCookie","setCookie","parseCookies","cookie","setCookieParser","utils_1","ctx","_a","_b","parse","isBrowser","document","name","getHeader","setHeader","finished","console","warn","parsedCookies","decodeValues","newCookie_1","createCookie","cookiesToSet_1","parsedCookie","areCookiesEqual","serializedCookie","serialize","encode","val","httpOnly","Error","maxAge","default","set","destroy","U0US","defaultParseOptions","map","silent","isNonEmptyString","str","trim","parseString","setCookieValue","parts","split","filter","parsed","nameValuePairStr","nameValueArr","shift","join","parseNameValuePair","decodeURIComponent","e","error","part","sides","key","trimLeft","toLowerCase","expires","secure","sameSite","input","sch","keys","find","Array","isArray","reduce","splitCookiesString","cookiesString","start","ch","lastComma","nextStart","cookiesSeparatorFound","cookiesStrings","pos","skipWhitespace","test","charAt","substring","YAAg","hasSameProperties","b","aProps","getOwnPropertyNames","bProps","propName","undefined","cookieToSet","sameSiteSame","TypeError","obj","opt","pairs","dec","decode","pair","indexOf","slice","tryDecode","enc","fieldContentRegExp","isNaN","isFinite","Math","floor","domain","path","toUTCString","encodeURIComponent","__NEXT_P","rg98","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","_asyncToGenerator","fn","self","args","err","d"],"mappings":"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"},"name":"static/chunks/pages/dashboard/pembelian/utility/createInventory-b4c9e8feb733c03c098d.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[63],{\n\n/***/ \"85bS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"NyWP\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n// In this scenario, we will look up for data in inventory details with params exp.date, productId, and LocationId\n// if data is already exist, then we should update the stock inventory details with the exp.date\n// if they are not, then we create a new inventory details\n// It happens with master inventory too. So basicly, we gonna check first. If exist, then UPDATE.\nvar cookies = nookies__WEBPACK_IMPORTED_MODULE_3___default.a.get(null, \"token\");\n\nvar calculateTotalUnit = function calculateTotalUnit(unit, product) {\n  var total = 1;\n  var productIndex = 0;\n  var productSmallestUnit = \"\";\n\n  for (var index = 1; index < 6; index++) {\n    if (product.attributes[\"unit_\".concat(index)] === unit) {\n      productIndex = index;\n    }\n\n    if (product.attributes[\"unit_\".concat(index)]) {\n      productSmallestUnit = product.attributes[\"unit_\".concat(index)];\n    }\n  }\n\n  for (var _index = productIndex + 1; _index < 6; _index++) {\n    total = total * product.attributes[\"qty_\".concat(_index)];\n\n    if (total === 0) {\n      total = 1;\n    }\n  }\n\n  return {\n    total: total,\n    productSmallestUnit: productSmallestUnit\n  };\n};\n\nfunction createInventory(data) {\n  var purchasingDetails = data.attributes.purchasing_details.data;\n  purchasingDetails.forEach(function (element) {\n    var expiredDate = new Date(element.attributes.expired_date);\n    var batch = element.attributes.batch;\n    var unitOrder = element.attributes.unit_order;\n    var totalOrder = parseInt(element.attributes.total_order);\n    var product = element.attributes.product.data;\n    var result = calculateTotalUnit(unitOrder, product);\n    var totalQty = result.total * totalOrder;\n    var location = element.attributes.location.data;\n    var data = {\n      data: {\n        expired_date: expiredDate,\n        batch: batch,\n        products: {\n          id: product.id\n        },\n        stock: totalQty,\n        smallest_unit: result.productSmallestUnit,\n        locations: {\n          id: location.id\n        },\n        keterangan: \"Pembelian\"\n      }\n    }; // check existing stock\n\n    checkDetailStock(data, product.id, location.id); //\n  });\n}\n\nvar checkDetailStock = /*#__PURE__*/function () {\n  var _ref = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(data, productId, locationId) {\n    var endpoint, options, req, res;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/inventory-details?filters[locations][id][$eq]=\".concat(locationId, \"&filters[products][id][$eq]=\").concat(productId, \"&filters[expired_date][$eq]=2024-10-01&populate=*\");\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context.sent;\n            _context.next = 7;\n            return req.json();\n\n          case 7:\n            res = _context.sent;\n\n            if (res.data.length > 0) {\n              updateAPI(res.data[0], data, productId, locationId);\n            } else {\n              createAPI(data, productId, locationId);\n            }\n\n            createInventoryHistory(data);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function checkDetailStock(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar updateAPI = /*#__PURE__*/function () {\n  var _ref2 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(resData, data, productId, locationId) {\n    var currentStock, finalStock, newData, JSONdata, endpoint, options, req, res;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            currentStock = resData.attributes.stock;\n            finalStock = currentStock + data.data.stock;\n            resData.attributes.stock = finalStock;\n            resData.attributes.locations = data.data.locations;\n            resData.attributes.products = data.data.products;\n            newData = {\n              data: resData.attributes\n            };\n            JSONdata = JSON.stringify(newData);\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/inventory-details/\" + resData.id;\n            options = {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context2.next = 11;\n            return fetch(endpoint, options);\n\n          case 11:\n            req = _context2.sent;\n            _context2.next = 14;\n            return req.json();\n\n          case 14:\n            res = _context2.sent;\n\n            if (req.status === 200) {\n              createInventoryAPI(locationId, productId, data.data.stock, data);\n            }\n\n          case 16:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function updateAPI(_x4, _x5, _x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar createAPI = /*#__PURE__*/function () {\n  var _ref3 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(data, productId, locationId) {\n    var JSONdata, endpoint, options, req, res;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            JSONdata = JSON.stringify(data);\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/inventory-details\";\n            options = {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context3.next = 5;\n            return fetch(endpoint, options);\n\n          case 5:\n            req = _context3.sent;\n            _context3.next = 8;\n            return req.json();\n\n          case 8:\n            res = _context3.sent;\n\n            if (req.status === 200) {\n              // check data location\n              createInventoryAPI(locationId, productId, data.data.stock, data);\n            }\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function createAPI(_x8, _x9, _x10) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar createInventoryHistory = /*#__PURE__*/function () {\n  var _ref4 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(data) {\n    var JSONdata, endpoint, options, req, res;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            JSONdata = JSON.stringify(data);\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/inventory-histories\";\n            options = {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context4.next = 5;\n            return fetch(endpoint, options);\n\n          case 5:\n            req = _context4.sent;\n            _context4.next = 8;\n            return req.json();\n\n          case 8:\n            res = _context4.sent;\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function createInventoryHistory(_x11) {\n    return _ref4.apply(this, arguments);\n  };\n}(); // ======================= MASTER INVENTORY =======================\n\n\nvar createInventoryAPI = /*#__PURE__*/function () {\n  var _ref5 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(locationId, productId, quantity, data) {\n    var endpoint, options, req, res, totalStock;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/inventories?filters[locations][id][$eq]=\".concat(locationId, \"&filters[products][id][$eq]=\").concat(productId, \"&populate=locations\");\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context5.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context5.sent;\n            _context5.next = 7;\n            return req.json();\n\n          case 7:\n            res = _context5.sent;\n\n            if (!(res.data.length > 0)) {\n              _context5.next = 14;\n              break;\n            }\n\n            // put existing data\n            totalStock = res.data[0].attributes.total_stock + quantity;\n            _context5.next = 12;\n            return putExistingData(res.data[0].id, res.data[0].attributes, totalStock);\n\n          case 12:\n            _context5.next = 16;\n            break;\n\n          case 14:\n            _context5.next = 16;\n            return createNewData(data, locationId);\n\n          case 16:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function createInventoryAPI(_x12, _x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar putExistingData = /*#__PURE__*/function () {\n  var _ref6 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(id, data, totalStock) {\n    var putData, JSONdata, endpoint, options, req;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            data.total_stock = totalStock;\n            data.locations = {\n              id: data.locations.data[0].id\n            };\n            putData = {\n              data: data\n            };\n            JSONdata = JSON.stringify(putData);\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/inventories/\" + id;\n            options = {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context6.next = 8;\n            return fetch(endpoint, options);\n\n          case 8:\n            req = _context6.sent;\n\n          case 9:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function putExistingData(_x16, _x17, _x18) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar createNewData = /*#__PURE__*/function () {\n  var _ref7 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee7(data, locationId) {\n    var JSONdata, endpoint, options, req;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            data.data.total_stock = data.data.stock;\n            data.data.locations = {\n              id: locationId\n            };\n            JSONdata = JSON.stringify(data);\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/inventories\";\n            options = {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context7.next = 7;\n            return fetch(endpoint, options);\n\n          case 7:\n            req = _context7.sent;\n\n          case 8:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function createNewData(_x19, _x20) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar getUserLocation = /*#__PURE__*/function () {\n  var _ref8 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee8(cookies) {\n    var endpoint, options, req, res;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/users/me?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context8.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context8.sent;\n            _context8.next = 7;\n            return req.json();\n\n          case 7:\n            res = _context8.sent;\n            return _context8.abrupt(\"return\", res);\n\n          case 9:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function getUserLocation(_x21) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (createInventory);\n\n/***/ }),\n\n/***/ \"LY0y\":\n/***/ (function(module, exports) {\n\n/* WEBPACK VAR INJECTION */(function(__dirname) {module.exports =\n/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 880:\n/***/ (function(module) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __nccwpck_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\tvar threw = true;\n/******/ \t\ttry {\n/******/ \t\t\t__webpack_modules__[moduleId](module, module.exports, __nccwpck_require__);\n/******/ \t\t\tthrew = false;\n/******/ \t\t} finally {\n/******/ \t\t\tif(threw) delete __webpack_module_cache__[moduleId];\n/******/ \t\t}\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat */\n/******/ \t\n/******/ \t__nccwpck_require__.ab = __dirname + \"/\";/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nccwpck_require__(880);\n/******/ })()\n;\n/* WEBPACK VAR INJECTION */}.call(this, \"/\"))\n\n/***/ }),\n\n/***/ \"NyWP\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.destroyCookie = exports.setCookie = exports.parseCookies = void 0;\nvar cookie = __webpack_require__(\"iVi/\");\nvar setCookieParser = __webpack_require__(\"U0US\");\nvar utils_1 = __webpack_require__(\"YAAg\");\n/**\n * Parses cookies.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction parseCookies(ctx, options) {\n    var _a, _b;\n    if ((_b = (_a = ctx === null || ctx === void 0 ? void 0 : ctx.req) === null || _a === void 0 ? void 0 : _a.headers) === null || _b === void 0 ? void 0 : _b.cookie) {\n        return cookie.parse(ctx.req.headers.cookie, options);\n    }\n    if (utils_1.isBrowser()) {\n        return cookie.parse(document.cookie, options);\n    }\n    return {};\n}\nexports.parseCookies = parseCookies;\n/**\n * Sets a cookie.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param name The name of your cookie.\n * @param value The value of your cookie.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction setCookie(ctx, name, value, options) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    // SSR\n    if (((_a = ctx === null || ctx === void 0 ? void 0 : ctx.res) === null || _a === void 0 ? void 0 : _a.getHeader) && ctx.res.setHeader) {\n        // Check if response has finished and warn about it.\n        if ((_b = ctx === null || ctx === void 0 ? void 0 : ctx.res) === null || _b === void 0 ? void 0 : _b.finished) {\n            console.warn(\"Not setting \\\"\" + name + \"\\\" cookie. Response has finished.\");\n            console.warn(\"You should set cookie before res.send()\");\n            return {};\n        }\n        /**\n         * Load existing cookies from the header and parse them.\n         */\n        var cookies = ctx.res.getHeader('Set-Cookie') || [];\n        if (typeof cookies === 'string')\n            cookies = [cookies];\n        if (typeof cookies === 'number')\n            cookies = [];\n        /**\n         * Parse cookies but ignore values - we've already encoded\n         * them in the previous call.\n         */\n        var parsedCookies = setCookieParser.parse(cookies, {\n            decodeValues: false,\n        });\n        /**\n         * We create the new cookie and make sure that none of\n         * the existing cookies match it.\n         */\n        var newCookie_1 = utils_1.createCookie(name, value, options);\n        var cookiesToSet_1 = [];\n        parsedCookies.forEach(function (parsedCookie) {\n            if (!utils_1.areCookiesEqual(parsedCookie, newCookie_1)) {\n                /**\n                 * We serialize the cookie back to the original format\n                 * if it isn't the same as the new one.\n                 */\n                var serializedCookie = cookie.serialize(parsedCookie.name, parsedCookie.value, __assign({ \n                    // we prevent reencoding by default, but you might override it\n                    encode: function (val) { return val; } }, parsedCookie));\n                cookiesToSet_1.push(serializedCookie);\n            }\n        });\n        cookiesToSet_1.push(cookie.serialize(name, value, options));\n        // Update the header.\n        ctx.res.setHeader('Set-Cookie', cookiesToSet_1);\n    }\n    // Browser\n    if (utils_1.isBrowser()) {\n        if (options && options.httpOnly) {\n            throw new Error('Can not set a httpOnly cookie in the browser.');\n        }\n        document.cookie = cookie.serialize(name, value, options);\n    }\n    return {};\n}\nexports.setCookie = setCookie;\n/**\n * Destroys a cookie with a particular name.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param name Cookie name.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction destroyCookie(ctx, name, options) {\n    /**\n     * We forward the request destroy to setCookie function\n     * as it is the same function with modified maxAge value.\n     */\n    return setCookie(ctx, name, '', __assign(__assign({}, (options || {})), { maxAge: -1 }));\n}\nexports.destroyCookie = destroyCookie;\n/* Utility Exports */\nexports.default = {\n    set: setCookie,\n    get: parseCookies,\n    destroy: destroyCookie,\n};\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"U0US\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false,\n};\n\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\n\nfunction parseString(setCookieValue, options) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n\n  var nameValuePairStr = parts.shift();\n  var parsed = parseNameValuePair(nameValuePairStr);\n  var name = parsed.name;\n  var value = parsed.value;\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  try {\n    value = options.decodeValues ? decodeURIComponent(value) : value; // decode cookie value\n  } catch (e) {\n    console.error(\n      \"set-cookie-parser encountered an error while decoding a cookie with value '\" +\n        value +\n        \"'. Set options.decodeValues to false to disable this feature.\",\n      e\n    );\n  }\n\n  var cookie = {\n    name: name,\n    value: value,\n  };\n\n  parts.forEach(function (part) {\n    var sides = part.split(\"=\");\n    var key = sides.shift().trimLeft().toLowerCase();\n    var value = sides.join(\"=\");\n    if (key === \"expires\") {\n      cookie.expires = new Date(value);\n    } else if (key === \"max-age\") {\n      cookie.maxAge = parseInt(value, 10);\n    } else if (key === \"secure\") {\n      cookie.secure = true;\n    } else if (key === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key === \"samesite\") {\n      cookie.sameSite = value;\n    } else {\n      cookie[key] = value;\n    }\n  });\n\n  return cookie;\n}\n\nfunction parseNameValuePair(nameValuePairStr) {\n  // Parses name-value-pair according to rfc6265bis draft\n\n  var name = \"\";\n  var value = \"\";\n  var nameValueArr = nameValuePairStr.split(\"=\");\n  if (nameValueArr.length > 1) {\n    name = nameValueArr.shift();\n    value = nameValueArr.join(\"=\"); // everything after the first =, joined by a \"=\" if there was more than one part\n  } else {\n    value = nameValuePairStr;\n  }\n\n  return { name: name, value: value };\n}\n\nfunction parse(input, options) {\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!input) {\n    if (!options.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n\n  if (input.headers && input.headers[\"set-cookie\"]) {\n    // fast-path for node.js (which automatically normalizes header names to lower-case\n    input = input.headers[\"set-cookie\"];\n  } else if (input.headers) {\n    // slow-path for other environments - see #25\n    var sch =\n      input.headers[\n        Object.keys(input.headers).find(function (key) {\n          return key.toLowerCase() === \"set-cookie\";\n        })\n      ];\n    // warn if called on a request-like object with a cookie header rather than a set-cookie header - see #34, 36\n    if (!sch && input.headers.cookie && !options.silent) {\n      console.warn(\n        \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n      );\n    }\n    input = sch;\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!options.map) {\n    return input.filter(isNonEmptyString).map(function (str) {\n      return parseString(str, options);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function (cookies, str) {\n      var cookie = parseString(str, options);\n      cookies[cookie.name] = cookie;\n      return cookies;\n    }, cookies);\n  }\n}\n\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n\n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        // ',' is a cookie separator if we have later first '=', not ';' or ','\n        lastComma = pos;\n        pos += 1;\n\n        skipWhitespace();\n        nextStart = pos;\n\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n\n        // currently special character\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          // we found cookies separator\n          cookiesSeparatorFound = true;\n          // pos is inside the next cookie, so back up and return it.\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          // in param ',' or param separator ';',\n          // we continue from that comma\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n\n  return cookiesStrings;\n}\n\nmodule.exports = parse;\nmodule.exports.parse = parse;\nmodule.exports.parseString = parseString;\nmodule.exports.splitCookiesString = splitCookiesString;\n\n\n/***/ }),\n\n/***/ \"YAAg\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.areCookiesEqual = exports.hasSameProperties = exports.createCookie = exports.isBrowser = void 0;\n/**\n * Tells whether we are in a browser or server.\n */\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\n/**\n * Create an instance of the Cookie interface\n */\nfunction createCookie(name, value, options) {\n    var sameSite = options.sameSite;\n    if (sameSite === true) {\n        sameSite = 'strict';\n    }\n    if (sameSite === undefined || sameSite === false) {\n        sameSite = 'lax';\n    }\n    var cookieToSet = __assign(__assign({}, options), { sameSite: sameSite });\n    delete cookieToSet.encode;\n    return __assign({ name: name, value: value }, cookieToSet);\n}\nexports.createCookie = createCookie;\n/**\n * Tells whether given objects have the same properties.\n */\nfunction hasSameProperties(a, b) {\n    var aProps = Object.getOwnPropertyNames(a);\n    var bProps = Object.getOwnPropertyNames(b);\n    if (aProps.length !== bProps.length) {\n        return false;\n    }\n    for (var i = 0; i < aProps.length; i++) {\n        var propName = aProps[i];\n        if (a[propName] !== b[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.hasSameProperties = hasSameProperties;\n/**\n * Compare the cookie and return true if the cookies have equivalent\n * options and the cookies would be overwritten in the browser storage.\n *\n * @param a first Cookie for comparison\n * @param b second Cookie for comparison\n */\nfunction areCookiesEqual(a, b) {\n    var sameSiteSame = a.sameSite === b.sameSite;\n    if (typeof a.sameSite === 'string' && typeof b.sameSite === 'string') {\n        sameSiteSame = a.sameSite.toLowerCase() === b.sameSite.toLowerCase();\n    }\n    return (hasSameProperties(__assign(__assign({}, a), { sameSite: undefined }), __assign(__assign({}, b), { sameSite: undefined })) && sameSiteSame);\n}\nexports.areCookiesEqual = areCookiesEqual;\n/* Functions */\n//# sourceMappingURL=utils.js.map\n\n/***/ }),\n\n/***/ \"iVi/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(';')\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var index = pair.indexOf('=')\n\n    // skip things that don't look like key=value\n    if (index < 0) {\n      continue;\n    }\n\n    var key = pair.substring(0, index).trim()\n\n    // only assign once\n    if (undefined == obj[key]) {\n      var val = pair.substring(index + 1, pair.length).trim()\n\n      // quoted values\n      if (val[0] === '\"') {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n\n\n/***/ }),\n\n/***/ \"oAW/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/pembelian/utility/createInventory\",\n      function () {\n        return __webpack_require__(\"85bS\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"rg98\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _asyncToGenerator; });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\n/***/ })\n\n},[[\"oAW/\",0,1,20,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/pages/dashboard/pembelian/utility/createInventory.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/compiled/webpack/module.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/nookies/dist/index.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/set-cookie-parser/lib/set-cookie.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/nookies/dist/utils.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/cookie/index.js","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fdashboard%2Fpembelian%2Futility%2FcreateInventory&absolutePagePath=private-next-pages%2Fdashboard%2Fpembelian%2Futility%2FcreateInventory.js!","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4K;AACf;AACnI;AACI;AACG;AACjC;AACA;AACA;AACA;AACA,cAAc,8CAAO;;AAErB;AACA;AACA;AACA;;AAEA,qBAAqB,WAAW;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qCAAqC,YAAY;AACjD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;;AAEN,oDAAoD;AACpD,GAAG;AACH;;AAEA;AACA,aAAa,kMAAiB,eAAe,gKAAmB;AAChE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC,GAAG;;;AAGJ;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAEc,8EAAe,E;;;;;;;ACxb9B;AACA,sBAAsB;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AAGA,OAAO;;AAEP,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA,UAAU;AACV,C;;;;;;;;;ACzEa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,aAAa,mBAAO,CAAC,MAAQ;AAC7B,sBAAsB,mBAAO,CAAC,MAAmB;AACjD,cAAc,mBAAO,CAAC,MAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yG;AACA;AACA,4CAA4C,YAAY,EAAE,EAAE;AAC5D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,gBAAgB,KAAK,aAAa;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;ACzHa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC;;AAErC;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA,qEAAqE;AACrE,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,GAAG;AACH;AACA;;AAEA,UAAU;AACV;;AAEA;AACA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kMAAkM,aAAa;AAC/M;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kCAAkC;AAClC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,+CAA+C;AAC/C;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;AC3Na;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,aAAa,qBAAqB;AAC5E;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,OAAO,sBAAsB,uBAAuB,OAAO,sBAAsB;AACnI;AACA;AACA;AACA,iC;;;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C,iBAAiB;AACjB;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;ACxMA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAmE;AAC1F;AACA;;;;;;;;;ACNA;AAAA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,C","file":"x","sourcesContent":["import _asyncToGenerator from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport React from \"react\";\nimport nookies from \"nookies\";\nimport * as moment from \"moment\";\n// In this scenario, we will look up for data in inventory details with params exp.date, productId, and LocationId\n// if data is already exist, then we should update the stock inventory details with the exp.date\n// if they are not, then we create a new inventory details\n// It happens with master inventory too. So basicly, we gonna check first. If exist, then UPDATE.\nvar cookies = nookies.get(null, \"token\");\n\nvar calculateTotalUnit = function calculateTotalUnit(unit, product) {\n  var total = 1;\n  var productIndex = 0;\n  var productSmallestUnit = \"\";\n\n  for (var index = 1; index < 6; index++) {\n    if (product.attributes[\"unit_\".concat(index)] === unit) {\n      productIndex = index;\n    }\n\n    if (product.attributes[\"unit_\".concat(index)]) {\n      productSmallestUnit = product.attributes[\"unit_\".concat(index)];\n    }\n  }\n\n  for (var _index = productIndex + 1; _index < 6; _index++) {\n    total = total * product.attributes[\"qty_\".concat(_index)];\n\n    if (total === 0) {\n      total = 1;\n    }\n  }\n\n  return {\n    total: total,\n    productSmallestUnit: productSmallestUnit\n  };\n};\n\nfunction createInventory(data) {\n  var purchasingDetails = data.attributes.purchasing_details.data;\n  purchasingDetails.forEach(function (element) {\n    var expiredDate = new Date(element.attributes.expired_date);\n    var batch = element.attributes.batch;\n    var unitOrder = element.attributes.unit_order;\n    var totalOrder = parseInt(element.attributes.total_order);\n    var product = element.attributes.product.data;\n    var result = calculateTotalUnit(unitOrder, product);\n    var totalQty = result.total * totalOrder;\n    var location = element.attributes.location.data;\n    var data = {\n      data: {\n        expired_date: expiredDate,\n        batch: batch,\n        products: {\n          id: product.id\n        },\n        stock: totalQty,\n        smallest_unit: result.productSmallestUnit,\n        locations: {\n          id: location.id\n        },\n        keterangan: \"Pembelian\"\n      }\n    }; // check existing stock\n\n    checkDetailStock(data, product.id, location.id); //\n  });\n}\n\nvar checkDetailStock = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data, productId, locationId) {\n    var endpoint, options, req, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/inventory-details?filters[locations][id][$eq]=\".concat(locationId, \"&filters[products][id][$eq]=\").concat(productId, \"&filters[expired_date][$eq]=2024-10-01&populate=*\");\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context.sent;\n            _context.next = 7;\n            return req.json();\n\n          case 7:\n            res = _context.sent;\n\n            if (res.data.length > 0) {\n              updateAPI(res.data[0], data, productId, locationId);\n            } else {\n              createAPI(data, productId, locationId);\n            }\n\n            createInventoryHistory(data);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function checkDetailStock(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar updateAPI = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resData, data, productId, locationId) {\n    var currentStock, finalStock, newData, JSONdata, endpoint, options, req, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            currentStock = resData.attributes.stock;\n            finalStock = currentStock + data.data.stock;\n            resData.attributes.stock = finalStock;\n            resData.attributes.locations = data.data.locations;\n            resData.attributes.products = data.data.products;\n            newData = {\n              data: resData.attributes\n            };\n            JSONdata = JSON.stringify(newData);\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/inventory-details/\" + resData.id;\n            options = {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context2.next = 11;\n            return fetch(endpoint, options);\n\n          case 11:\n            req = _context2.sent;\n            _context2.next = 14;\n            return req.json();\n\n          case 14:\n            res = _context2.sent;\n\n            if (req.status === 200) {\n              createInventoryAPI(locationId, productId, data.data.stock, data);\n            }\n\n          case 16:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function updateAPI(_x4, _x5, _x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar createAPI = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data, productId, locationId) {\n    var JSONdata, endpoint, options, req, res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            JSONdata = JSON.stringify(data);\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/inventory-details\";\n            options = {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context3.next = 5;\n            return fetch(endpoint, options);\n\n          case 5:\n            req = _context3.sent;\n            _context3.next = 8;\n            return req.json();\n\n          case 8:\n            res = _context3.sent;\n\n            if (req.status === 200) {\n              // check data location\n              createInventoryAPI(locationId, productId, data.data.stock, data);\n            }\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function createAPI(_x8, _x9, _x10) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar createInventoryHistory = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data) {\n    var JSONdata, endpoint, options, req, res;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            JSONdata = JSON.stringify(data);\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/inventory-histories\";\n            options = {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context4.next = 5;\n            return fetch(endpoint, options);\n\n          case 5:\n            req = _context4.sent;\n            _context4.next = 8;\n            return req.json();\n\n          case 8:\n            res = _context4.sent;\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function createInventoryHistory(_x11) {\n    return _ref4.apply(this, arguments);\n  };\n}(); // ======================= MASTER INVENTORY =======================\n\n\nvar createInventoryAPI = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(locationId, productId, quantity, data) {\n    var endpoint, options, req, res, totalStock;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/inventories?filters[locations][id][$eq]=\".concat(locationId, \"&filters[products][id][$eq]=\").concat(productId, \"&populate=locations\");\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context5.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context5.sent;\n            _context5.next = 7;\n            return req.json();\n\n          case 7:\n            res = _context5.sent;\n\n            if (!(res.data.length > 0)) {\n              _context5.next = 14;\n              break;\n            }\n\n            // put existing data\n            totalStock = res.data[0].attributes.total_stock + quantity;\n            _context5.next = 12;\n            return putExistingData(res.data[0].id, res.data[0].attributes, totalStock);\n\n          case 12:\n            _context5.next = 16;\n            break;\n\n          case 14:\n            _context5.next = 16;\n            return createNewData(data, locationId);\n\n          case 16:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function createInventoryAPI(_x12, _x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar putExistingData = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id, data, totalStock) {\n    var putData, JSONdata, endpoint, options, req;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            data.total_stock = totalStock;\n            data.locations = {\n              id: data.locations.data[0].id\n            };\n            putData = {\n              data: data\n            };\n            JSONdata = JSON.stringify(putData);\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/inventories/\" + id;\n            options = {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context6.next = 8;\n            return fetch(endpoint, options);\n\n          case 8:\n            req = _context6.sent;\n\n          case 9:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function putExistingData(_x16, _x17, _x18) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar createNewData = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data, locationId) {\n    var JSONdata, endpoint, options, req;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            data.data.total_stock = data.data.stock;\n            data.data.locations = {\n              id: locationId\n            };\n            JSONdata = JSON.stringify(data);\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/inventories\";\n            options = {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context7.next = 7;\n            return fetch(endpoint, options);\n\n          case 7:\n            req = _context7.sent;\n\n          case 8:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function createNewData(_x19, _x20) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar getUserLocation = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(cookies) {\n    var endpoint, options, req, res;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/users/me?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              },\n              body: JSONdata\n            };\n            _context8.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context8.sent;\n            _context8.next = 7;\n            return req.json();\n\n          case 7:\n            res = _context8.sent;\n            return _context8.abrupt(\"return\", res);\n\n          case 9:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function getUserLocation(_x21) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nexport default createInventory;","module.exports =\n/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 880:\n/***/ (function(module) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __nccwpck_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\tvar threw = true;\n/******/ \t\ttry {\n/******/ \t\t\t__webpack_modules__[moduleId](module, module.exports, __nccwpck_require__);\n/******/ \t\t\tthrew = false;\n/******/ \t\t} finally {\n/******/ \t\t\tif(threw) delete __webpack_module_cache__[moduleId];\n/******/ \t\t}\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat */\n/******/ \t\n/******/ \t__nccwpck_require__.ab = __dirname + \"/\";/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nccwpck_require__(880);\n/******/ })()\n;","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.destroyCookie = exports.setCookie = exports.parseCookies = void 0;\nvar cookie = require(\"cookie\");\nvar setCookieParser = require(\"set-cookie-parser\");\nvar utils_1 = require(\"./utils\");\n/**\n * Parses cookies.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction parseCookies(ctx, options) {\n    var _a, _b;\n    if ((_b = (_a = ctx === null || ctx === void 0 ? void 0 : ctx.req) === null || _a === void 0 ? void 0 : _a.headers) === null || _b === void 0 ? void 0 : _b.cookie) {\n        return cookie.parse(ctx.req.headers.cookie, options);\n    }\n    if (utils_1.isBrowser()) {\n        return cookie.parse(document.cookie, options);\n    }\n    return {};\n}\nexports.parseCookies = parseCookies;\n/**\n * Sets a cookie.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param name The name of your cookie.\n * @param value The value of your cookie.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction setCookie(ctx, name, value, options) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    // SSR\n    if (((_a = ctx === null || ctx === void 0 ? void 0 : ctx.res) === null || _a === void 0 ? void 0 : _a.getHeader) && ctx.res.setHeader) {\n        // Check if response has finished and warn about it.\n        if ((_b = ctx === null || ctx === void 0 ? void 0 : ctx.res) === null || _b === void 0 ? void 0 : _b.finished) {\n            console.warn(\"Not setting \\\"\" + name + \"\\\" cookie. Response has finished.\");\n            console.warn(\"You should set cookie before res.send()\");\n            return {};\n        }\n        /**\n         * Load existing cookies from the header and parse them.\n         */\n        var cookies = ctx.res.getHeader('Set-Cookie') || [];\n        if (typeof cookies === 'string')\n            cookies = [cookies];\n        if (typeof cookies === 'number')\n            cookies = [];\n        /**\n         * Parse cookies but ignore values - we've already encoded\n         * them in the previous call.\n         */\n        var parsedCookies = setCookieParser.parse(cookies, {\n            decodeValues: false,\n        });\n        /**\n         * We create the new cookie and make sure that none of\n         * the existing cookies match it.\n         */\n        var newCookie_1 = utils_1.createCookie(name, value, options);\n        var cookiesToSet_1 = [];\n        parsedCookies.forEach(function (parsedCookie) {\n            if (!utils_1.areCookiesEqual(parsedCookie, newCookie_1)) {\n                /**\n                 * We serialize the cookie back to the original format\n                 * if it isn't the same as the new one.\n                 */\n                var serializedCookie = cookie.serialize(parsedCookie.name, parsedCookie.value, __assign({ \n                    // we prevent reencoding by default, but you might override it\n                    encode: function (val) { return val; } }, parsedCookie));\n                cookiesToSet_1.push(serializedCookie);\n            }\n        });\n        cookiesToSet_1.push(cookie.serialize(name, value, options));\n        // Update the header.\n        ctx.res.setHeader('Set-Cookie', cookiesToSet_1);\n    }\n    // Browser\n    if (utils_1.isBrowser()) {\n        if (options && options.httpOnly) {\n            throw new Error('Can not set a httpOnly cookie in the browser.');\n        }\n        document.cookie = cookie.serialize(name, value, options);\n    }\n    return {};\n}\nexports.setCookie = setCookie;\n/**\n * Destroys a cookie with a particular name.\n *\n * @param ctx NextJS page or API context, express context, null or undefined.\n * @param name Cookie name.\n * @param options Options that we pass down to `cookie` library.\n */\nfunction destroyCookie(ctx, name, options) {\n    /**\n     * We forward the request destroy to setCookie function\n     * as it is the same function with modified maxAge value.\n     */\n    return setCookie(ctx, name, '', __assign(__assign({}, (options || {})), { maxAge: -1 }));\n}\nexports.destroyCookie = destroyCookie;\n/* Utility Exports */\nexports.default = {\n    set: setCookie,\n    get: parseCookies,\n    destroy: destroyCookie,\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false,\n};\n\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\n\nfunction parseString(setCookieValue, options) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n\n  var nameValuePairStr = parts.shift();\n  var parsed = parseNameValuePair(nameValuePairStr);\n  var name = parsed.name;\n  var value = parsed.value;\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  try {\n    value = options.decodeValues ? decodeURIComponent(value) : value; // decode cookie value\n  } catch (e) {\n    console.error(\n      \"set-cookie-parser encountered an error while decoding a cookie with value '\" +\n        value +\n        \"'. Set options.decodeValues to false to disable this feature.\",\n      e\n    );\n  }\n\n  var cookie = {\n    name: name,\n    value: value,\n  };\n\n  parts.forEach(function (part) {\n    var sides = part.split(\"=\");\n    var key = sides.shift().trimLeft().toLowerCase();\n    var value = sides.join(\"=\");\n    if (key === \"expires\") {\n      cookie.expires = new Date(value);\n    } else if (key === \"max-age\") {\n      cookie.maxAge = parseInt(value, 10);\n    } else if (key === \"secure\") {\n      cookie.secure = true;\n    } else if (key === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key === \"samesite\") {\n      cookie.sameSite = value;\n    } else {\n      cookie[key] = value;\n    }\n  });\n\n  return cookie;\n}\n\nfunction parseNameValuePair(nameValuePairStr) {\n  // Parses name-value-pair according to rfc6265bis draft\n\n  var name = \"\";\n  var value = \"\";\n  var nameValueArr = nameValuePairStr.split(\"=\");\n  if (nameValueArr.length > 1) {\n    name = nameValueArr.shift();\n    value = nameValueArr.join(\"=\"); // everything after the first =, joined by a \"=\" if there was more than one part\n  } else {\n    value = nameValuePairStr;\n  }\n\n  return { name: name, value: value };\n}\n\nfunction parse(input, options) {\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!input) {\n    if (!options.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n\n  if (input.headers && input.headers[\"set-cookie\"]) {\n    // fast-path for node.js (which automatically normalizes header names to lower-case\n    input = input.headers[\"set-cookie\"];\n  } else if (input.headers) {\n    // slow-path for other environments - see #25\n    var sch =\n      input.headers[\n        Object.keys(input.headers).find(function (key) {\n          return key.toLowerCase() === \"set-cookie\";\n        })\n      ];\n    // warn if called on a request-like object with a cookie header rather than a set-cookie header - see #34, 36\n    if (!sch && input.headers.cookie && !options.silent) {\n      console.warn(\n        \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n      );\n    }\n    input = sch;\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!options.map) {\n    return input.filter(isNonEmptyString).map(function (str) {\n      return parseString(str, options);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function (cookies, str) {\n      var cookie = parseString(str, options);\n      cookies[cookie.name] = cookie;\n      return cookies;\n    }, cookies);\n  }\n}\n\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n\n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        // ',' is a cookie separator if we have later first '=', not ';' or ','\n        lastComma = pos;\n        pos += 1;\n\n        skipWhitespace();\n        nextStart = pos;\n\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n\n        // currently special character\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          // we found cookies separator\n          cookiesSeparatorFound = true;\n          // pos is inside the next cookie, so back up and return it.\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          // in param ',' or param separator ';',\n          // we continue from that comma\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n\n  return cookiesStrings;\n}\n\nmodule.exports = parse;\nmodule.exports.parse = parse;\nmodule.exports.parseString = parseString;\nmodule.exports.splitCookiesString = splitCookiesString;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.areCookiesEqual = exports.hasSameProperties = exports.createCookie = exports.isBrowser = void 0;\n/**\n * Tells whether we are in a browser or server.\n */\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\n/**\n * Create an instance of the Cookie interface\n */\nfunction createCookie(name, value, options) {\n    var sameSite = options.sameSite;\n    if (sameSite === true) {\n        sameSite = 'strict';\n    }\n    if (sameSite === undefined || sameSite === false) {\n        sameSite = 'lax';\n    }\n    var cookieToSet = __assign(__assign({}, options), { sameSite: sameSite });\n    delete cookieToSet.encode;\n    return __assign({ name: name, value: value }, cookieToSet);\n}\nexports.createCookie = createCookie;\n/**\n * Tells whether given objects have the same properties.\n */\nfunction hasSameProperties(a, b) {\n    var aProps = Object.getOwnPropertyNames(a);\n    var bProps = Object.getOwnPropertyNames(b);\n    if (aProps.length !== bProps.length) {\n        return false;\n    }\n    for (var i = 0; i < aProps.length; i++) {\n        var propName = aProps[i];\n        if (a[propName] !== b[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.hasSameProperties = hasSameProperties;\n/**\n * Compare the cookie and return true if the cookies have equivalent\n * options and the cookies would be overwritten in the browser storage.\n *\n * @param a first Cookie for comparison\n * @param b second Cookie for comparison\n */\nfunction areCookiesEqual(a, b) {\n    var sameSiteSame = a.sameSite === b.sameSite;\n    if (typeof a.sameSite === 'string' && typeof b.sameSite === 'string') {\n        sameSiteSame = a.sameSite.toLowerCase() === b.sameSite.toLowerCase();\n    }\n    return (hasSameProperties(__assign(__assign({}, a), { sameSite: undefined }), __assign(__assign({}, b), { sameSite: undefined })) && sameSiteSame);\n}\nexports.areCookiesEqual = areCookiesEqual;\n/* Functions */\n//# sourceMappingURL=utils.js.map","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(';')\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var index = pair.indexOf('=')\n\n    // skip things that don't look like key=value\n    if (index < 0) {\n      continue;\n    }\n\n    var key = pair.substring(0, index).trim()\n\n    // only assign once\n    if (undefined == obj[key]) {\n      var val = pair.substring(index + 1, pair.length).trim()\n\n      // quoted values\n      if (val[0] === '\"') {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/pembelian/utility/createInventory\",\n      function () {\n        return require(\"private-next-pages/dashboard/pembelian/utility/createInventory.js\");\n      }\n    ]);\n  ","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"]}}