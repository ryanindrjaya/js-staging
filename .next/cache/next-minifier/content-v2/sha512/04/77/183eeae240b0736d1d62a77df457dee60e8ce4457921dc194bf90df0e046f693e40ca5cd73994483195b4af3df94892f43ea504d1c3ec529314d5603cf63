{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[89],{\"2b+2\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/produk/subkategori/edit/[id]\",function(){return a(\"4uM7\")}])},\"4uM7\":function(e,t,a){\"use strict\";a.r(t);var r=a(\"4IMT\"),n=a.n(r),i=a(\"MM9K\"),s=a.n(i),c=a(\"FAat\"),o=a.n(c),u=a(\"cpVT\"),l=a(\"rg98\"),b=a(\"qu0K\"),d=a.n(b),p=a(\"xvhg\"),j=a(\"iJl9\"),h=a.n(j),m=a(\"vJKn\"),f=a.n(m),O=a(\"NyWP\"),x=a.n(O),g=a(\"q1tI\"),w=a(\"g4pe\"),v=a.n(w),y=a(\"kM/w\"),k=a(\"PKTO\"),_=a(\"FGyW\"),T=a(\"20a2\"),S=a(\"0Jbt\"),I=a(\"xBBV\"),N=(a(\"Vy9V\"),a(\"nKUr\"));function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=function(e){var t,a=e.props,r=(null===a||void 0===a||null===(t=a.categories)||void 0===t||t.data,null===a||void 0===a?void 0:a.subCategory.data),i=r.attributes.category.data,c=Object(g.useState)([]),u=c[0],b=c[1],j=Object(g.useState)(i.id),m=j[0],O=j[1],w=h.a.TextArea,P=d.a.useForm(),K=Object(p.a)(P,1)[0],V=Object(g.useState)(!1),A=V[0],D=V[1],C=x.a.get(null,\"token\"),B=(Object(T.useRouter)(),function(){var e=Object(l.a)(f.a.mark((function e(t){var a,n,i,s,c,o,u,l,b,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),a={id:parseInt(t.category_id)},delete t.category_id,n=E(E({},t),{},{category:a}),i={data:n},s=\"https://strapi-js.keelola.web.id/api/sub-categories/\"+r.id,c=JSON.stringify(i),o={method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+C.token},body:c},e.next=10,fetch(s,o);case 10:return u=e.sent,e.next=13,u.json();case 13:l=e.sent,200===u.status?_.b.success(\"Sub Kategori berhasil diperbarui!\",{position:_.b.POSITION.TOP_RIGHT}):null===(b=l.error)||void 0===b||null===(d=b.details)||void 0===d||d.errors.map((function(e){var t=e.path[0];_.b.error(\"sub_id\"===t?\"ID Sub Kategori udah digunakan\":\"Tidak dapat menambahkan Sub Kategori\",{position:_.b.POSITION.TOP_RIGHT})})),D(!1);case 16:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=function(){var e=Object(l.a)(f.a.mark((function e(t,a){var r,n,i,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}a([]),e.next=19;break;case 4:return e.prev=4,r=\"https://strapi-js.keelola.web.id/api\"+\"/categories?filters[$or][0][name][$contains]=\".concat(t,\"&filters[$or][1][category_id][$contains]=\").concat(t),n={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+C.token}},e.next=9,fetch(r,n);case 9:return i=e.sent,e.next=12,i.json();case 12:s=e.sent,200==i.status&&(c=s.data.map((function(e){return{label:\"\".concat(e.attributes.category_id,\" - \").concat(e.attributes.name),value:e.id}})),a(c)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:case\"end\":return e.stop()}}),e,null,[[4,16]])})));return function(t,a){return e.apply(this,arguments)}}(),G=u.map((function(e){return Object(N.jsx)(Option,{children:e.label},e.value)}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(v.a,{children:Object(N.jsx)(\"title\",{children:\"Edit Sub Kategori\"})}),Object(N.jsx)(S.a,{children:Object(N.jsxs)(k.a,{style:{},children:[Object(N.jsx)(I.a,{titleText:\"Edit Sub Kategori\"}),Object(N.jsx)(y.a,{children:Object(N.jsxs)(d.a,{form:K,name:\"add_category\",initialValues:{remember:!0},onFinish:B,children:[Object(N.jsx)(\"div\",{className:\"flex flex-wrap -mx-3 mb-6\",children:Object(N.jsx)(d.a.Item,{name:\"category_id\",initialValues:i.id,className:\"w-full md:w-1/3 px-3 mb-2 md:mb-0\",children:Object(N.jsx)(o.a,{defaultValue:\"\".concat(i.attributes.category_id,\" - \").concat(i.attributes.name),size:\"large\",showSearch:!0,value:m,showArrow:!1,placeholder:\"Pilih Induk Kategori\",onSearch:function(e){e?(F(e,b),console.log(u)):b([])},onChange:function(e){O(e)},filterOption:!1,defaultActiveFirstOption:!1,children:G})})}),Object(N.jsxs)(\"div\",{className:\"flex flex-wrap -mx-3 mb-6\",children:[Object(N.jsx)(\"div\",{className:\"w-full md:w-1/2 px-3 mb-2 md:mb-0\",children:Object(N.jsx)(d.a.Item,{initialValue:r.attributes.sub_id,name:\"sub_id\",rules:[{required:!0,message:\"Sub ID tidak boleh kosong!\"}],children:Object(N.jsx)(h.a,{style:{height:\"50px\"},placeholder:\"Sub ID\"})})}),Object(N.jsx)(\"div\",{className:\"w-full md:w-1/2 px-3 mb-2 md:mb-0\",children:Object(N.jsx)(d.a.Item,{initialValue:r.attributes.name,name:\"name\",rules:[{required:!0,message:\"Nama Sub tidak boleh kosong!\"}],children:Object(N.jsx)(h.a,{style:{height:\"50px\"},placeholder:\"Nama Sub Kategori\"})})}),Object(N.jsx)(\"div\",{className:\"w-full md:w-full px-3 mb-2 md:mb-0\",children:Object(N.jsx)(d.a.Item,{name:\"description\",initialValue:r.attributes.description,children:Object(N.jsx)(w,{rows:4,placeholder:\"Deskripsi\"})})})]}),Object(N.jsx)(d.a.Item,{children:A?Object(N.jsx)(\"div\",{className:\" flex float-left ml-3\",children:Object(N.jsx)(s.a,{})}):Object(N.jsx)(n.a,{htmlType:\"submit\",className:\" hover:text-white hover:bg-cyan-700 border border-cyan-700 ml-1\",children:\"Submit\"})})]})})]})})]})};K.getInitialProps=function(){var e=Object(l.a)(f.a.mark((function e(t){var a,r,n,i,s,c,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.a.get(t),r=t.query.id,n=\"https://strapi-js.keelola.web.id/api/sub-categories/\"+r+\"?populate=*\",i={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+a.token}},e.next=6,fetch(n,i);case 6:return s=e.sent,e.next=9,s.json();case 9:return c=e.sent,e.next=12,V(a);case 12:return o=e.sent,e.next=15,o.json();case 15:return u=e.sent,e.abrupt(\"return\",{props:{subCategory:c,categories:u}});case 17:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var V=function(){var e=Object(l.a)(f.a.mark((function e(t){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return\"https://strapi-js.keelola.web.id/api/categories?populate=*\",a={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+t.token}},e.next=4,fetch(\"https://strapi-js.keelola.web.id/api/categories?populate=*\",a);case 4:return r=e.sent,e.abrupt(\"return\",r);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=K}},[[\"2b+2\",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,16,19,31]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/produk/subkategori/edit/[id]-00710e3369e6892c2440.js"],"names":["_N_E","window","push","module","exports","__webpack_require__","__NEXT_P","__webpack_exports__","r","antd_lib_button__WEBPACK_IMPORTED_MODULE_0__","antd_lib_button__WEBPACK_IMPORTED_MODULE_0___default","n","antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__","antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default","antd_lib_select__WEBPACK_IMPORTED_MODULE_2__","antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","antd_lib_form__WEBPACK_IMPORTED_MODULE_5__","antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__","antd_lib_input__WEBPACK_IMPORTED_MODULE_7__","antd_lib_input__WEBPACK_IMPORTED_MODULE_7___default","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__","_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default","nookies__WEBPACK_IMPORTED_MODULE_9__","nookies__WEBPACK_IMPORTED_MODULE_9___default","react__WEBPACK_IMPORTED_MODULE_10__","next_head__WEBPACK_IMPORTED_MODULE_11__","next_head__WEBPACK_IMPORTED_MODULE_11___default","_iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_12__","_iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_13__","react_toastify__WEBPACK_IMPORTED_MODULE_14__","next_router__WEBPACK_IMPORTED_MODULE_15__","_containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_16__","_components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_17__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Edit","_ref","_props$categories","props","subCategory","categories","data","categorySelected","attributes","category","_useState","setData","_useState2","id","value","setValue","TextArea","a","_Form$useForm","useForm","form","_useState3","loading","setLoading","cookies","get","onFinish","_ref2","mark","_callee","values","categoryID","dataValues","endpoint","JSONdata","options","req","res","_res$error","_res$error$details","wrap","_context","prev","next","parseInt","category_id","JSON","stringify","method","headers","Authorization","token","body","fetch","sent","json","status","success","position","POSITION","TOP_RIGHT","error","details","errors","map","ErrorMsg","path","stop","_x","this","fetchCategory","_ref3","_callee2","query","callback","_options","categoriesResult","_context2","concat","label","name","t0","console","log","_x2","_x3","d","Option","children","style","titleText","initialValues","remember","className","Item","defaultValue","size","showSearch","showArrow","placeholder","onSearch","newValue","onChange","filterOption","defaultActiveFirstOption","initialValue","sub_id","rules","required","message","height","description","rows","htmlType","getInitialProps","_ref4","_callee3","context","resCategory","_context3","abrupt","_x4","_ref5","_callee4","_context4","_x5"],"mappings":"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"},"name":"static/chunks/pages/dashboard/produk/subkategori/edit/[id]-00710e3369e6892c2440.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[89],{\n\n/***/ \"2b+2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/produk/subkategori/edit/[id]\",\n      function () {\n        return __webpack_require__(\"4uM7\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"4uM7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"4IMT\");\n/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"MM9K\");\n/* harmony import */ var antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_spin__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"FAat\");\n/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"rg98\");\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"qu0K\");\n/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"iJl9\");\n/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"NyWP\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"kM/w\");\n/* harmony import */ var _iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"PKTO\");\n/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"FGyW\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"0Jbt\");\n/* harmony import */ var _components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"xBBV\");\n/* harmony import */ var react_select_async__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"Vy9V\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__);\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Edit = function Edit(_ref) {\n  var _props$categories;\n\n  var props = _ref.props;\n  var categories = props === null || props === void 0 ? void 0 : (_props$categories = props.categories) === null || _props$categories === void 0 ? void 0 : _props$categories.data;\n  var subCategory = props === null || props === void 0 ? void 0 : props.subCategory.data;\n  var categorySelected = subCategory.attributes.category.data; // const [categoryId, setCategoryId] = useState(categorySelected.id);\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_10__[\"useState\"])([]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_10__[\"useState\"])(categorySelected.id),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var TextArea = antd_lib_input__WEBPACK_IMPORTED_MODULE_7___default.a.TextArea;\n\n  var _Form$useForm = antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default.a.useForm(),\n      _Form$useForm2 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_10__[\"useState\"])(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var cookies = nookies__WEBPACK_IMPORTED_MODULE_9___default.a.get(null, \"token\");\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_15__[\"useRouter\"])();\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(values) {\n      var categoryID, dataValues, data, endpoint, JSONdata, options, req, res, _res$error, _res$error$details;\n\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              categoryID = {\n                id: parseInt(values.category_id)\n              };\n              delete values.category_id;\n              dataValues = _objectSpread(_objectSpread({}, values), {}, {\n                category: categoryID\n              });\n              data = {\n                data: dataValues\n              };\n              endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/sub-categories/\" + subCategory.id;\n              JSONdata = JSON.stringify(data);\n              options = {\n                method: \"PUT\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                },\n                body: JSONdata\n              };\n              _context.next = 10;\n              return fetch(endpoint, options);\n\n            case 10:\n              req = _context.sent;\n              _context.next = 13;\n              return req.json();\n\n            case 13:\n              res = _context.sent;\n\n              if (req.status === 200) {\n                react_toastify__WEBPACK_IMPORTED_MODULE_14__[/* toast */ \"b\"].success(\"Sub Kategori berhasil diperbarui!\", {\n                  position: react_toastify__WEBPACK_IMPORTED_MODULE_14__[/* toast */ \"b\"].POSITION.TOP_RIGHT\n                });\n              } else {\n                (_res$error = res.error) === null || _res$error === void 0 ? void 0 : (_res$error$details = _res$error.details) === null || _res$error$details === void 0 ? void 0 : _res$error$details.errors.map(function (error) {\n                  var ErrorMsg = error.path[0];\n                  react_toastify__WEBPACK_IMPORTED_MODULE_14__[/* toast */ \"b\"].error(ErrorMsg === \"sub_id\" ? \"ID Sub Kategori udah digunakan\" : \"Tidak dapat menambahkan Sub Kategori\", {\n                    position: react_toastify__WEBPACK_IMPORTED_MODULE_14__[/* toast */ \"b\"].POSITION.TOP_RIGHT\n                  });\n                });\n              }\n\n              setLoading(false);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var fetchCategory = /*#__PURE__*/function () {\n    var _ref3 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2(query, callback) {\n      var endpoint, _options, req, res, categoriesResult;\n\n      return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (query) {\n                _context2.next = 4;\n                break;\n              }\n\n              callback([]);\n              _context2.next = 19;\n              break;\n\n            case 4:\n              _context2.prev = 4;\n              endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/categories?filters[$or][0][name][$contains]=\".concat(query, \"&filters[$or][1][category_id][$contains]=\").concat(query);\n              _options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context2.next = 9;\n              return fetch(endpoint, _options);\n\n            case 9:\n              req = _context2.sent;\n              _context2.next = 12;\n              return req.json();\n\n            case 12:\n              res = _context2.sent;\n\n              if (req.status == 200) {\n                categoriesResult = res.data.map(function (categories) {\n                  return {\n                    label: \"\".concat(categories.attributes.category_id, \" - \").concat(categories.attributes.name),\n                    value: categories.id\n                  };\n                });\n                callback(categoriesResult);\n              }\n\n              _context2.next = 19;\n              break;\n\n            case 16:\n              _context2.prev = 16;\n              _context2.t0 = _context2[\"catch\"](4);\n              console.log(_context2.t0);\n\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[4, 16]]);\n    }));\n\n    return function fetchCategory(_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = function handleSearch(newValue) {\n    if (newValue) {\n      fetchCategory(newValue, setData);\n      console.log(data);\n    } else {\n      setData([]);\n    }\n  };\n\n  var handleChange = function handleChange(newValue) {\n    setValue(newValue);\n  };\n\n  var options = data.map(function (d) {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(Option, {\n      children: d.label\n    }, d.value);\n  });\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(next_head__WEBPACK_IMPORTED_MODULE_11___default.a, {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(\"title\", {\n        children: \"Edit Sub Kategori\"\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_containers_DashboardLayout_DashboardLayout__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(_iso_components_utility_layoutWrapper_js__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n        style: {},\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_components_TitlePage_TitlePage__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"], {\n          titleText: \"Edit Sub Kategori\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_iso_components_utility_layoutContent__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default.a, {\n            form: form,\n            name: \"add_category\",\n            initialValues: {\n              remember: true\n            },\n            onFinish: onFinish,\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(\"div\", {\n              className: \"flex flex-wrap -mx-3 mb-6\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default.a.Item, {\n                name: \"category_id\",\n                initialValues: categorySelected.id,\n                className: \"w-full md:w-1/3 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_select__WEBPACK_IMPORTED_MODULE_2___default.a, {\n                  defaultValue: \"\".concat(categorySelected.attributes.category_id, \" - \").concat(categorySelected.attributes.name),\n                  size: \"large\",\n                  showSearch: true,\n                  value: value,\n                  showArrow: false,\n                  placeholder: \"Pilih Induk Kategori\",\n                  onSearch: handleSearch,\n                  onChange: handleChange,\n                  filterOption: false,\n                  defaultActiveFirstOption: false,\n                  children: options\n                })\n              })\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(\"div\", {\n              className: \"flex flex-wrap -mx-3 mb-6\",\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(\"div\", {\n                className: \"w-full md:w-1/2 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default.a.Item, {\n                  initialValue: subCategory.attributes.sub_id,\n                  name: \"sub_id\",\n                  rules: [{\n                    required: true,\n                    message: \"Sub ID tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                    style: {\n                      height: \"50px\"\n                    },\n                    placeholder: \"Sub ID\"\n                  })\n                })\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(\"div\", {\n                className: \"w-full md:w-1/2 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default.a.Item, {\n                  initialValue: subCategory.attributes.name,\n                  name: \"name\",\n                  rules: [{\n                    required: true,\n                    message: \"Nama Sub tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_input__WEBPACK_IMPORTED_MODULE_7___default.a, {\n                    style: {\n                      height: \"50px\"\n                    },\n                    placeholder: \"Nama Sub Kategori\"\n                  })\n                })\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(\"div\", {\n                className: \"w-full md:w-full px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default.a.Item, {\n                  name: \"description\",\n                  initialValue: subCategory.attributes.description,\n                  children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(TextArea, {\n                    rows: 4,\n                    placeholder: \"Deskripsi\"\n                  })\n                })\n              })]\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default.a.Item, {\n              children: loading ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(\"div\", {\n                className: \" flex float-left ml-3\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_spin__WEBPACK_IMPORTED_MODULE_1___default.a, {})\n              }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(antd_lib_button__WEBPACK_IMPORTED_MODULE_0___default.a, {\n                htmlType: \"submit\",\n                className: \" hover:text-white hover:bg-cyan-700 border border-cyan-700 ml-1\",\n                children: \"Submit\"\n              })\n            })]\n          })\n        })]\n      })\n    })]\n  });\n};\n\nEdit.getInitialProps = /*#__PURE__*/function () {\n  var _ref4 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee3(context) {\n    var cookies, id, endpoint, options, res, subCategory, resCategory, categories;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            cookies = nookies__WEBPACK_IMPORTED_MODULE_9___default.a.get(context);\n            id = context.query.id;\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/sub-categories/\" + id + \"?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context3.next = 6;\n            return fetch(endpoint, options);\n\n          case 6:\n            res = _context3.sent;\n            _context3.next = 9;\n            return res.json();\n\n          case 9:\n            subCategory = _context3.sent;\n            _context3.next = 12;\n            return fetchCategory(cookies);\n\n          case 12:\n            resCategory = _context3.sent;\n            _context3.next = 15;\n            return resCategory.json();\n\n          case 15:\n            categories = _context3.sent;\n            return _context3.abrupt(\"return\", {\n              props: {\n                subCategory: subCategory,\n                categories: categories\n              }\n            });\n\n          case 17:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar fetchCategory = /*#__PURE__*/function () {\n  var _ref5 = Object(_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])( /*#__PURE__*/_Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee4(cookies) {\n    var endpoint, options, req;\n    return _Users_yudiananta_Development_NextJS_ERP_Dev_JS_Deploy_JS_Deploy_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            endpoint = \"https://strapi-js.keelola.web.id/api\" + \"/categories?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context4.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context4.sent;\n            return _context4.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function fetchCategory(_x5) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Edit);\n\n/***/ })\n\n},[[\"2b+2\",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,16,19,31]]]);","inputSourceMap":{"version":3,"sources":["/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fdashboard%2Fproduk%2Fsubkategori%2Fedit%2F%5Bid%5D&absolutePagePath=private-next-pages%2Fdashboard%2Fproduk%2Fsubkategori%2Fedit%2F%5Bid%5D.js!","/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/pages/dashboard/produk/subkategori/edit/[id].js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA8D;AACrF;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsC;AACJ;AACI;AACkI;AACI;AAC1I;AACoI;AAClI;AACyH;;AAE7J,0CAA0C,gCAAgC,oCAAoC,oDAAoD,sBAAsB,0CAA0C,gEAAgE,EAAE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEvV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,gMAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEtf;AACG;AACJ;AACqC;AACG;AAC9B;AACC;AACgD;AAClB;AACzB;AACG;AACE;AACQ;;AAE1D;AACA;;AAEA;AACA;AACA;AACA,8DAA8D;;AAE9D,kBAAkB,uDAAQ;AAC1B;AACA;;AAEA,mBAAmB,uDAAQ;AAC3B;AACA;;AAEA,iBAAiB,qDAAM;;AAEvB,sBAAsB,oDAAK;AAC3B,uBAAuB,+LAAc;AACrC;;AAEA,mBAAmB,uDAAQ;AAC3B;AACA;;AAEA,gBAAgB,8CAAO;AACvB,eAAe,8DAAS;;AAExB;AACA,gBAAgB,kMAAiB,eAAe,gKAAmB;AACnE;;AAEA,aAAa,gKAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,aAAa;AACtE;AACA,eAAe;AACf;AACA;AACA;AACA,yBAAyB,sCAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,6DAAK;AACrB,4BAA4B,6DAAK;AACjC,iBAAiB;AACjB,eAAe;AACf;AACA;AACA,kBAAkB,6DAAK;AACvB,8BAA8B,6DAAK;AACnC,mBAAmB;AACnB,iBAAiB;AACjB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,kMAAiB,eAAe,gKAAmB;AACnE;;AAEA,aAAa,gKAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,sCAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,8DAAI;AAC5B;AACA,KAAK;AACL,GAAG;AACH,sBAAsB,+DAAK,CAAC,2DAAS;AACrC,4BAA4B,8DAAI,CAAC,iDAAI;AACrC,6BAA6B,8DAAI;AACjC;AACA,OAAO;AACP,KAAK,gBAAgB,8DAAI,CAAC,4FAAe;AACzC,6BAA6B,+DAAK,CAAC,yFAAa;AAChD,iBAAiB;AACjB,gCAAgC,8DAAI,CAAC,gFAAS;AAC9C;AACA,SAAS,gBAAgB,8DAAI,CAAC,sFAAa;AAC3C,iCAAiC,+DAAK,CAAC,oDAAK;AAC5C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,oCAAoC,8DAAI;AACxC;AACA,qCAAqC,8DAAI,CAAC,oDAAK;AAC/C;AACA;AACA;AACA,uCAAuC,8DAAI,CAAC,sDAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,eAAe;AACf,aAAa,gBAAgB,+DAAK;AAClC;AACA,sCAAsC,8DAAI;AAC1C;AACA,uCAAuC,8DAAI,CAAC,oDAAK;AACjD;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,yCAAyC,8DAAI,CAAC,qDAAM;AACpD;AACA;AACA,qBAAqB;AACrB;AACA,mBAAmB;AACnB,iBAAiB;AACjB,eAAe,gBAAgB,8DAAI;AACnC;AACA,uCAAuC,8DAAI,CAAC,oDAAK;AACjD;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,yCAAyC,8DAAI,CAAC,qDAAM;AACpD;AACA;AACA,qBAAqB;AACrB;AACA,mBAAmB;AACnB,iBAAiB;AACjB,eAAe,gBAAgB,8DAAI;AACnC;AACA,uCAAuC,8DAAI,CAAC,oDAAK;AACjD;AACA;AACA,yCAAyC,8DAAI;AAC7C;AACA;AACA,mBAAmB;AACnB,iBAAiB;AACjB,eAAe;AACf,aAAa,gBAAgB,8DAAI,CAAC,oDAAK;AACvC,+CAA+C,8DAAI;AACnD;AACA,uCAAuC,8DAAI,CAAC,oDAAK,IAAI;AACrD,eAAe,iBAAiB,8DAAI,CAAC,sDAAO;AAC5C;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA,sBAAsB,8CAAO;AAC7B;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED;AACA,cAAc,kMAAiB,eAAe,gKAAmB;AACjE;AACA,WAAW,gKAAmB;AAC9B;AACA;AACA;AACA,uBAAuB,sCAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAEc,mEAAI,E","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/produk/subkategori/edit/[id]\",\n      function () {\n        return require(\"private-next-pages/dashboard/produk/subkategori/edit/[id].js\");\n      }\n    ]);\n  ","import _Button from \"antd/lib/button\";\nimport _Spin from \"antd/lib/spin\";\nimport _Select from \"antd/lib/select\";\nimport _defineProperty from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _Input from \"antd/lib/input\";\nimport _regeneratorRuntime from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport nookies from \"nookies\";\nimport { useState } from \"react\";\nimport Head from \"next/head\";\nimport LayoutContent from \"@iso/components/utility/layoutContent\";\nimport LayoutWrapper from \"@iso/components/utility/layoutWrapper.js\";\nimport { toast } from \"react-toastify\";\nimport { useRouter } from \"next/router\";\nimport DashboardLayout from \"../../../../../containers/DashboardLayout/DashboardLayout\";\nimport TitlePage from \"../../../../../components/TitlePage/TitlePage\";\nimport AsyncSelect from \"react-select/async\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar Edit = function Edit(_ref) {\n  var _props$categories;\n\n  var props = _ref.props;\n  var categories = props === null || props === void 0 ? void 0 : (_props$categories = props.categories) === null || _props$categories === void 0 ? void 0 : _props$categories.data;\n  var subCategory = props === null || props === void 0 ? void 0 : props.subCategory.data;\n  var categorySelected = subCategory.attributes.category.data; // const [categoryId, setCategoryId] = useState(categorySelected.id);\n\n  var _useState = useState([]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(categorySelected.id),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var TextArea = _Input.TextArea;\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var cookies = nookies.get(null, \"token\");\n  var router = useRouter();\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var categoryID, dataValues, data, endpoint, JSONdata, options, req, res, _res$error, _res$error$details;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              categoryID = {\n                id: parseInt(values.category_id)\n              };\n              delete values.category_id;\n              dataValues = _objectSpread(_objectSpread({}, values), {}, {\n                category: categoryID\n              });\n              data = {\n                data: dataValues\n              };\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/sub-categories/\" + subCategory.id;\n              JSONdata = JSON.stringify(data);\n              options = {\n                method: \"PUT\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                },\n                body: JSONdata\n              };\n              _context.next = 10;\n              return fetch(endpoint, options);\n\n            case 10:\n              req = _context.sent;\n              _context.next = 13;\n              return req.json();\n\n            case 13:\n              res = _context.sent;\n\n              if (req.status === 200) {\n                toast.success(\"Sub Kategori berhasil diperbarui!\", {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n              } else {\n                (_res$error = res.error) === null || _res$error === void 0 ? void 0 : (_res$error$details = _res$error.details) === null || _res$error$details === void 0 ? void 0 : _res$error$details.errors.map(function (error) {\n                  var ErrorMsg = error.path[0];\n                  toast.error(ErrorMsg === \"sub_id\" ? \"ID Sub Kategori udah digunakan\" : \"Tidak dapat menambahkan Sub Kategori\", {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                });\n              }\n\n              setLoading(false);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var fetchCategory = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(query, callback) {\n      var endpoint, _options, req, res, categoriesResult;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (query) {\n                _context2.next = 4;\n                break;\n              }\n\n              callback([]);\n              _context2.next = 19;\n              break;\n\n            case 4:\n              _context2.prev = 4;\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/categories?filters[$or][0][name][$contains]=\".concat(query, \"&filters[$or][1][category_id][$contains]=\").concat(query);\n              _options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context2.next = 9;\n              return fetch(endpoint, _options);\n\n            case 9:\n              req = _context2.sent;\n              _context2.next = 12;\n              return req.json();\n\n            case 12:\n              res = _context2.sent;\n\n              if (req.status == 200) {\n                categoriesResult = res.data.map(function (categories) {\n                  return {\n                    label: \"\".concat(categories.attributes.category_id, \" - \").concat(categories.attributes.name),\n                    value: categories.id\n                  };\n                });\n                callback(categoriesResult);\n              }\n\n              _context2.next = 19;\n              break;\n\n            case 16:\n              _context2.prev = 16;\n              _context2.t0 = _context2[\"catch\"](4);\n              console.log(_context2.t0);\n\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[4, 16]]);\n    }));\n\n    return function fetchCategory(_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleSearch = function handleSearch(newValue) {\n    if (newValue) {\n      fetchCategory(newValue, setData);\n      console.log(data);\n    } else {\n      setData([]);\n    }\n  };\n\n  var handleChange = function handleChange(newValue) {\n    setValue(newValue);\n  };\n\n  var options = data.map(function (d) {\n    return /*#__PURE__*/_jsx(Option, {\n      children: d.label\n    }, d.value);\n  });\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Edit Sub Kategori\"\n      })\n    }), /*#__PURE__*/_jsx(DashboardLayout, {\n      children: /*#__PURE__*/_jsxs(LayoutWrapper, {\n        style: {},\n        children: [/*#__PURE__*/_jsx(TitlePage, {\n          titleText: \"Edit Sub Kategori\"\n        }), /*#__PURE__*/_jsx(LayoutContent, {\n          children: /*#__PURE__*/_jsxs(_Form, {\n            form: form,\n            name: \"add_category\",\n            initialValues: {\n              remember: true\n            },\n            onFinish: onFinish,\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"flex flex-wrap -mx-3 mb-6\",\n              children: /*#__PURE__*/_jsx(_Form.Item, {\n                name: \"category_id\",\n                initialValues: categorySelected.id,\n                className: \"w-full md:w-1/3 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Select, {\n                  defaultValue: \"\".concat(categorySelected.attributes.category_id, \" - \").concat(categorySelected.attributes.name),\n                  size: \"large\",\n                  showSearch: true,\n                  value: value,\n                  showArrow: false,\n                  placeholder: \"Pilih Induk Kategori\",\n                  onSearch: handleSearch,\n                  onChange: handleChange,\n                  filterOption: false,\n                  defaultActiveFirstOption: false,\n                  children: options\n                })\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-wrap -mx-3 mb-6\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/2 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  initialValue: subCategory.attributes.sub_id,\n                  name: \"sub_id\",\n                  rules: [{\n                    required: true,\n                    message: \"Sub ID tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    style: {\n                      height: \"50px\"\n                    },\n                    placeholder: \"Sub ID\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/2 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  initialValue: subCategory.attributes.name,\n                  name: \"name\",\n                  rules: [{\n                    required: true,\n                    message: \"Nama Sub tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    style: {\n                      height: \"50px\"\n                    },\n                    placeholder: \"Nama Sub Kategori\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-full px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"description\",\n                  initialValue: subCategory.attributes.description,\n                  children: /*#__PURE__*/_jsx(TextArea, {\n                    rows: 4,\n                    placeholder: \"Deskripsi\"\n                  })\n                })\n              })]\n            }), /*#__PURE__*/_jsx(_Form.Item, {\n              children: loading ? /*#__PURE__*/_jsx(\"div\", {\n                className: \" flex float-left ml-3\",\n                children: /*#__PURE__*/_jsx(_Spin, {})\n              }) : /*#__PURE__*/_jsx(_Button, {\n                htmlType: \"submit\",\n                className: \" hover:text-white hover:bg-cyan-700 border border-cyan-700 ml-1\",\n                children: \"Submit\"\n              })\n            })]\n          })\n        })]\n      })\n    })]\n  });\n};\n\nEdit.getInitialProps = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(context) {\n    var cookies, id, endpoint, options, res, subCategory, resCategory, categories;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            cookies = nookies.get(context);\n            id = context.query.id;\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/sub-categories/\" + id + \"?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context3.next = 6;\n            return fetch(endpoint, options);\n\n          case 6:\n            res = _context3.sent;\n            _context3.next = 9;\n            return res.json();\n\n          case 9:\n            subCategory = _context3.sent;\n            _context3.next = 12;\n            return fetchCategory(cookies);\n\n          case 12:\n            resCategory = _context3.sent;\n            _context3.next = 15;\n            return resCategory.json();\n\n          case 15:\n            categories = _context3.sent;\n            return _context3.abrupt(\"return\", {\n              props: {\n                subCategory: subCategory,\n                categories: categories\n              }\n            });\n\n          case 17:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar fetchCategory = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(cookies) {\n    var endpoint, options, req;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/categories?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context4.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context4.sent;\n            return _context4.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function fetchCategory(_x5) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nexport default Edit;"]}}