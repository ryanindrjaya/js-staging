{"ast":null,"code":"import _Popover from \"antd/lib/popover\";\nimport _Tag from \"antd/lib/tag\";\nimport _EditOutlined from \"@ant-design/icons/lib/icons/EditOutlined\";\nimport _UnorderedListOutlined from \"@ant-design/icons/lib/icons/UnorderedListOutlined\";\nimport _PrinterOutlined from \"@ant-design/icons/lib/icons/PrinterOutlined\";\nimport _Select from \"antd/lib/select\";\nimport DataTable from \"react-data-table-component\";\nimport AlertDialog from \"../../Alert/Alert\";\nimport { useRouter } from \"next/router\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function ReactDataTable(_ref) {\n  var _data$meta, _data$meta$pagination;\n\n  var data = _ref.data,\n      onDelete = _ref.onDelete,\n      onUpdate = _ref.onUpdate,\n      onPageChange = _ref.onPageChange,\n      onChangeStatusPengiriman = _ref.onChangeStatusPengiriman,\n      onChangeStatus = _ref.onChangeStatus;\n  var router = useRouter();\n  var Option = _Select.Option;\n\n  var print = function print(row) {\n    router.push(\"order_pembelian/print/\" + row.id);\n  };\n\n  var lihat = function lihat(row) {\n    router.push(\"order_pembelian/print/\" + row.id);\n  };\n\n  var onConfirm = function onConfirm(id) {\n    console.log(id);\n    onDelete(id);\n  };\n\n  var onCancel = function onCancel() {\n    console.log(\"onCancel\");\n  };\n\n  var onEdit = function onEdit(id) {\n    onUpdate(id);\n  };\n\n  function formatMyDate(value) {\n    var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"id-ID\";\n    return new Date(value).toLocaleDateString(locale);\n  }\n\n  var formatter = new Intl.NumberFormat(\"id-ID\", {\n    style: \"currency\",\n    currency: \"IDR\",\n    maximumFractionDigits: 0\n  });\n\n  var content = function content(row) {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsxs(\"button\", {\n          onClick: function onClick() {\n            return print(row);\n          },\n          className: \" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md \",\n          children: [/*#__PURE__*/_jsx(_PrinterOutlined, {\n            className: \"mr-2 mt-0.5 float float-left\"\n          }), \"Cetak\"]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsxs(\"button\", {\n          onClick: function onClick() {\n            return lihat(row);\n          },\n          className: \" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md \",\n          children: [/*#__PURE__*/_jsx(_UnorderedListOutlined, {\n            className: \"mr-2 mt-0.5 float float-left\"\n          }), \"Lihat\"]\n        })\n      }), row.attributes.status === \"Diterima\" ? /*#__PURE__*/_jsx(\"div\", {}) : /*#__PURE__*/_jsxs(\"button\", {\n        onClick: function onClick() {\n          return onEdit(row.id);\n        },\n        className: \" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md \",\n        children: [/*#__PURE__*/_jsx(_EditOutlined, {\n          className: \"mr-2 mt-0.5 float float-left\"\n        }), \"Edit\"]\n      }), /*#__PURE__*/_jsx(AlertDialog, {\n        onCancel: onCancel,\n        onConfirm: onConfirm,\n        title: \"Hapus Kategori\",\n        message: \"Kategori yang dihapus tidak dapat dikembalikan lagi. Lanjutkan?\",\n        id: row.id\n      })]\n    });\n  };\n\n  var customStyles = {\n    headerStyle: {\n      textAlign: \"center\"\n    },\n    headCells: {\n      style: {\n        color: \"white\",\n        background: \"#036B82\"\n      }\n    }\n  };\n  var columns = [{\n    name: \"Tanggal\",\n    width: \"150px\",\n    selector: function selector(row) {\n      var _row$attributes;\n\n      return formatMyDate((_row$attributes = row.attributes) === null || _row$attributes === void 0 ? void 0 : _row$attributes.order_date);\n    }\n  }, {\n    name: \"NO PO\",\n    width: \"180px\",\n    selector: function selector(row) {\n      var _row$attributes$no_po, _row$attributes2;\n\n      return (_row$attributes$no_po = (_row$attributes2 = row.attributes) === null || _row$attributes2 === void 0 ? void 0 : _row$attributes2.no_po) !== null && _row$attributes$no_po !== void 0 ? _row$attributes$no_po : \"-\";\n    }\n  }, {\n    name: \"Lokasi\",\n    width: \"200px\",\n    selector: function selector(row) {\n      var _row$attributes3;\n\n      return (_row$attributes3 = row.attributes) === null || _row$attributes3 === void 0 ? void 0 : _row$attributes3.location.data.attributes.name;\n    }\n  }, {\n    name: /*#__PURE__*/_jsx(\"div\", {\n      className: \"ml-6\",\n      children: \"Status\"\n    }),\n    width: \"150px\",\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsxs(_Select, {\n        defaultValue: row.attributes.status,\n        bordered: false,\n        disabled: row.attributes.status === \"Diterima\",\n        onChange: function onChange(e) {\n          return onChangeStatus(e, row);\n        },\n        children: [/*#__PURE__*/_jsx(Option, {\n          value: \"Dipesan\",\n          children: /*#__PURE__*/_jsx(_Tag, {\n            color: \"default\",\n            children: \"Dipesan\"\n          })\n        }), /*#__PURE__*/_jsx(Option, {\n          value: \"Diterima\",\n          children: /*#__PURE__*/_jsx(_Tag, {\n            color: \"success\",\n            children: \"Diterima\"\n          })\n        })]\n      });\n    }\n  }, {\n    name: \"Status Pengiriman\",\n    width: \"150px\",\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsxs(_Select, {\n          defaultValue: row.attributes.delivery_status,\n          bordered: false,\n          disabled: row.attributes.delivery_status === \"Terkirim\",\n          onChange: function onChange(e) {\n            return onChangeStatusPengiriman(e, row);\n          },\n          children: [/*#__PURE__*/_jsx(Option, {\n            value: \"Loading\",\n            children: /*#__PURE__*/_jsx(_Tag, {\n              color: \"default\",\n              children: \"Loading\"\n            })\n          }), /*#__PURE__*/_jsx(Option, {\n            value: \"Pending\",\n            children: /*#__PURE__*/_jsx(_Tag, {\n              color: \"warning\",\n              children: \"Pending\"\n            })\n          }), /*#__PURE__*/_jsx(Option, {\n            value: \"Antrian\",\n            children: /*#__PURE__*/_jsx(_Tag, {\n              color: \"processing\",\n              children: \"Antrian\"\n            })\n          }), /*#__PURE__*/_jsx(Option, {\n            value: \"Terkirim\",\n            children: /*#__PURE__*/_jsx(_Tag, {\n              color: \"success\",\n              children: \"Terkirim\"\n            })\n          })]\n        })\n      });\n    }\n  }, {\n    name: \"Ditambahkan Oleh\",\n    width: \"150px\",\n    sortable: true,\n    selector: function selector(row) {\n      var _row$attributes$added, _row$attributes4;\n\n      return (_row$attributes$added = (_row$attributes4 = row.attributes) === null || _row$attributes4 === void 0 ? void 0 : _row$attributes4.added_by) !== null && _row$attributes$added !== void 0 ? _row$attributes$added : \"-\";\n    }\n  }, {\n    name: \"Tindakan\",\n    width: \"250px\",\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(_Popover, {\n          content: content(row),\n          placement: \"bottom\",\n          trigger: \"click\",\n          children: /*#__PURE__*/_jsx(\"button\", {\n            className: \" text-cyan-700  transition-colors  text-xs font-normal py-2 rounded-md \",\n            children: \"Tindakan\"\n          })\n        })\n      });\n    }\n  }];\n  return /*#__PURE__*/_jsx(DataTable, {\n    customStyles: customStyles,\n    onChangePage: onPageChange,\n    paginationRowsPerPageOptions: [10],\n    paginationTotalRows: data === null || data === void 0 ? void 0 : (_data$meta = data.meta) === null || _data$meta === void 0 ? void 0 : (_data$meta$pagination = _data$meta.pagination) === null || _data$meta$pagination === void 0 ? void 0 : _data$meta$pagination.total,\n    columns: columns,\n    data: data.data,\n    pagination: true,\n    noDataComponent: \"Belum ada data Order Pembelian\"\n  });\n}","map":null,"metadata":{},"sourceType":"module"}