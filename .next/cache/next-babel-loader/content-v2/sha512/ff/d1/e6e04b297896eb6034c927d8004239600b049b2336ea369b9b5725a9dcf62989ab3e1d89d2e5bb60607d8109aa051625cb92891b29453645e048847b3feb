{"ast":null,"code":"import _Modal from \"antd/lib/modal\";\nimport _Select from \"antd/lib/select\";\nimport _defineProperty from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _Input from \"antd/lib/input\";\n\nvar _jsxFileName = \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/pages/dashboard/produk/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/node_modules/next/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Head from \"next/head\";\nimport React, { useEffect, useState } from \"react\";\nimport LayoutContent from \"@iso/components/utility/layoutContent\";\nimport LayoutWrapper from \"@iso/components/utility/layoutWrapper.js\";\nimport { useRouter } from \"next/router\";\nimport { toast } from \"react-toastify\";\nimport nookies from \"nookies\";\nimport DashboardLayout from \"../../../containers/DashboardLayout/DashboardLayout\";\nimport TitlePage from \"../../../components/TitlePage/TitlePage\";\nimport ProductTable from \"../../../components/ReactDataTable/ProductTable\";\nimport ProductModal from \"../../../components/Modal/ProductModal\";\nimport UnitTableView from \"../../../components/ReactDataTable/Product/UnitsTableView\";\nimport Manufactures from \"../../../components/Form/AddProduct/Manufactures\";\nimport DownloadTemplate from \"../../../components/Form/DownloadTemplate\";\nimport ExportProduk from \"../../../components/Form/ExportProduk\";\nimport UploadProduk from \"../../../components/Form/UploadProduk\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Product = function Product(_ref) {\n  _s();\n\n  var props = _ref.props;\n  var data = props.data;\n  var manufactures = props.manufactures;\n  var categories = props.categories;\n  var locations = props.locations;\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(data),\n      product = _useState2[0],\n      setProduct = _useState2[1];\n\n  var _useState3 = useState(),\n      modalProduct = _useState3[0],\n      setModalProduct = _useState3[1];\n\n  var _useState4 = useState(false),\n      isSearching = _useState4[0],\n      setIsSearching = _useState4[1];\n\n  var _useState5 = useState(false),\n      visible = _useState5[0],\n      setVisible = _useState5[1];\n\n  var router = useRouter();\n\n  var _useState6 = useState(),\n      inventory = _useState6[0],\n      setInventory = _useState6[1];\n\n  var _useState7 = useState({\n    namaSKU: \"\",\n    manufacture: \"\",\n    location: [],\n    category: \"\"\n  }),\n      searchParameters = _useState7[0],\n      setSearchParameters = _useState7[1];\n\n  var _useState8 = useState({\n    manufactures: manufactures,\n    categories: categories,\n    locations: locations\n  }),\n      searchOptionData = _useState8[0],\n      setSearchOptionData = _useState8[1];\n\n  var Search = _Input.Search;\n\n  var handleSearch = function handleSearch(newValue, category) {\n    if (newValue) {\n      fetchSearchOption(newValue, category);\n    } else {\n      setSearchOptionData({\n        manufactures: manufactures,\n        categories: categories,\n        locations: locations\n      });\n    }\n  };\n\n  var fetchSearchOption = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(query, category) {\n      var cookies, endpoint, options, req, res, resData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              cookies = nookies.get(null);\n              _context.prev = 1;\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/\".concat(category, \"?filters[name][$containsi]=\").concat(query);\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context.next = 6;\n              return fetch(endpoint, options);\n\n            case 6:\n              req = _context.sent;\n              _context.next = 9;\n              return req.json();\n\n            case 9:\n              res = _context.sent;\n\n              if (req.status == 200) {\n                resData = res.data.map(function (item) {\n                  return {\n                    name: \"\".concat(item.attributes.name),\n                    value: item.id,\n                    id: item.id\n                  };\n                });\n                setSearchOptionData(_objectSpread(_objectSpread({}, searchOptionData), {}, _defineProperty({}, category, resData)));\n              }\n\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 13]]);\n    }));\n\n    return function fetchSearchOption(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // search query\n\n\n  useEffect(function () {\n    var searchQuery = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var query, locationQuery, endpoint, cookies, options, req, res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                setIsSearching(true);\n                query = \"filters[$or][0][name][$contains]=\" + searchParameters.namaSKU + \"&filters[$or][1][SKU][$contains]=\" + searchParameters.namaSKU;\n                locationQuery = \"\";\n\n                if (searchParameters.manufacture) {\n                  query += \"&filters[$and][2][manufacture][id][$eq]=\";\n                  query += searchParameters.manufacture;\n                }\n\n                if (searchParameters.category) {\n                  query += \"&filters[$and][3][category][id][$eq]=\";\n                  query += searchParameters.category;\n                }\n\n                if (searchParameters.location.length > 0) {\n                  searchParameters.location.forEach(function (item, idx) {\n                    locationQuery += \"&filters[$and][\" + (idx + 4) + \"][locations][id][$eq]=\" + item;\n                  });\n                } else {\n                  locationQuery = \"\";\n                }\n\n                endpoint = process.env.NEXT_PUBLIC_URL + \"/products?populate=*&\" + query + locationQuery;\n                cookies = nookies.get(null, \"token\");\n                options = {\n                  method: \"GET\",\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: \"Bearer \" + cookies.token\n                  }\n                };\n                _context2.next = 11;\n                return fetch(endpoint, options);\n\n              case 11:\n                req = _context2.sent;\n                _context2.next = 14;\n                return req.json();\n\n              case 14:\n                res = _context2.sent;\n                setProduct(res);\n                setIsSearching(false);\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function searchQuery() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    searchQuery();\n  }, [searchParameters]);\n\n  var handleAdd = function handleAdd() {\n    console.log(\"\");\n    router.push(\"/dashboard/produk/tambah\");\n  };\n\n  var handleView = function handleView() {\n    router.push(\"/dashboard/produk/lihat\");\n  };\n\n  var handleUpdate = function handleUpdate(id) {\n    console.log(\"\");\n    router.push(\"/dashboard/produk/edit/\" + id);\n  };\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n      var endpoint, cookies, options, req, res, _req, _res;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/products/\" + id;\n              cookies = nookies.get(null, \"token\");\n              options = {\n                method: \"DELETE\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context3.next = 5;\n              return fetch(endpoint, options);\n\n            case 5:\n              req = _context3.sent;\n              _context3.next = 8;\n              return req.json();\n\n            case 8:\n              res = _context3.sent;\n\n              if (!res) {\n                _context3.next = 18;\n                break;\n              }\n\n              _context3.next = 12;\n              return fetchData(cookies);\n\n            case 12:\n              _req = _context3.sent;\n              _context3.next = 15;\n              return _req.json();\n\n            case 15:\n              _res = _context3.sent;\n              toast.success(\"Produk berhasil dihapus\");\n              setProduct(_res);\n\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleDelete(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handlePageChange = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(page) {\n      var cookies, endpoint, options, req, res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              cookies = nookies.get(null, \"token\");\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/products?pagination[page]=\" + page;\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context4.prev = 3;\n              _context4.next = 6;\n              return fetch(endpoint, options);\n\n            case 6:\n              req = _context4.sent;\n              _context4.next = 9;\n              return req.json();\n\n            case 9:\n              res = _context4.sent;\n\n              if (res) {\n                setProduct(function (prevData) {\n                  return {\n                    data: filterDuplicateData(prevData.data.concat(res.data)),\n                    meta: prevData.meta\n                  };\n                });\n              } else {\n                console.log(\"something is wrong\");\n              }\n\n              _context4.next = 16;\n              break;\n\n            case 13:\n              _context4.prev = 13;\n              _context4.t0 = _context4[\"catch\"](3);\n              console.log(_context4.t0);\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[3, 13]]);\n    }));\n\n    return function handlePageChange(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var filterDuplicateData = function filterDuplicateData(arr) {\n    var seen = new Set();\n    var filteredArr = arr.filter(function (el) {\n      var duplicate = seen.has(el.id);\n      seen.add(el.id);\n      return !duplicate;\n    });\n    return filteredArr;\n  };\n\n  var fetchInventory = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data) {\n      var cookies, endpoint, options, req, res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              setIsLoading(true);\n              cookies = nookies.get(null, \"token\");\n              endpoint = process.env.NEXT_PUBLIC_URL + \"/inventories?filters[products][id][$eq]=\".concat(data.id, \"&populate=locations\");\n              options = {\n                method: \"GET\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Bearer \" + cookies.token\n                }\n              };\n              _context5.next = 6;\n              return fetch(endpoint, options);\n\n            case 6:\n              req = _context5.sent;\n              _context5.next = 9;\n              return req.json();\n\n            case 9:\n              res = _context5.sent;\n              // return req;\n              // console.log(res);\n              setInventory(res.data); //\n\n            case 11:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function fetchInventory(_x5) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var openModal = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(e, data) {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              // console.log(\"test\", data);\n              setVisible(e);\n              fetchInventory(data);\n\n            case 2:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function openModal(_x6, _x7) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    console.log(\"inventory\", inventory);\n    setIsLoading(false);\n  }, [inventory]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Produk\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(DashboardLayout, {\n      children: /*#__PURE__*/_jsxDEV(LayoutWrapper, {\n        style: {},\n        children: [/*#__PURE__*/_jsxDEV(TitlePage, {\n          titleText: \"Produk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(LayoutContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex justify-between gap-x-32 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full md:w-1/2 grid grid-cols-2 gap-x-4 gap-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(_Select, {\n                size: \"middle\",\n                allowClear: true,\n                showSearch: true,\n                showArrow: false,\n                filterOption: false,\n                notFoundContent: null,\n                placeholder: \"PABRIKASI\",\n                onSelect: function onSelect(e) {\n                  return setSearchParameters(_objectSpread(_objectSpread({}, searchParameters), {}, {\n                    manufacture: e\n                  }));\n                },\n                onClear: function onClear() {\n                  return setSearchParameters(_objectSpread(_objectSpread({}, searchParameters), {}, {\n                    manufacture: \"\"\n                  }));\n                },\n                onSearch: function onSearch(e) {\n                  return handleSearch(e, \"manufactures\");\n                },\n                children: searchOptionData.manufactures.map(function (item) {\n                  return /*#__PURE__*/_jsxDEV(_Select.Option, {\n                    value: item === null || item === void 0 ? void 0 : item.id,\n                    children: item.name\n                  }, item === null || item === void 0 ? void 0 : item.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 21\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, _this), \" \", /*#__PURE__*/_jsxDEV(_Select, {\n                size: \"middle\",\n                allowClear: true,\n                showSearch: true,\n                showArrow: false,\n                filterOption: false,\n                notFoundContent: null,\n                placeholder: \"KATEGORI\",\n                onSelect: function onSelect(e) {\n                  return setSearchParameters(_objectSpread(_objectSpread({}, searchParameters), {}, {\n                    category: e\n                  }));\n                },\n                onClear: function onClear() {\n                  return setSearchParameters(_objectSpread(_objectSpread({}, searchParameters), {}, {\n                    category: \"\"\n                  }));\n                },\n                onSearch: function onSearch(e) {\n                  return handleSearch(e, \"categories\");\n                },\n                children: searchOptionData.categories.map(function (item) {\n                  return /*#__PURE__*/_jsxDEV(_Select.Option, {\n                    value: item === null || item === void 0 ? void 0 : item.id,\n                    children: item.name\n                  }, item === null || item === void 0 ? void 0 : item.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 21\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(_Select, {\n                mode: \"multiple\",\n                size: \"middle\",\n                placeholder: \"LOKASI\",\n                allowClear: true,\n                onChange: function onChange(e) {\n                  return setSearchParameters(_objectSpread(_objectSpread({}, searchParameters), {}, {\n                    location: e\n                  }));\n                },\n                onClear: function onClear() {\n                  return setSearchParameters(_objectSpread(_objectSpread({}, searchParameters), {}, {\n                    location: []\n                  }));\n                },\n                onSearch: function onSearch(e) {\n                  return handleSearch(e, \"locations\");\n                },\n                children: searchOptionData.locations.map(function (data) {\n                  return /*#__PURE__*/_jsxDEV(_Select.Option, {\n                    value: data.id,\n                    children: data.name\n                  }, data.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 21\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Search, {\n                className: \"\",\n                loading: isSearching,\n                onChange: function onChange(e) {\n                  return setSearchParameters(_objectSpread(_objectSpread({}, searchParameters), {}, {\n                    namaSKU: e.target.value\n                  }));\n                },\n                placeholder: \"NAMA PRODUK / SKU\",\n                size: \"middle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full flex flex-col gap-y-3 gap-x-4 md:w-1/2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: handleAdd,\n                className: \"bg-cyan-700 w-full cursor-pointer rounded px-5 h-10 hover:bg-cyan-800 shadow-sm flex items-center justify-center float-right\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white text-center text-sm font-bold\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"text-white no-underline text-xs sm:text-xs\",\n                    children: \"+ Tambah\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-3 gap-x-4 w-full\",\n                children: [/*#__PURE__*/_jsxDEV(UploadProduk, {\n                  setProduct: setProduct,\n                  fetchData: fetchData\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(ExportProduk, {\n                  data: product.data,\n                  setProduct: setProduct\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(DownloadTemplate, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(_Modal, {\n            className: \"rounded-lg m-5\",\n            head: true,\n            width: \"90%\",\n            centered: true,\n            visible: visible,\n            onOk: function onOk() {\n              return setVisible(false);\n            },\n            onCancel: function onCancel() {\n              return setVisible(false);\n            },\n            bodyStyle: {\n              borderRadius: \"20px\",\n              backgroundColor: \"#E8F2F2\"\n            },\n            style: {\n              backgroundColor: \"#E8F2F2\",\n              border: \"2px solid #000\"\n            },\n            footer: null,\n            children: /*#__PURE__*/_jsxDEV(ProductModal, {\n              data: modalProduct,\n              isLoading: isLoading,\n              inventory: inventory\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(ProductTable, {\n            data: product,\n            onDelete: handleDelete,\n            onUpdate: handleUpdate,\n            onPageChange: handlePageChange,\n            setIsVisible: openModal,\n            setViewModalProduct: setModalProduct\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Product, \"spyEbYhE3ixzQO/lSFmUoDDuFB0=\", false, function () {\n  return [useRouter];\n});\n\n_c = Product;\n\nProduct.getInitialProps = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(context) {\n    var cookies, data, req, manufactures, categories, locations;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            cookies = nookies.get(context);\n            _context7.next = 3;\n            return fetchData(cookies);\n\n          case 3:\n            req = _context7.sent;\n            _context7.next = 6;\n            return req.json();\n\n          case 6:\n            data = _context7.sent;\n            _context7.next = 9;\n            return fetchSearchParametersData(cookies, \"manufactures\");\n\n          case 9:\n            manufactures = _context7.sent;\n            _context7.next = 12;\n            return fetchSearchParametersData(cookies, \"categories\");\n\n          case 12:\n            categories = _context7.sent;\n            _context7.next = 15;\n            return fetchSearchParametersData(cookies, \"locations\");\n\n          case 15:\n            locations = _context7.sent;\n            return _context7.abrupt(\"return\", {\n              props: {\n                data: data,\n                manufactures: manufactures,\n                categories: categories,\n                locations: locations\n              }\n            });\n\n          case 17:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function (_x8) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nvar formatData = function formatData(data) {\n  var formattedData = data.map(function (item) {\n    return {\n      name: \"\".concat(item.attributes.name),\n      value: item.id,\n      id: item.id\n    };\n  });\n  return formattedData;\n};\n\nvar fetchData = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(cookies) {\n    var endpoint, options, req;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/products?populate=*\";\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context8.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context8.sent;\n            return _context8.abrupt(\"return\", req);\n\n          case 6:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function fetchData(_x9) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nvar fetchSearchParametersData = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(cookies, url) {\n    var endpoint, options, req, res;\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/\".concat(url, \"?pagination[limit]=10\");\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context9.next = 4;\n            return fetch(endpoint, options);\n\n          case 4:\n            req = _context9.sent;\n            _context9.next = 7;\n            return req.json();\n\n          case 7:\n            res = _context9.sent;\n            console.log(\"response\", res);\n            return _context9.abrupt(\"return\", formatData(res.data) || []);\n\n          case 10:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n\n  return function fetchSearchParametersData(_x10, _x11) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/pages/dashboard/produk/index.js"],"names":["Head","React","useEffect","useState","LayoutContent","LayoutWrapper","useRouter","toast","nookies","DashboardLayout","TitlePage","ProductTable","ProductModal","UnitTableView","Manufactures","DownloadTemplate","ExportProduk","UploadProduk","Product","props","data","manufactures","categories","locations","isLoading","setIsLoading","product","setProduct","modalProduct","setModalProduct","isSearching","setIsSearching","visible","setVisible","router","inventory","setInventory","namaSKU","manufacture","location","category","searchParameters","setSearchParameters","searchOptionData","setSearchOptionData","Search","handleSearch","newValue","fetchSearchOption","query","cookies","get","endpoint","process","env","NEXT_PUBLIC_URL","options","method","headers","Authorization","token","fetch","req","json","res","status","resData","map","item","name","attributes","value","id","console","log","searchQuery","locationQuery","length","forEach","idx","handleAdd","push","handleView","handleUpdate","handleDelete","fetchData","success","handlePageChange","page","prevData","filterDuplicateData","concat","meta","arr","seen","Set","filteredArr","filter","el","duplicate","has","add","fetchInventory","openModal","e","target","borderRadius","backgroundColor","border","getInitialProps","context","fetchSearchParametersData","formatData","formattedData","url"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,uCAA1B;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAOC,eAAP,MAA4B,qDAA5B;AACA,OAAOC,SAAP,MAAsB,yCAAtB;AAEA,OAAOC,YAAP,MAAyB,iDAAzB;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,OAAOC,aAAP,MAA0B,2DAA1B;AACA,OAAOC,YAAP,MAAyB,kDAAzB;AACA,OAAOC,gBAAP,MAA6B,2CAA7B;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,OAAOC,YAAP,MAAyB,uCAAzB;;;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAAe;AAAA;;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAC7B,MAAMC,IAAI,GAAGD,KAAK,CAACC,IAAnB;AACA,MAAMC,YAAY,GAAGF,KAAK,CAACE,YAA3B;AACA,MAAMC,UAAU,GAAGH,KAAK,CAACG,UAAzB;AACA,MAAMC,SAAS,GAAGJ,KAAK,CAACI,SAAxB;;AACA,kBAAkCpB,QAAQ,CAAC,KAAD,CAA1C;AAAA,MAAOqB,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAA8BtB,QAAQ,CAACiB,IAAD,CAAtC;AAAA,MAAOM,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAAwCxB,QAAQ,EAAhD;AAAA,MAAOyB,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAsC1B,QAAQ,CAAC,KAAD,CAA9C;AAAA,MAAO2B,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAA8B5B,QAAQ,CAAC,KAAD,CAAtC;AAAA,MAAO6B,OAAP;AAAA,MAAgBC,UAAhB;;AACA,MAAMC,MAAM,GAAG5B,SAAS,EAAxB;;AACA,mBAAkCH,QAAQ,EAA1C;AAAA,MAAOgC,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAAgDjC,QAAQ,CAAC;AACvDkC,IAAAA,OAAO,EAAE,EAD8C;AAEvDC,IAAAA,WAAW,EAAE,EAF0C;AAGvDC,IAAAA,QAAQ,EAAE,EAH6C;AAIvDC,IAAAA,QAAQ,EAAE;AAJ6C,GAAD,CAAxD;AAAA,MAAOC,gBAAP;AAAA,MAAyBC,mBAAzB;;AAMA,mBAAgDvC,QAAQ,CAAC;AACvDkB,IAAAA,YAAY,EAAEA,YADyC;AAEvDC,IAAAA,UAAU,EAAEA,UAF2C;AAGvDC,IAAAA,SAAS,EAAEA;AAH4C,GAAD,CAAxD;AAAA,MAAOoB,gBAAP;AAAA,MAAyBC,mBAAzB;;AAKA,MAAQC,MAAR,UAAQA,MAAR;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,QAAD,EAAWP,QAAX,EAAwB;AAC3C,QAAIO,QAAJ,EAAc;AACZC,MAAAA,iBAAiB,CAACD,QAAD,EAAWP,QAAX,CAAjB;AACD,KAFD,MAEO;AACLI,MAAAA,mBAAmB,CAAC;AAClBvB,QAAAA,YAAY,EAAEA,YADI;AAElBC,QAAAA,UAAU,EAAEA,UAFM;AAGlBC,QAAAA,SAAS,EAAEA;AAHO,OAAD,CAAnB;AAKD;AACF,GAVD;;AAYA,MAAMyB,iBAAiB;AAAA,yEAAG,iBAAOC,KAAP,EAAcT,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBU,cAAAA,OADkB,GACR1C,OAAO,CAAC2C,GAAR,CAAY,IAAZ,CADQ;AAAA;AAGhBC,cAAAA,QAHgB,GAIpBC,OAAO,CAACC,GAAR,CAAYC,eAAZ,cACIf,QADJ,wCAC0CS,KAD1C,CAJoB;AAMhBO,cAAAA,OANgB,GAMN;AACdC,gBAAAA,MAAM,EAAE,KADM;AAEdC,gBAAAA,OAAO,EAAE;AACP,kCAAgB,kBADT;AAEPC,kBAAAA,aAAa,EAAE,YAAYT,OAAO,CAACU;AAF5B;AAFK,eANM;AAAA;AAAA,qBAcJC,KAAK,CAACT,QAAD,EAAWI,OAAX,CAdD;;AAAA;AAchBM,cAAAA,GAdgB;AAAA;AAAA,qBAeJA,GAAG,CAACC,IAAJ,EAfI;;AAAA;AAehBC,cAAAA,GAfgB;;AAiBtB,kBAAIF,GAAG,CAACG,MAAJ,IAAc,GAAlB,EAAuB;AACfC,gBAAAA,OADe,GACLF,GAAG,CAAC5C,IAAJ,CAAS+C,GAAT,CAAa,UAACC,IAAD;AAAA,yBAAW;AACtCC,oBAAAA,IAAI,YAAKD,IAAI,CAACE,UAAL,CAAgBD,IAArB,CADkC;AAEtCE,oBAAAA,KAAK,EAAEH,IAAI,CAACI,EAF0B;AAGtCA,oBAAAA,EAAE,EAAEJ,IAAI,CAACI;AAH6B,mBAAX;AAAA,iBAAb,CADK;AAOrB5B,gBAAAA,mBAAmB,iCAAMD,gBAAN,2BAAyBH,QAAzB,EAAoC0B,OAApC,GAAnB;AACD;;AAzBqB;AAAA;;AAAA;AAAA;AAAA;AA2BtBO,cAAAA,OAAO,CAACC,GAAR;;AA3BsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAjB1B,iBAAiB;AAAA;AAAA;AAAA,KAAvB,CArC6B,CAoE7B;;;AACA9C,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMyE,WAAW;AAAA,2EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB5C,gBAAAA,cAAc,CAAC,IAAD,CAAd;AACIkB,gBAAAA,KAFc,GAGhB,sCACAR,gBAAgB,CAACJ,OADjB,GAEA,mCAFA,GAGAI,gBAAgB,CAACJ,OAND;AAOduC,gBAAAA,aAPc,GAOE,EAPF;;AASlB,oBAAInC,gBAAgB,CAACH,WAArB,EAAkC;AAChCW,kBAAAA,KAAK,IAAI,0CAAT;AACAA,kBAAAA,KAAK,IAAIR,gBAAgB,CAACH,WAA1B;AACD;;AAED,oBAAIG,gBAAgB,CAACD,QAArB,EAA+B;AAC7BS,kBAAAA,KAAK,IAAI,uCAAT;AACAA,kBAAAA,KAAK,IAAIR,gBAAgB,CAACD,QAA1B;AACD;;AAED,oBAAIC,gBAAgB,CAACF,QAAjB,CAA0BsC,MAA1B,GAAmC,CAAvC,EAA0C;AACxCpC,kBAAAA,gBAAgB,CAACF,QAAjB,CAA0BuC,OAA1B,CAAkC,UAACV,IAAD,EAAOW,GAAP,EAAe;AAC/CH,oBAAAA,aAAa,IACX,qBAAqBG,GAAG,GAAG,CAA3B,IAAgC,wBAAhC,GAA2DX,IAD7D;AAED,mBAHD;AAID,iBALD,MAKO;AACLQ,kBAAAA,aAAa,GAAG,EAAhB;AACD;;AAEKxB,gBAAAA,QA5BY,GA6BhBC,OAAO,CAACC,GAAR,CAAYC,eAAZ,GACA,uBADA,GAEAN,KAFA,GAGA2B,aAhCgB;AAkCZ1B,gBAAAA,OAlCY,GAkCF1C,OAAO,CAAC2C,GAAR,CAAY,IAAZ,EAAkB,OAAlB,CAlCE;AAmCZK,gBAAAA,OAnCY,GAmCF;AACdC,kBAAAA,MAAM,EAAE,KADM;AAEdC,kBAAAA,OAAO,EAAE;AACP,oCAAgB,kBADT;AAEPC,oBAAAA,aAAa,EAAE,YAAYT,OAAO,CAACU;AAF5B;AAFK,iBAnCE;AAAA;AAAA,uBA2CAC,KAAK,CAACT,QAAD,EAAWI,OAAX,CA3CL;;AAAA;AA2CZM,gBAAAA,GA3CY;AAAA;AAAA,uBA4CAA,GAAG,CAACC,IAAJ,EA5CA;;AAAA;AA4CZC,gBAAAA,GA5CY;AA8ClBrC,gBAAAA,UAAU,CAACqC,GAAD,CAAV;AACAjC,gBAAAA,cAAc,CAAC,KAAD,CAAd;;AA/CkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAX4C,WAAW;AAAA;AAAA;AAAA,OAAjB;;AAkDAA,IAAAA,WAAW;AACZ,GApDQ,EAoDN,CAAClC,gBAAD,CApDM,CAAT;;AAsDA,MAAMuC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBP,IAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ;AACAxC,IAAAA,MAAM,CAAC+C,IAAP,CAAY,0BAAZ;AACD,GAHD;;AAKA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBhD,IAAAA,MAAM,CAAC+C,IAAP,CAAY,yBAAZ;AACD,GAFD;;AAIA,MAAME,YAAY,GAAG,SAAfA,YAAe,CAACX,EAAD,EAAQ;AAC3BC,IAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ;AACAxC,IAAAA,MAAM,CAAC+C,IAAP,CAAY,4BAA4BT,EAAxC;AACD,GAHD;;AAKA,MAAMY,YAAY;AAAA,yEAAG,kBAAOZ,EAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACbpB,cAAAA,QADa,GACFC,OAAO,CAACC,GAAR,CAAYC,eAAZ,GAA8B,YAA9B,GAA6CiB,EAD3C;AAEbtB,cAAAA,OAFa,GAEH1C,OAAO,CAAC2C,GAAR,CAAY,IAAZ,EAAkB,OAAlB,CAFG;AAIbK,cAAAA,OAJa,GAIH;AACdC,gBAAAA,MAAM,EAAE,QADM;AAEdC,gBAAAA,OAAO,EAAE;AACP,kCAAgB,kBADT;AAEPC,kBAAAA,aAAa,EAAE,YAAYT,OAAO,CAACU;AAF5B;AAFK,eAJG;AAAA;AAAA,qBAYDC,KAAK,CAACT,QAAD,EAAWI,OAAX,CAZJ;;AAAA;AAYbM,cAAAA,GAZa;AAAA;AAAA,qBAaDA,GAAG,CAACC,IAAJ,EAbC;;AAAA;AAabC,cAAAA,GAba;;AAAA,mBAcfA,GAde;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAeCqB,SAAS,CAACnC,OAAD,CAfV;;AAAA;AAeXY,cAAAA,IAfW;AAAA;AAAA,qBAgBCA,IAAG,CAACC,IAAJ,EAhBD;;AAAA;AAgBXC,cAAAA,IAhBW;AAiBjBzD,cAAAA,KAAK,CAAC+E,OAAN,CAAc,yBAAd;AACA3D,cAAAA,UAAU,CAACqC,IAAD,CAAV;;AAlBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZoB,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAsBA,MAAMG,gBAAgB;AAAA,yEAAG,kBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBtC,cAAAA,OADiB,GACP1C,OAAO,CAAC2C,GAAR,CAAY,IAAZ,EAAkB,OAAlB,CADO;AAEjBC,cAAAA,QAFiB,GAGrBC,OAAO,CAACC,GAAR,CAAYC,eAAZ,GAA8B,6BAA9B,GAA8DiC,IAHzC;AAKjBhC,cAAAA,OALiB,GAKP;AACdC,gBAAAA,MAAM,EAAE,KADM;AAEdC,gBAAAA,OAAO,EAAE;AACP,kCAAgB,kBADT;AAEPC,kBAAAA,aAAa,EAAE,YAAYT,OAAO,CAACU;AAF5B;AAFK,eALO;AAAA;AAAA;AAAA,qBAcHC,KAAK,CAACT,QAAD,EAAWI,OAAX,CAdF;;AAAA;AAcfM,cAAAA,GAde;AAAA;AAAA,qBAeHA,GAAG,CAACC,IAAJ,EAfG;;AAAA;AAefC,cAAAA,GAfe;;AAgBrB,kBAAIA,GAAJ,EAAS;AACPrC,gBAAAA,UAAU,CAAC,UAAC8D,QAAD;AAAA,yBAAe;AACxBrE,oBAAAA,IAAI,EAAEsE,mBAAmB,CAACD,QAAQ,CAACrE,IAAT,CAAcuE,MAAd,CAAqB3B,GAAG,CAAC5C,IAAzB,CAAD,CADD;AAExBwE,oBAAAA,IAAI,EAAEH,QAAQ,CAACG;AAFS,mBAAf;AAAA,iBAAD,CAAV;AAID,eALD,MAKO;AACLnB,gBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;;AAvBoB;AAAA;;AAAA;AAAA;AAAA;AAyBrBD,cAAAA,OAAO,CAACC,GAAR;;AAzBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAhBa,gBAAgB;AAAA;AAAA;AAAA,KAAtB;;AA6BA,MAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACG,GAAD,EAAS;AACnC,QAAMC,IAAI,GAAG,IAAIC,GAAJ,EAAb;AAEA,QAAMC,WAAW,GAAGH,GAAG,CAACI,MAAJ,CAAW,UAACC,EAAD,EAAQ;AACrC,UAAMC,SAAS,GAAGL,IAAI,CAACM,GAAL,CAASF,EAAE,CAAC1B,EAAZ,CAAlB;AACAsB,MAAAA,IAAI,CAACO,GAAL,CAASH,EAAE,CAAC1B,EAAZ;AACA,aAAO,CAAC2B,SAAR;AACD,KAJmB,CAApB;AAMA,WAAOH,WAAP;AACD,GAVD;;AAYA,MAAMM,cAAc;AAAA,yEAAG,kBAAOlF,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBK,cAAAA,YAAY,CAAC,IAAD,CAAZ;AACMyB,cAAAA,OAFe,GAEL1C,OAAO,CAAC2C,GAAR,CAAY,IAAZ,EAAkB,OAAlB,CAFK;AAGfC,cAAAA,QAHe,GAInBC,OAAO,CAACC,GAAR,CAAYC,eAAZ,qDAC2CnC,IAAI,CAACoD,EADhD,wBAJmB;AAMfhB,cAAAA,OANe,GAML;AACdC,gBAAAA,MAAM,EAAE,KADM;AAEdC,gBAAAA,OAAO,EAAE;AACP,kCAAgB,kBADT;AAEPC,kBAAAA,aAAa,EAAE,YAAYT,OAAO,CAACU;AAF5B;AAFK,eANK;AAAA;AAAA,qBAcHC,KAAK,CAACT,QAAD,EAAWI,OAAX,CAdF;;AAAA;AAcfM,cAAAA,GAde;AAAA;AAAA,qBAeHA,GAAG,CAACC,IAAJ,EAfG;;AAAA;AAefC,cAAAA,GAfe;AAgBrB;AACA;AAEA5B,cAAAA,YAAY,CAAC4B,GAAG,CAAC5C,IAAL,CAAZ,CAnBqB,CAqBrB;;AArBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdkF,cAAc;AAAA;AAAA;AAAA,KAApB;;AAwBA,MAAMC,SAAS;AAAA,yEAAG,kBAAOC,CAAP,EAAUpF,IAAV;AAAA;AAAA;AAAA;AAAA;AAChB;AACAa,cAAAA,UAAU,CAACuE,CAAD,CAAV;AACAF,cAAAA,cAAc,CAAClF,IAAD,CAAd;;AAHgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATmF,SAAS;AAAA;AAAA;AAAA,KAAf;;AAMArG,EAAAA,SAAS,CAAC,YAAM;AACduE,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBvC,SAAzB;AACAV,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAHQ,EAGN,CAACU,SAAD,CAHM,CAAT;AAKA,sBACE;AAAA,4BACE,QAAC,IAAD;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aADF,eAIE,QAAC,eAAD;AAAA,6BACE,QAAC,aAAD;AAAe,QAAA,KAAK,EAAE,EAAtB;AAAA,gCACE,QAAC,SAAD;AAAW,UAAA,SAAS,EAAE;AAAtB;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,QAAC,aAAD;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,2CAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,kDAAf;AAAA,sCACE;AACE,gBAAA,IAAI,EAAC,QADP;AAEE,gBAAA,UAAU,MAFZ;AAGE,gBAAA,UAAU,MAHZ;AAIE,gBAAA,SAAS,EAAE,KAJb;AAKE,gBAAA,YAAY,EAAE,KALhB;AAME,gBAAA,eAAe,EAAE,IANnB;AAOE,gBAAA,WAAW,EAAC,WAPd;AAQE,gBAAA,QAAQ,EAAE,kBAACqE,CAAD;AAAA,yBACR9D,mBAAmB,iCAAMD,gBAAN;AAAwBH,oBAAAA,WAAW,EAAEkE;AAArC,qBADX;AAAA,iBARZ;AAWE,gBAAA,OAAO,EAAE;AAAA,yBACP9D,mBAAmB,iCACdD,gBADc;AAEjBH,oBAAAA,WAAW,EAAE;AAFI,qBADZ;AAAA,iBAXX;AAiBE,gBAAA,QAAQ,EAAE,kBAACkE,CAAD;AAAA,yBAAO1D,YAAY,CAAC0D,CAAD,EAAI,cAAJ,CAAnB;AAAA,iBAjBZ;AAAA,0BAmBG7D,gBAAgB,CAACtB,YAAjB,CAA8B8C,GAA9B,CAAkC,UAACC,IAAD;AAAA,sCACjC,gBAAQ,MAAR;AAA8B,oBAAA,KAAK,EAAEA,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEI,EAA3C;AAAA,8BACGJ,IAAI,CAACC;AADR,qBAAoBD,IAApB,aAAoBA,IAApB,uBAAoBA,IAAI,CAAEI,EAA1B;AAAA;AAAA;AAAA;AAAA,2BADiC;AAAA,iBAAlC;AAnBH;AAAA;AAAA;AAAA;AAAA,uBADF,EAyBY,GAzBZ,eA0BE;AACE,gBAAA,IAAI,EAAC,QADP;AAEE,gBAAA,UAAU,MAFZ;AAGE,gBAAA,UAAU,MAHZ;AAIE,gBAAA,SAAS,EAAE,KAJb;AAKE,gBAAA,YAAY,EAAE,KALhB;AAME,gBAAA,eAAe,EAAE,IANnB;AAOE,gBAAA,WAAW,EAAC,UAPd;AAQE,gBAAA,QAAQ,EAAE,kBAACgC,CAAD;AAAA,yBACR9D,mBAAmB,iCAAMD,gBAAN;AAAwBD,oBAAAA,QAAQ,EAAEgE;AAAlC,qBADX;AAAA,iBARZ;AAWE,gBAAA,OAAO,EAAE;AAAA,yBACP9D,mBAAmB,iCAAMD,gBAAN;AAAwBD,oBAAAA,QAAQ,EAAE;AAAlC,qBADZ;AAAA,iBAXX;AAcE,gBAAA,QAAQ,EAAE,kBAACgE,CAAD;AAAA,yBAAO1D,YAAY,CAAC0D,CAAD,EAAI,YAAJ,CAAnB;AAAA,iBAdZ;AAAA,0BAgBG7D,gBAAgB,CAACrB,UAAjB,CAA4B6C,GAA5B,CAAgC,UAACC,IAAD;AAAA,sCAC/B,gBAAQ,MAAR;AAA8B,oBAAA,KAAK,EAAEA,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEI,EAA3C;AAAA,8BACGJ,IAAI,CAACC;AADR,qBAAoBD,IAApB,aAAoBA,IAApB,uBAAoBA,IAAI,CAAEI,EAA1B;AAAA;AAAA;AAAA;AAAA,2BAD+B;AAAA,iBAAhC;AAhBH;AAAA;AAAA;AAAA;AAAA,uBA1BF,eAgDE;AACE,gBAAA,IAAI,EAAC,UADP;AAEE,gBAAA,IAAI,EAAC,QAFP;AAGE,gBAAA,WAAW,EAAC,QAHd;AAIE,gBAAA,UAAU,MAJZ;AAKE,gBAAA,QAAQ,EAAE,kBAACgC,CAAD;AAAA,yBACR9D,mBAAmB,iCAAMD,gBAAN;AAAwBF,oBAAAA,QAAQ,EAAEiE;AAAlC,qBADX;AAAA,iBALZ;AAQE,gBAAA,OAAO,EAAE;AAAA,yBACP9D,mBAAmB,iCAAMD,gBAAN;AAAwBF,oBAAAA,QAAQ,EAAE;AAAlC,qBADZ;AAAA,iBARX;AAWE,gBAAA,QAAQ,EAAE,kBAACiE,CAAD;AAAA,yBAAO1D,YAAY,CAAC0D,CAAD,EAAI,WAAJ,CAAnB;AAAA,iBAXZ;AAAA,0BAaG7D,gBAAgB,CAACpB,SAAjB,CAA2B4C,GAA3B,CAA+B,UAAC/C,IAAD;AAAA,sCAC9B,gBAAQ,MAAR;AAA6B,oBAAA,KAAK,EAAEA,IAAI,CAACoD,EAAzC;AAAA,8BACGpD,IAAI,CAACiD;AADR,qBAAoBjD,IAAI,CAACoD,EAAzB;AAAA;AAAA;AAAA;AAAA,2BAD8B;AAAA,iBAA/B;AAbH;AAAA;AAAA;AAAA;AAAA,uBAhDF,eAmEE,QAAC,MAAD;AACE,gBAAA,SAAS,EAAC,EADZ;AAEE,gBAAA,OAAO,EAAE1C,WAFX;AAGE,gBAAA,QAAQ,EAAE,kBAAC0E,CAAD;AAAA,yBACR9D,mBAAmB,iCACdD,gBADc;AAEjBJ,oBAAAA,OAAO,EAAEmE,CAAC,CAACC,MAAF,CAASlC;AAFD,qBADX;AAAA,iBAHZ;AASE,gBAAA,WAAW,EAAC,mBATd;AAUE,gBAAA,IAAI,EAAC;AAVP;AAAA;AAAA;AAAA;AAAA,uBAnEF;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAiFE;AAAK,cAAA,SAAS,EAAC,+CAAf;AAAA,sCACE;AACE,gBAAA,OAAO,EAAES,SADX;AAEE,gBAAA,SAAS,EAAC,8HAFZ;AAAA,uCAIE;AAAK,kBAAA,SAAS,EAAC,0CAAf;AAAA,yCACE;AAAG,oBAAA,SAAS,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,uBADF,eAWE;AAAK,gBAAA,SAAS,EAAC,iCAAf;AAAA,wCACE,QAAC,YAAD;AAAc,kBAAA,UAAU,EAAErD,UAA1B;AAAsC,kBAAA,SAAS,EAAE0D;AAAjD;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE,QAAC,YAAD;AAAc,kBAAA,IAAI,EAAE3D,OAAO,CAACN,IAA5B;AAAkC,kBAAA,UAAU,EAAEO;AAA9C;AAAA;AAAA;AAAA;AAAA,yBAFF,eAGE,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,yBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,uBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,qBAjFF;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAqGE;AACE,YAAA,SAAS,EAAC,gBADZ;AAEE,YAAA,IAAI,MAFN;AAGE,YAAA,KAAK,EAAE,KAHT;AAIE,YAAA,QAAQ,MAJV;AAKE,YAAA,OAAO,EAAEK,OALX;AAME,YAAA,IAAI,EAAE;AAAA,qBAAMC,UAAU,CAAC,KAAD,CAAhB;AAAA,aANR;AAOE,YAAA,QAAQ,EAAE;AAAA,qBAAMA,UAAU,CAAC,KAAD,CAAhB;AAAA,aAPZ;AAQE,YAAA,SAAS,EAAE;AACTyE,cAAAA,YAAY,EAAE,MADL;AAETC,cAAAA,eAAe,EAAE;AAFR,aARb;AAYE,YAAA,KAAK,EAAE;AACLA,cAAAA,eAAe,EAAE,SADZ;AAELC,cAAAA,MAAM,EAAE;AAFH,aAZT;AAgBE,YAAA,MAAM,EAAE,IAhBV;AAAA,mCAkBE,QAAC,YAAD;AACE,cAAA,IAAI,EAAEhF,YADR;AAEE,cAAA,SAAS,EAAEJ,SAFb;AAGE,cAAA,SAAS,EAAEW;AAHb;AAAA;AAAA;AAAA;AAAA;AAlBF;AAAA;AAAA;AAAA;AAAA,mBArGF,eA8HE,QAAC,YAAD;AACE,YAAA,IAAI,EAAET,OADR;AAEE,YAAA,QAAQ,EAAE0D,YAFZ;AAGE,YAAA,QAAQ,EAAED,YAHZ;AAIE,YAAA,YAAY,EAAEI,gBAJhB;AAKE,YAAA,YAAY,EAAEgB,SALhB;AAME,YAAA,mBAAmB,EAAE1E;AANvB;AAAA;AAAA;AAAA;AAAA,mBA9HF;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aAJF;AAAA,kBADF;AAmJD,CA9XD;;GAAMX,O;UAUWZ,S;;;KAVXY,O;;AAgYNA,OAAO,CAAC2F,eAAR;AAAA,uEAA0B,kBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB5D,YAAAA,OADkB,GACR1C,OAAO,CAAC2C,GAAR,CAAY2D,OAAZ,CADQ;AAAA;AAAA,mBAINzB,SAAS,CAACnC,OAAD,CAJH;;AAAA;AAIlBY,YAAAA,GAJkB;AAAA;AAAA,mBAKXA,GAAG,CAACC,IAAJ,EALW;;AAAA;AAKxB3C,YAAAA,IALwB;AAAA;AAAA,mBAOG2F,yBAAyB,CAAC7D,OAAD,EAAU,cAAV,CAP5B;;AAAA;AAOlB7B,YAAAA,YAPkB;AAAA;AAAA,mBAQC0F,yBAAyB,CAAC7D,OAAD,EAAU,YAAV,CAR1B;;AAAA;AAQlB5B,YAAAA,UARkB;AAAA;AAAA,mBASAyF,yBAAyB,CAAC7D,OAAD,EAAU,WAAV,CATzB;;AAAA;AASlB3B,YAAAA,SATkB;AAAA,8CAWjB;AACLJ,cAAAA,KAAK,EAAE;AACLC,gBAAAA,IAAI,EAAJA,IADK;AAELC,gBAAAA,YAAY,EAAZA,YAFK;AAGLC,gBAAAA,UAAU,EAAVA,UAHK;AAILC,gBAAAA,SAAS,EAATA;AAJK;AADF,aAXiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1B;;AAAA;AAAA;AAAA;AAAA;;AAqBA,IAAMyF,UAAU,GAAG,SAAbA,UAAa,CAAC5F,IAAD,EAAU;AAC3B,MAAM6F,aAAa,GAAG7F,IAAI,CAAC+C,GAAL,CAAS,UAACC,IAAD,EAAU;AACvC,WAAO;AACLC,MAAAA,IAAI,YAAKD,IAAI,CAACE,UAAL,CAAgBD,IAArB,CADC;AAELE,MAAAA,KAAK,EAAEH,IAAI,CAACI,EAFP;AAGLA,MAAAA,EAAE,EAAEJ,IAAI,CAACI;AAHJ,KAAP;AAKD,GANqB,CAAtB;AAQA,SAAOyC,aAAP;AACD,CAVD;;AAYA,IAAM5B,SAAS;AAAA,uEAAG,kBAAOnC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACVE,YAAAA,QADU,GACCC,OAAO,CAACC,GAAR,CAAYC,eAAZ,GAA8B,sBAD/B;AAEVC,YAAAA,OAFU,GAEA;AACdC,cAAAA,MAAM,EAAE,KADM;AAEdC,cAAAA,OAAO,EAAE;AACP,gCAAgB,kBADT;AAEPC,gBAAAA,aAAa,EAAE,YAAYT,OAAO,CAACU;AAF5B;AAFK,aAFA;AAAA;AAAA,mBAUEC,KAAK,CAACT,QAAD,EAAWI,OAAX,CAVP;;AAAA;AAUVM,YAAAA,GAVU;AAAA,8CAWTA,GAXS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATuB,SAAS;AAAA;AAAA;AAAA,GAAf;;AAcA,IAAM0B,yBAAyB;AAAA,wEAAG,kBAAO7D,OAAP,EAAgBgE,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1B9D,YAAAA,QAD0B,GACfC,OAAO,CAACC,GAAR,CAAYC,eAAZ,cAAkC2D,GAAlC,0BADe;AAE1B1D,YAAAA,OAF0B,GAEhB;AACdC,cAAAA,MAAM,EAAE,KADM;AAEdC,cAAAA,OAAO,EAAE;AACP,gCAAgB,kBADT;AAEPC,gBAAAA,aAAa,EAAE,YAAYT,OAAO,CAACU;AAF5B;AAFK,aAFgB;AAAA;AAAA,mBAUdC,KAAK,CAACT,QAAD,EAAWI,OAAX,CAVS;;AAAA;AAU1BM,YAAAA,GAV0B;AAAA;AAAA,mBAWdA,GAAG,CAACC,IAAJ,EAXc;;AAAA;AAW1BC,YAAAA,GAX0B;AAahCS,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBV,GAAxB;AAbgC,8CAezBgD,UAAU,CAAChD,GAAG,CAAC5C,IAAL,CAAV,IAAwB,EAfC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAzB2F,yBAAyB;AAAA;AAAA;AAAA,GAA/B;;AAkBA,eAAe7F,OAAf","sourcesContent":["import Head from \"next/head\";\nimport React, { useEffect, useState } from \"react\";\nimport LayoutContent from \"@iso/components/utility/layoutContent\";\nimport LayoutWrapper from \"@iso/components/utility/layoutWrapper.js\";\nimport { useRouter } from \"next/router\";\nimport { toast } from \"react-toastify\";\nimport nookies from \"nookies\";\nimport DashboardLayout from \"../../../containers/DashboardLayout/DashboardLayout\";\nimport TitlePage from \"../../../components/TitlePage/TitlePage\";\nimport { Input, Modal, Select } from \"antd\";\nimport ProductTable from \"../../../components/ReactDataTable/ProductTable\";\nimport ProductModal from \"../../../components/Modal/ProductModal\";\nimport UnitTableView from \"../../../components/ReactDataTable/Product/UnitsTableView\";\nimport Manufactures from \"../../../components/Form/AddProduct/Manufactures\";\nimport DownloadTemplate from \"../../../components/Form/DownloadTemplate\";\nimport ExportProduk from \"../../../components/Form/ExportProduk\";\nimport UploadProduk from \"../../../components/Form/UploadProduk\";\n\nconst Product = ({ props }) => {\n  const data = props.data;\n  const manufactures = props.manufactures;\n  const categories = props.categories;\n  const locations = props.locations;\n  const [isLoading, setIsLoading] = useState(false);\n  const [product, setProduct] = useState(data);\n  const [modalProduct, setModalProduct] = useState();\n  const [isSearching, setIsSearching] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const router = useRouter();\n  const [inventory, setInventory] = useState();\n  const [searchParameters, setSearchParameters] = useState({\n    namaSKU: \"\",\n    manufacture: \"\",\n    location: [],\n    category: \"\",\n  });\n  const [searchOptionData, setSearchOptionData] = useState({\n    manufactures: manufactures,\n    categories: categories,\n    locations: locations,\n  });\n  const { Search } = Input;\n\n  const handleSearch = (newValue, category) => {\n    if (newValue) {\n      fetchSearchOption(newValue, category);\n    } else {\n      setSearchOptionData({\n        manufactures: manufactures,\n        categories: categories,\n        locations: locations,\n      });\n    }\n  };\n\n  const fetchSearchOption = async (query, category) => {\n    const cookies = nookies.get(null);\n    try {\n      const endpoint =\n        process.env.NEXT_PUBLIC_URL +\n        `/${category}?filters[name][$containsi]=${query}`;\n      const options = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + cookies.token,\n        },\n      };\n\n      const req = await fetch(endpoint, options);\n      const res = await req.json();\n\n      if (req.status == 200) {\n        const resData = res.data.map((item) => ({\n          name: `${item.attributes.name}`,\n          value: item.id,\n          id: item.id,\n        }));\n\n        setSearchOptionData({ ...searchOptionData, [category]: resData });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // search query\n  useEffect(() => {\n    const searchQuery = async () => {\n      setIsSearching(true);\n      var query =\n        \"filters[$or][0][name][$contains]=\" +\n        searchParameters.namaSKU +\n        \"&filters[$or][1][SKU][$contains]=\" +\n        searchParameters.namaSKU;\n      var locationQuery = \"\";\n\n      if (searchParameters.manufacture) {\n        query += \"&filters[$and][2][manufacture][id][$eq]=\";\n        query += searchParameters.manufacture;\n      }\n\n      if (searchParameters.category) {\n        query += \"&filters[$and][3][category][id][$eq]=\";\n        query += searchParameters.category;\n      }\n\n      if (searchParameters.location.length > 0) {\n        searchParameters.location.forEach((item, idx) => {\n          locationQuery +=\n            \"&filters[$and][\" + (idx + 4) + \"][locations][id][$eq]=\" + item;\n        });\n      } else {\n        locationQuery = \"\";\n      }\n\n      const endpoint =\n        process.env.NEXT_PUBLIC_URL +\n        \"/products?populate=*&\" +\n        query +\n        locationQuery;\n\n      const cookies = nookies.get(null, \"token\");\n      const options = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + cookies.token,\n        },\n      };\n\n      const req = await fetch(endpoint, options);\n      const res = await req.json();\n\n      setProduct(res);\n      setIsSearching(false);\n    };\n\n    searchQuery();\n  }, [searchParameters]);\n\n  const handleAdd = () => {\n    console.log(\"\");\n    router.push(\"/dashboard/produk/tambah\");\n  };\n\n  const handleView = () => {\n    router.push(\"/dashboard/produk/lihat\");\n  };\n\n  const handleUpdate = (id) => {\n    console.log(\"\");\n    router.push(\"/dashboard/produk/edit/\" + id);\n  };\n\n  const handleDelete = async (id) => {\n    const endpoint = process.env.NEXT_PUBLIC_URL + \"/products/\" + id;\n    const cookies = nookies.get(null, \"token\");\n\n    const options = {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + cookies.token,\n      },\n    };\n\n    const req = await fetch(endpoint, options);\n    const res = await req.json();\n    if (res) {\n      const req = await fetchData(cookies);\n      const res = await req.json();\n      toast.success(\"Produk berhasil dihapus\");\n      setProduct(res);\n    }\n  };\n\n  const handlePageChange = async (page) => {\n    const cookies = nookies.get(null, \"token\");\n    const endpoint =\n      process.env.NEXT_PUBLIC_URL + \"/products?pagination[page]=\" + page;\n\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + cookies.token,\n      },\n    };\n\n    try {\n      const req = await fetch(endpoint, options);\n      const res = await req.json();\n      if (res) {\n        setProduct((prevData) => ({\n          data: filterDuplicateData(prevData.data.concat(res.data)),\n          meta: prevData.meta,\n        }));\n      } else {\n        console.log(\"something is wrong\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const filterDuplicateData = (arr) => {\n    const seen = new Set();\n\n    const filteredArr = arr.filter((el) => {\n      const duplicate = seen.has(el.id);\n      seen.add(el.id);\n      return !duplicate;\n    });\n\n    return filteredArr;\n  };\n\n  const fetchInventory = async (data) => {\n    setIsLoading(true);\n    const cookies = nookies.get(null, \"token\");\n    const endpoint =\n      process.env.NEXT_PUBLIC_URL +\n      `/inventories?filters[products][id][$eq]=${data.id}&populate=locations`;\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + cookies.token,\n      },\n    };\n\n    const req = await fetch(endpoint, options);\n    const res = await req.json();\n    // return req;\n    // console.log(res);\n\n    setInventory(res.data);\n\n    //\n  };\n\n  const openModal = async (e, data) => {\n    // console.log(\"test\", data);\n    setVisible(e);\n    fetchInventory(data);\n  };\n\n  useEffect(() => {\n    console.log(\"inventory\", inventory);\n    setIsLoading(false);\n  }, [inventory]);\n\n  return (\n    <>\n      <Head>\n        <title>Produk</title>\n      </Head>\n      <DashboardLayout>\n        <LayoutWrapper style={{}}>\n          <TitlePage titleText={\"Produk\"} />\n          <LayoutContent>\n            <div className=\"w-full flex justify-between gap-x-32 mb-3\">\n              <div className=\"w-full md:w-1/2 grid grid-cols-2 gap-x-4 gap-y-3\">\n                <Select\n                  size=\"middle\"\n                  allowClear\n                  showSearch\n                  showArrow={false}\n                  filterOption={false}\n                  notFoundContent={null}\n                  placeholder=\"PABRIKASI\"\n                  onSelect={(e) =>\n                    setSearchParameters({ ...searchParameters, manufacture: e })\n                  }\n                  onClear={() =>\n                    setSearchParameters({\n                      ...searchParameters,\n                      manufacture: \"\",\n                    })\n                  }\n                  onSearch={(e) => handleSearch(e, \"manufactures\")}\n                >\n                  {searchOptionData.manufactures.map((item) => (\n                    <Select.Option key={item?.id} value={item?.id}>\n                      {item.name}\n                    </Select.Option>\n                  ))}\n                </Select>{\" \"}\n                <Select\n                  size=\"middle\"\n                  allowClear\n                  showSearch\n                  showArrow={false}\n                  filterOption={false}\n                  notFoundContent={null}\n                  placeholder=\"KATEGORI\"\n                  onSelect={(e) =>\n                    setSearchParameters({ ...searchParameters, category: e })\n                  }\n                  onClear={() =>\n                    setSearchParameters({ ...searchParameters, category: \"\" })\n                  }\n                  onSearch={(e) => handleSearch(e, \"categories\")}\n                >\n                  {searchOptionData.categories.map((item) => (\n                    <Select.Option key={item?.id} value={item?.id}>\n                      {item.name}\n                    </Select.Option>\n                  ))}\n                </Select>\n                <Select\n                  mode=\"multiple\"\n                  size=\"middle\"\n                  placeholder=\"LOKASI\"\n                  allowClear\n                  onChange={(e) =>\n                    setSearchParameters({ ...searchParameters, location: e })\n                  }\n                  onClear={() =>\n                    setSearchParameters({ ...searchParameters, location: [] })\n                  }\n                  onSearch={(e) => handleSearch(e, \"locations\")}\n                >\n                  {searchOptionData.locations.map((data) => (\n                    <Select.Option key={data.id} value={data.id}>\n                      {data.name}\n                    </Select.Option>\n                  ))}\n                </Select>\n                <Search\n                  className=\"\"\n                  loading={isSearching}\n                  onChange={(e) =>\n                    setSearchParameters({\n                      ...searchParameters,\n                      namaSKU: e.target.value,\n                    })\n                  }\n                  placeholder=\"NAMA PRODUK / SKU\"\n                  size=\"middle\"\n                />\n              </div>\n              <div className=\"w-full flex flex-col gap-y-3 gap-x-4 md:w-1/2\">\n                <div\n                  onClick={handleAdd}\n                  className=\"bg-cyan-700 w-full cursor-pointer rounded px-5 h-10 hover:bg-cyan-800 shadow-sm flex items-center justify-center float-right\"\n                >\n                  <div className=\"text-white text-center text-sm font-bold\">\n                    <a className=\"text-white no-underline text-xs sm:text-xs\">\n                      + Tambah\n                    </a>\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-3 gap-x-4 w-full\">\n                  <UploadProduk setProduct={setProduct} fetchData={fetchData} />\n                  <ExportProduk data={product.data} setProduct={setProduct} />\n                  <DownloadTemplate />\n                </div>\n              </div>\n            </div>\n\n            <Modal\n              className=\"rounded-lg m-5\"\n              head\n              width={\"90%\"}\n              centered\n              visible={visible}\n              onOk={() => setVisible(false)}\n              onCancel={() => setVisible(false)}\n              bodyStyle={{\n                borderRadius: \"20px\",\n                backgroundColor: \"#E8F2F2\",\n              }}\n              style={{\n                backgroundColor: \"#E8F2F2\",\n                border: \"2px solid #000\",\n              }}\n              footer={null}\n            >\n              <ProductModal\n                data={modalProduct}\n                isLoading={isLoading}\n                inventory={inventory}\n              />\n            </Modal>\n\n            <ProductTable\n              data={product}\n              onDelete={handleDelete}\n              onUpdate={handleUpdate}\n              onPageChange={handlePageChange}\n              setIsVisible={openModal}\n              setViewModalProduct={setModalProduct}\n            />\n          </LayoutContent>\n        </LayoutWrapper>\n      </DashboardLayout>\n    </>\n  );\n};\n\nProduct.getInitialProps = async (context) => {\n  const cookies = nookies.get(context);\n  let data;\n\n  const req = await fetchData(cookies);\n  data = await req.json();\n\n  const manufactures = await fetchSearchParametersData(cookies, \"manufactures\");\n  const categories = await fetchSearchParametersData(cookies, \"categories\");\n  const locations = await fetchSearchParametersData(cookies, \"locations\");\n\n  return {\n    props: {\n      data,\n      manufactures,\n      categories,\n      locations,\n    },\n  };\n};\n\nconst formatData = (data) => {\n  const formattedData = data.map((item) => {\n    return {\n      name: `${item.attributes.name}`,\n      value: item.id,\n      id: item.id,\n    };\n  });\n\n  return formattedData;\n};\n\nconst fetchData = async (cookies) => {\n  const endpoint = process.env.NEXT_PUBLIC_URL + \"/products?populate=*\";\n  const options = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + cookies.token,\n    },\n  };\n\n  const req = await fetch(endpoint, options);\n  return req;\n};\n\nconst fetchSearchParametersData = async (cookies, url) => {\n  const endpoint = process.env.NEXT_PUBLIC_URL + `/${url}?pagination[limit]=10`;\n  const options = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + cookies.token,\n    },\n  };\n\n  const req = await fetch(endpoint, options);\n  const res = await req.json();\n\n  console.log(\"response\", res);\n\n  return formatData(res.data) || [];\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}