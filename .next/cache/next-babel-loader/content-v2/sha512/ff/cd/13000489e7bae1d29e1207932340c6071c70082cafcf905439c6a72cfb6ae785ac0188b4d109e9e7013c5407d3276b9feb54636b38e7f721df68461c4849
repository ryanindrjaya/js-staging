{"ast":null,"code":"import _Row from \"antd/lib/row\";\nimport _Select from \"antd/lib/select\";\nimport _Form from \"antd/lib/form\";\nimport _InputNumber from \"antd/lib/input-number\";\nimport DataTable from \"react-data-table-component\";\nimport AlertDialog from \"../../Alert/Alert\";\nimport { useDispatch } from \"react-redux\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ReactDataTable(_ref) {\n  var calculatePriceAfterDisc = _ref.calculatePriceAfterDisc,\n      productSubTotal = _ref.productSubTotal,\n      products = _ref.products;\n  var dispatch = useDispatch();\n  var defaultDp1 = 0;\n  var defaultDp2 = 0;\n  var defaultDp3 = 0;\n  var formatter = new Intl.NumberFormat(\"id-ID\", {\n    style: \"currency\",\n    currency: \"IDR\",\n    maximumFractionDigits: 0\n  });\n\n  var onDeleteProduct = function onDeleteProduct(value) {\n    dispatch({\n      type: \"REMOVE_PRODUCT\",\n      index: value\n    });\n  };\n\n  var onChangeUnit = function onChangeUnit(value, data) {\n    dispatch({\n      type: \"CHANGE_PRODUCT_UNIT\",\n      index: value,\n      product: data\n    });\n  };\n\n  var onChangeQty = function onChangeQty(value, data) {\n    dispatch({\n      type: \"CHANGE_PRODUCT_QTY\",\n      qty: value,\n      product: data\n    });\n  };\n\n  var onChangeDisc = function onChangeDisc(value, data) {\n    dispatch({\n      type: \"CHANGE_PRODUCT_DISC\",\n      disc: value,\n      product: data\n    });\n  };\n\n  var onConfirm = function onConfirm(id) {\n    for (var index = 0; index < products.productList.length; index++) {\n      var element = products.productList[index];\n\n      if (element.id === id) {\n        onDeleteProduct(index);\n      }\n    }\n  };\n\n  var onCancel = function onCancel() {\n    console.log(\"onCancel\");\n  };\n\n  var customStyles = {\n    headCells: {\n      style: {\n        color: \"white\",\n        background: \"#036B82\"\n      }\n    }\n  };\n  var columns = [{\n    name: \"Nama Produk\",\n    width: \"250px\",\n    selector: function selector(row) {\n      var _row$attributes;\n\n      return (_row$attributes = row.attributes) === null || _row$attributes === void 0 ? void 0 : _row$attributes.name;\n    }\n  }, {\n    name: \"Harga Satuan\",\n    width: \"150px\",\n    selector: function selector(row) {\n      var _row$attributes2;\n\n      var priceUnit = (_row$attributes2 = row.attributes) === null || _row$attributes2 === void 0 ? void 0 : _row$attributes2.buy_price_1;\n\n      if (products.productInfo[row.id]) {\n        if (products.productInfo[row.id].priceUnit) {\n          priceUnit = products.productInfo[row.id].priceUnit;\n        }\n      }\n\n      return formatter.format(priceUnit);\n    }\n  }, {\n    name: \"Jumlah Pesanan\",\n    width: \"220px\",\n    selector: function selector(row) {\n      var _row$attributes3, _products$productInfo, _products$productInfo2, _row$attributes4, _row$attributes5, _row$attributes6, _row$attributes7, _row$attributes8, _row$attributes9, _row$attributes10, _row$attributes11, _row$attributes12, _row$attributes13, _row$attributes14, _row$attributes15, _row$attributes16, _row$attributes17, _row$attributes18;\n\n      var defaultQty = 1;\n      var defaultOption = (_row$attributes3 = row.attributes) === null || _row$attributes3 === void 0 ? void 0 : _row$attributes3.unit_1;\n      var defaultIndex = 1;\n\n      if ((_products$productInfo = products.productInfo[row.id]) !== null && _products$productInfo !== void 0 && _products$productInfo.qty) {\n        defaultQty = products.productInfo[row.id].qty;\n      }\n\n      if ((_products$productInfo2 = products.productInfo[row.id]) !== null && _products$productInfo2 !== void 0 && _products$productInfo2.unitIndex) {\n        defaultIndex = products.productInfo[row.id].unitIndex;\n      }\n\n      return /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsxs(_Row, {\n          children: [/*#__PURE__*/_jsx(_Form.Item, {\n            name: [\"jumlah_qty\", \"\".concat(row.id)] // initialValue={products.productInfo[row.id]?.qty ?? 1}\n            ,\n            noStyle: true,\n            children: /*#__PURE__*/_jsx(_InputNumber, {\n              defaultValue: defaultQty,\n              onChange: function onChange(e) {\n                return onChangeQty(e, row);\n              },\n              rules: [{\n                required: true,\n                message: \"Required\"\n              }],\n              style: {\n                width: \"30%\"\n              }\n            })\n          }), /*#__PURE__*/_jsx(_Form.Item, {\n            name: [\"jumlah_option\", \"\".concat(row.id)] // initialValue={defaultOption}\n            ,\n            noStyle: true,\n            children: /*#__PURE__*/_jsxs(_Select, {\n              defaultValue: defaultIndex,\n              onChange: function onChange(value) {\n                return onChangeUnit(value, row);\n              },\n              name: \"jumlah_option\",\n              style: {\n                width: \"50%\"\n              },\n              children: [((_row$attributes4 = row.attributes) === null || _row$attributes4 === void 0 ? void 0 : _row$attributes4.unit_1) === null ? /*#__PURE__*/_jsx(_Fragment, {}) : /*#__PURE__*/_jsx(_Select.Option, {\n                disabled: ((_row$attributes5 = row.attributes) === null || _row$attributes5 === void 0 ? void 0 : _row$attributes5.unit_1) === null,\n                value: 1,\n                children: (_row$attributes6 = row.attributes) === null || _row$attributes6 === void 0 ? void 0 : _row$attributes6.unit_1\n              }), ((_row$attributes7 = row.attributes) === null || _row$attributes7 === void 0 ? void 0 : _row$attributes7.unit_2) === null ? /*#__PURE__*/_jsx(_Fragment, {}) : /*#__PURE__*/_jsx(_Select.Option, {\n                disabled: ((_row$attributes8 = row.attributes) === null || _row$attributes8 === void 0 ? void 0 : _row$attributes8.unit_2) === null,\n                value: 2,\n                children: (_row$attributes9 = row.attributes) === null || _row$attributes9 === void 0 ? void 0 : _row$attributes9.unit_2\n              }), ((_row$attributes10 = row.attributes) === null || _row$attributes10 === void 0 ? void 0 : _row$attributes10.unit_3) === null ? /*#__PURE__*/_jsx(_Fragment, {}) : /*#__PURE__*/_jsx(_Select.Option, {\n                disabled: ((_row$attributes11 = row.attributes) === null || _row$attributes11 === void 0 ? void 0 : _row$attributes11.unit_3) === null,\n                value: 3,\n                children: (_row$attributes12 = row.attributes) === null || _row$attributes12 === void 0 ? void 0 : _row$attributes12.unit_3\n              }), ((_row$attributes13 = row.attributes) === null || _row$attributes13 === void 0 ? void 0 : _row$attributes13.unit_4) === null ? /*#__PURE__*/_jsx(_Fragment, {}) : /*#__PURE__*/_jsx(_Select.Option, {\n                disabled: ((_row$attributes14 = row.attributes) === null || _row$attributes14 === void 0 ? void 0 : _row$attributes14.unit_4) === null,\n                value: 4,\n                children: (_row$attributes15 = row.attributes) === null || _row$attributes15 === void 0 ? void 0 : _row$attributes15.unit_4\n              }), ((_row$attributes16 = row.attributes) === null || _row$attributes16 === void 0 ? void 0 : _row$attributes16.unit_5) === null ? /*#__PURE__*/_jsx(_Fragment, {}) : /*#__PURE__*/_jsx(_Select.Option, {\n                disabled: ((_row$attributes17 = row.attributes) === null || _row$attributes17 === void 0 ? void 0 : _row$attributes17.unit_5) === null,\n                value: 5,\n                children: (_row$attributes18 = row.attributes) === null || _row$attributes18 === void 0 ? void 0 : _row$attributes18.unit_5\n              })]\n            })\n          })]\n        })\n      });\n    }\n  }, {\n    name: \"Diskon\",\n    width: \"150px\",\n    selector: function selector(row) {\n      var _products$productInfo3;\n\n      var defaultDisc = 0;\n\n      if ((_products$productInfo3 = products.productInfo[row.id]) !== null && _products$productInfo3 !== void 0 && _products$productInfo3.disc) {\n        defaultDisc = products.productInfo[row.id].disc;\n      }\n\n      return /*#__PURE__*/_jsx(_Row, {\n        align: \"bottom\",\n        justify: \"center\",\n        children: /*#__PURE__*/_jsx(_Form.Item, {\n          name: [\"disc_rp\", \"\".concat(row.id)],\n          noStyle: true,\n          children: /*#__PURE__*/_jsx(_InputNumber, {\n            defaultValue: defaultDisc,\n            min: 0,\n            onChange: function onChange(e) {\n              return onChangeDisc(e, row);\n            },\n            style: {\n              width: \"100px\",\n              marginRight: \"10px\"\n            }\n          })\n        })\n      });\n    }\n  }, {\n    name: \"\",\n    width: \"250px\",\n    selector: function selector(row) {\n      var _row$attributes19, _row$attributes20, _row$attributes21;\n\n      defaultDp1 = (_row$attributes19 = row.attributes) === null || _row$attributes19 === void 0 ? void 0 : _row$attributes19.unit_1_dp1;\n      defaultDp2 = (_row$attributes20 = row.attributes) === null || _row$attributes20 === void 0 ? void 0 : _row$attributes20.unit_1_dp2;\n      defaultDp3 = (_row$attributes21 = row.attributes) === null || _row$attributes21 === void 0 ? void 0 : _row$attributes21.unit_1_dp3;\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: \"grid grid-cols-3 gap-2 disabled:bg-white\",\n        children: [/*#__PURE__*/_jsx(_InputNumber, {\n          disabled: true,\n          max: 100,\n          min: 0,\n          name: \"disc_rp1\",\n          value: defaultDp1,\n          style: {\n            width: \"60px\",\n            backgroundColor: \"#f4f4f4\"\n          }\n        }), /*#__PURE__*/_jsx(_InputNumber, {\n          disabled: true,\n          max: 100,\n          min: 0,\n          value: defaultDp2,\n          name: \"disc_rp2\",\n          style: {\n            width: \"60px\",\n            marginRight: \"10px\"\n          }\n        }), /*#__PURE__*/_jsx(_InputNumber, {\n          disabled: true,\n          max: 100,\n          min: 0,\n          value: defaultDp3,\n          name: \"disc_rp3\",\n          style: {\n            width: \"60px\",\n            marginRight: \"10px\"\n          }\n        })]\n      });\n    }\n  }, {\n    name: \"Harga Satuan Setelah Diskon\",\n    width: \"200px\",\n    selector: function selector(row) {\n      return calculatePriceAfterDisc(row);\n    }\n  }, {\n    name: \"Subtotal\",\n    width: \"200px\",\n    selector: function selector(row) {\n      return formatter.format(productSubTotal[row.id]);\n    }\n  }, {\n    name: \"Hapus\",\n    width: \"150px\",\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(AlertDialog, {\n        onCancel: onCancel,\n        onConfirm: onConfirm,\n        title: \"Hapus Produk\",\n        message: \"Produk akan dihapus dari daftar ini. Lanjutkan?\",\n        id: row.id\n      });\n    }\n  }];\n  return /*#__PURE__*/_jsx(DataTable, {\n    customStyles: customStyles,\n    paginationRowsPerPageOptions: [50],\n    columns: columns,\n    data: products.productList,\n    noDataComponent: \"--Belum ada produk--\"\n  });\n}","map":null,"metadata":{},"sourceType":"module"}