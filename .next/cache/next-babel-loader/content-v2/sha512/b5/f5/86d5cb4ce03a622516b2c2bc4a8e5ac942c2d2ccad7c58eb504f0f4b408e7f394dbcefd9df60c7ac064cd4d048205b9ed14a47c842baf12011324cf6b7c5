{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport nookies from \"nookies\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Middleware(_ref) {\n  _s();\n\n  var children = _ref.children;\n  var cookies = nookies.get(null);\n  var token = cookies.token;\n  var router = useRouter();\n  useEffect(function () {\n    var firstPath = router.pathname.split(\"/\")[1];\n\n    if (firstPath === \"dashboard\" && !token) {\n      router.push(\"/\");\n    } else {\n      if (token && firstPath === \"\") {\n        router.push(\"/dashboard\");\n      }\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n}\n\n_s(Middleware, \"vQduR7x+OPXj6PSmJyFnf+hU7bg=\", false, function () {\n  return [useRouter];\n});\n\n_c = Middleware;\nexport default Middleware;\n\nvar _c;\n\n$RefreshReg$(_c, \"Middleware\");","map":{"version":3,"sources":["/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/ERP-Sejati/components/Middleware.js"],"names":["React","useEffect","useRouter","nookies","Middleware","children","cookies","get","token","router","firstPath","pathname","split","push"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,OAAP,MAAoB,SAApB;;;;AAEA,SAASC,UAAT,OAAkC;AAAA;;AAAA,MAAZC,QAAY,QAAZA,QAAY;AAChC,MAAMC,OAAO,GAAGH,OAAO,CAACI,GAAR,CAAY,IAAZ,CAAhB;AACA,MAAMC,KAAK,GAAGF,OAAO,CAACE,KAAtB;AACA,MAAMC,MAAM,GAAGP,SAAS,EAAxB;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMS,SAAS,GAAGD,MAAM,CAACE,QAAP,CAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAlB;;AAEA,QAAIF,SAAS,KAAK,WAAd,IAA6B,CAACF,KAAlC,EAAyC;AACvCC,MAAAA,MAAM,CAACI,IAAP,CAAY,GAAZ;AACD,KAFD,MAEO;AACL,UAAIL,KAAK,IAAIE,SAAS,KAAK,EAA3B,EAA+B;AAC7BD,QAAAA,MAAM,CAACI,IAAP,CAAY,YAAZ;AACD;AACF;AACF,GAVQ,EAUN,EAVM,CAAT;AAYA,sBAAO;AAAA,cAAGR;AAAH,mBAAP;AACD;;GAlBQD,U;UAGQF,S;;;KAHRE,U;AAoBT,eAAeA,UAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport nookies from \"nookies\";\n\nfunction Middleware({ children }) {\n  const cookies = nookies.get(null);\n  const token = cookies.token;\n  const router = useRouter();\n\n  useEffect(() => {\n    const firstPath = router.pathname.split(\"/\")[1];\n\n    if (firstPath === \"dashboard\" && !token) {\n      router.push(\"/\");\n    } else {\n      if (token && firstPath === \"\") {\n        router.push(\"/dashboard\");\n      }\n    }\n  }, []);\n\n  return <>{children}</>;\n}\n\nexport default Middleware;\n"]},"metadata":{},"sourceType":"module"}