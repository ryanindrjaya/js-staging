{"ast":null,"code":"import _asyncToGenerator from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport nookies from \"nookies\";\nvar cookies = nookies.get(null);\nexport function getRelationalData(_x, _x2, _x3) {\n  return _getRelationalData.apply(this, arguments);\n}\n\nfunction _getRelationalData() {\n  _getRelationalData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url, parameter, query) {\n    var endpoint, options, _res$data$, req, res;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/\".concat(url, \"?filters[\").concat(parameter, \"][$eq]=\").concat(query);\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context.prev = 2;\n            _context.next = 5;\n            return fetch(endpoint, options);\n\n          case 5:\n            req = _context.sent;\n            _context.next = 8;\n            return req.json();\n\n          case 8:\n            res = _context.sent;\n            return _context.abrupt(\"return\", (res === null || res === void 0 ? void 0 : (_res$data$ = res.data[0]) === null || _res$data$ === void 0 ? void 0 : _res$data$.id) || null);\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](2);\n            console.log(_context.t0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 12]]);\n  }));\n  return _getRelationalData.apply(this, arguments);\n}\n\nexport function getLocationsId() {\n  return _getLocationsId.apply(this, arguments);\n}\n\nfunction _getLocationsId() {\n  _getLocationsId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var locationsNamesArr,\n        endpoint,\n        options,\n        req,\n        res,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            locationsNamesArr = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : [];\n            endpoint = process.env.NEXT_PUBLIC_URL + \"/locations?\";\n            (locationsNamesArr === null || locationsNamesArr === void 0 ? void 0 : locationsNamesArr.forEach(function (locationName, index) {\n              endpoint += \"filters[name][$in][\".concat(index, \"]=\").concat(locationName);\n\n              if (index < locationsNamesArr.length - 1) {\n                endpoint += \"&\";\n              }\n            })) || [];\n            options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + cookies.token\n              }\n            };\n            _context2.prev = 4;\n            _context2.next = 7;\n            return fetch(endpoint, options);\n\n          case 7:\n            req = _context2.sent;\n            _context2.next = 10;\n            return req.json();\n\n          case 10:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", (res === null || res === void 0 ? void 0 : res.data.map(function (location) {\n              return location.id;\n            })) || []);\n\n          case 14:\n            _context2.prev = 14;\n            _context2.t0 = _context2[\"catch\"](4);\n            console.log(_context2.t0);\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[4, 14]]);\n  }));\n  return _getLocationsId.apply(this, arguments);\n}","map":null,"metadata":{},"sourceType":"module"}