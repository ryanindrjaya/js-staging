{"ast":null,"code":"import React from \"react\";\nexport default function calculatePrice(row, products, productTotalPrice, productSubTotal, setTotalPrice) {\n  var _row$attributes, _row$attributes2, _row$attributes3, _products$productInfo, _products$productInfo3, _products$productInfo4, _products$productInfo5, _products$productInfo7, _products$productInfo8, _products$productInfo9, _products$productInfo11, _products$productInfo12, _products$productInfo13, _products$productInfo15, _products$productInfo18;\n\n  var priceUnit = row.attributes[`buy_price_1`];\n  var qty = 1;\n  var disc = 0;\n  var Dp1 = (_row$attributes = row.attributes) === null || _row$attributes === void 0 ? void 0 : _row$attributes.unit_1_dp1;\n  var Dp2 = (_row$attributes2 = row.attributes) === null || _row$attributes2 === void 0 ? void 0 : _row$attributes2.unit_1_dp2;\n  var Dp3 = (_row$attributes3 = row.attributes) === null || _row$attributes3 === void 0 ? void 0 : _row$attributes3.unit_1_dp3; // check if Dp1, Dp2, Dp3 changed\n\n  if ((_products$productInfo = products.productInfo[row.id]) !== null && _products$productInfo !== void 0 && _products$productInfo.d1) {\n    var _products$productInfo2;\n\n    Dp1 = (_products$productInfo2 = products.productInfo[row.id].d1) !== null && _products$productInfo2 !== void 0 ? _products$productInfo2 : 1;\n  } else if (((_products$productInfo3 = products.productInfo[row.id]) === null || _products$productInfo3 === void 0 ? void 0 : _products$productInfo3.d1) === 0 || ((_products$productInfo4 = products.productInfo[row.id]) === null || _products$productInfo4 === void 0 ? void 0 : _products$productInfo4.d1) === null) {\n    Dp1 = 0;\n  }\n\n  if ((_products$productInfo5 = products.productInfo[row.id]) !== null && _products$productInfo5 !== void 0 && _products$productInfo5.d2) {\n    var _products$productInfo6;\n\n    Dp2 = (_products$productInfo6 = products.productInfo[row.id].d2) !== null && _products$productInfo6 !== void 0 ? _products$productInfo6 : 1;\n  } else if (((_products$productInfo7 = products.productInfo[row.id]) === null || _products$productInfo7 === void 0 ? void 0 : _products$productInfo7.d2) === 0 || ((_products$productInfo8 = products.productInfo[row.id]) === null || _products$productInfo8 === void 0 ? void 0 : _products$productInfo8.d2) === null) {\n    Dp2 = 0;\n  }\n\n  if ((_products$productInfo9 = products.productInfo[row.id]) !== null && _products$productInfo9 !== void 0 && _products$productInfo9.d3) {\n    var _products$productInfo10;\n\n    Dp3 = (_products$productInfo10 = products.productInfo[row.id].d3) !== null && _products$productInfo10 !== void 0 ? _products$productInfo10 : 1;\n  } else if (((_products$productInfo11 = products.productInfo[row.id]) === null || _products$productInfo11 === void 0 ? void 0 : _products$productInfo11.d3) === 0 || ((_products$productInfo12 = products.productInfo[row.id]) === null || _products$productInfo12 === void 0 ? void 0 : _products$productInfo12.d3) === null) {\n    Dp3 = 0;\n  } // check if price changed\n\n\n  if ((_products$productInfo13 = products.productInfo[row.id]) !== null && _products$productInfo13 !== void 0 && _products$productInfo13.priceUnit) {\n    var _products$productInfo14;\n\n    priceUnit = (_products$productInfo14 = products.productInfo[row.id].priceUnit) !== null && _products$productInfo14 !== void 0 ? _products$productInfo14 : row.attributes[`buy_price_1`];\n  } // check if qty changed\n\n\n  if ((_products$productInfo15 = products.productInfo[row.id]) !== null && _products$productInfo15 !== void 0 && _products$productInfo15.qty) {\n    var _products$productInfo16, _products$productInfo17;\n\n    qty = (_products$productInfo16 = (_products$productInfo17 = products.productInfo[row.id]) === null || _products$productInfo17 === void 0 ? void 0 : _products$productInfo17.qty) !== null && _products$productInfo16 !== void 0 ? _products$productInfo16 : 1;\n  } // check if disc changed\n\n\n  if ((_products$productInfo18 = products.productInfo[row.id]) !== null && _products$productInfo18 !== void 0 && _products$productInfo18.disc) {\n    var _products$productInfo19, _products$productInfo20;\n\n    disc = (_products$productInfo19 = (_products$productInfo20 = products.productInfo[row.id]) === null || _products$productInfo20 === void 0 ? void 0 : _products$productInfo20.disc) !== null && _products$productInfo19 !== void 0 ? _products$productInfo19 : 0;\n  }\n\n  priceUnit = priceUnit - disc;\n  var price1 = calculatePercentage(priceUnit, Dp1);\n  var price2 = calculatePercentage(price1, Dp2);\n  var price3 = calculatePercentage(price2, Dp3); // set product price after disc & sub total\n\n  productTotalPrice[row.id] = price3;\n  productSubTotal[row.id] = price3 * qty; // set all product total\n\n  var total = 0;\n\n  for (var key in productSubTotal) {\n    total = total + productSubTotal[key];\n  }\n\n  setTotalPrice(total);\n  return productTotalPrice[row.id];\n}\n\nconst calculatePercentage = (value, percent) => {\n  var newValue = value - value * percent / 100;\n  return newValue;\n};","map":null,"metadata":{},"sourceType":"module"}