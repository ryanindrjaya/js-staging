{"ast":null,"code":"import React from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst PendingPool = {};\nconst ReadyPool = {};\nexport default function ImageCell({\n  src\n}) {\n  const [srcState, setSrcState] = React.useState(false);\n  const onLoadImage = React.useCallback(source => {\n    ReadyPool[src] = true;\n\n    if (source === src) {\n      setSrcState(source);\n    }\n  }, [src]);\n  const loadImage = React.useCallback(src => {\n    if (ReadyPool[src]) {\n      setSrcState(src);\n      return;\n    }\n\n    if (PendingPool[src]) {\n      PendingPool[src].push(onLoadImage);\n      return;\n    }\n\n    PendingPool[src] = [onLoadImage];\n    const img = new Image();\n\n    img.onload = () => {\n      PendingPool[src].forEach(callback => {\n        callback(src);\n      });\n      delete PendingPool[src];\n      img.onload = null;\n      src = undefined;\n    };\n\n    img.src = srcState;\n  }, [srcState, onLoadImage]);\n  React.useEffect(() => {\n    loadImage(src);\n  }, [loadImage, src]);\n  const style = src ? {\n    backgroundImage: `url(${src})`,\n    width: '70px',\n    height: '70px',\n    backgroundSize: 'cover'\n  } : undefined;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"exampleImage\",\n    style: style\n  });\n}","map":null,"metadata":{},"sourceType":"module"}