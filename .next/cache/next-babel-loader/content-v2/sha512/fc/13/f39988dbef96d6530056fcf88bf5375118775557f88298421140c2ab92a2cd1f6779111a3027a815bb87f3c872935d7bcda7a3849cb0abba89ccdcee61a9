{"ast":null,"code":"import _Button from \"antd/lib/button\";\nimport _Spin from \"antd/lib/spin\";\nimport _InputNumber from \"antd/lib/input-number\";\nimport _Row from \"antd/lib/row\";\nimport _Select from \"antd/lib/select\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport _notification from \"antd/lib/notification\";\nimport _Input from \"antd/lib/input\";\nimport _Form from \"antd/lib/form\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport LayoutContent from \"@iso/components/utility/layoutContent\";\nimport DashboardLayout from \"@iso/containers/DashboardLayout/DashboardLayout\";\nimport LayoutWrapper from \"@iso/components/utility/layoutWrapper.js\";\nimport TitlePage from \"@iso/components/TitlePage/TitlePage\";\nimport nookies from \"nookies\";\nimport { toast } from \"react-toastify\";\nimport SearchBar from \"@iso/components/Form/AddOrder/SearchBar\";\nimport Supplier from \"@iso/components/Form/AddOrder/SupplierForm\";\nimport LPBTable from \"@iso/components/ReactDataTable/Purchases/LPBTable\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport LoadingAnimations from \"@iso/components/Animations/Loading\";\nimport moment from \"moment\";\nimport createDetailPurchasing from \"../utility/createDetail\";\nimport createPurchasing from \"../utility/createPurchasing\";\nimport calculatePrice from \"../utility/calculatePrice\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nTambah.getInitialProps = async context => {\n  const cookies = nookies.get(context);\n  let locations;\n  let purchases;\n  let order;\n  let user;\n  const req = await fetchData(cookies);\n  locations = await req.json();\n  const req2 = await fetchDataPurchasing(cookies);\n  purchases = await req2.json();\n  const req3 = await fetchDataPurchase(cookies);\n  order = await req3.json();\n  const req4 = await fetchUser(cookies);\n  user = await req4.json();\n  return {\n    props: {\n      order,\n      purchases,\n      locations,\n      user\n    }\n  };\n};\n\nconst fetchData = async cookies => {\n  const endpoint = process.env.NEXT_PUBLIC_URL + \"/locations\";\n  const options = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + cookies.token\n    }\n  };\n  const req = await fetch(endpoint, options);\n  return req;\n};\n\nconst fetchDataPurchasing = async cookies => {\n  const endpoint = process.env.NEXT_PUBLIC_URL + \"/purchasings\";\n  const options = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + cookies.token\n    }\n  };\n  const req = await fetch(endpoint, options);\n  return req;\n};\n\nconst fetchDataPurchase = async cookies => {\n  const endpoint = process.env.NEXT_PUBLIC_URL + \"/purchases/?populate=deep&filters[delivery_status][$eq]=Terkirim\";\n  const options = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + cookies.token\n    }\n  };\n  const req = await fetch(endpoint, options);\n  return req;\n};\n\nconst fetchUser = async cookies => {\n  const endpoint = process.env.NEXT_PUBLIC_URL + \"/users/me?populate=*\";\n  const options = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + cookies.token\n    }\n  };\n  const req = await fetch(endpoint, options);\n  return req;\n};\n\nfunction Tambah({\n  props\n}) {\n  var _props$purchases, _props$purchases$meta;\n\n  const products = useSelector(state => state.Order);\n  const dispatch = useDispatch();\n  var locations = props.locations.data;\n  var deliveredOrder = props.order.data;\n  var selectedProduct = products === null || products === void 0 ? void 0 : products.productList;\n  const user = props.user;\n\n  const [form] = _Form.useForm();\n\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: productList,\n    1: setProductList\n  } = useState([]);\n  const {\n    0: supplier,\n    1: setSupplier\n  } = useState();\n  const {\n    0: totalPrice,\n    1: setTotalPrice\n  } = useState(0);\n  const {\n    0: grandTotal,\n    1: setGrandTotal\n  } = useState(0);\n  const {\n    0: additionalFee,\n    1: setAdditionalFee\n  } = useState();\n  const {\n    0: isFetchinData,\n    1: setIsFetchingData\n  } = useState(false);\n  const {\n    0: listId,\n    1: setListId\n  } = useState([]);\n  const {\n    0: dataValues,\n    1: setDataValues\n  } = useState();\n  const {\n    0: discType,\n    1: setDiscType\n  } = useState();\n  const {\n    0: discPrice,\n    1: setDiscPrice\n  } = useState(0);\n  const {\n    0: tempoDays,\n    1: setTempoDays\n  } = useState(0);\n  const {\n    0: tempoOption,\n    1: setTempoOption\n  } = useState(\"Hari\");\n  const {\n    0: productTotalPrice,\n    1: setProductTotalPrice\n  } = useState({});\n  const {\n    0: productSubTotal,\n    1: setProductSubTotal\n  } = useState({});\n  const {\n    0: preorderData,\n    1: setPreOrderData\n  } = useState();\n  const router = useRouter();\n  const {\n    TextArea\n  } = _Input;\n  var today = new Date();\n  var dd = String(today.getDate()).padStart(2, \"0\");\n  var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n\n  var yyyy = today.getFullYear(); // DPP & PPN\n\n  const dpp = 1.11;\n  var ppn = 0; // temp\n\n  const {\n    0: biayaTambahan,\n    1: setBiayaTambahan\n  } = useState(0);\n  const {\n    0: biayaPengiriman,\n    1: setBiayaPengiriman\n  } = useState(0);\n  const cookies = nookies.get(null, \"token\");\n  const tempList = []; // NO PO\n\n  var totalPurchases = String(((_props$purchases = props.purchases) === null || _props$purchases === void 0 ? void 0 : (_props$purchases$meta = _props$purchases.meta) === null || _props$purchases$meta === void 0 ? void 0 : _props$purchases$meta.pagination.total) + 1).padStart(3, \"0\");\n  var formatter = new Intl.NumberFormat(\"id-ID\", {\n    style: \"currency\",\n    currency: \"IDR\",\n    maximumFractionDigits: 0\n  });\n\n  const onFinish = async values => {\n    setLoading(true);\n    setDataValues(values);\n    setLoading(false);\n  };\n\n  const createDetailOrder = async () => {\n    createDetailPurchasing(dataValues, products, productTotalPrice, productSubTotal, setListId, \"/purchasing-details\");\n  };\n\n  const createOrder = async values => {\n    await createPurchasing(products, grandTotal, totalPrice, values, listId, discPrice, form, router);\n  };\n\n  const onChange = async () => {\n    var isDuplicatedData = false;\n    tempList.find(item => {\n      productList.forEach(element => {\n        if (element.id === item.id) isDuplicatedData = true;\n      });\n    });\n\n    if (!isDuplicatedData) {\n      setProductList(productList => [...productList, tempList[0]]);\n      toast.success(\"Produk berhasil ditambahkan!\", {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 1000\n      });\n    }\n  };\n\n  const calculatePriceAfterDisc = row => {\n    const total = calculatePrice(row, products, productTotalPrice, productSubTotal, setTotalPrice);\n    return formatter.format(total);\n  };\n\n  const sumAdditionalPrice = () => {\n    var newTotal = 0;\n\n    for (var key in additionalFee) {\n      newTotal = newTotal + additionalFee[key];\n    }\n\n    var test = totalPrice + newTotal;\n    setBiayaTambahan(newTotal);\n  };\n\n  const fetchPOdata = async id => {\n    clearData();\n    setIsFetchingData(true);\n    const endpoint = process.env.NEXT_PUBLIC_URL + `/purchases/${id}?populate=deep`;\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + cookies.token\n      }\n    };\n    const req = await fetch(endpoint, options);\n    const res = await req.json();\n    const dataPO = res.data.attributes;\n    const purchase_details = dataPO.purchase_details.data;\n    const supplier = dataPO.supplier.data;\n    setDiscPrice(0);\n    setPreOrderData(res.data);\n    setSupplier(supplier);\n    setGrandTotal(dataPO.delivery_total);\n    setBiayaPengiriman(dataPO.delivery_fee);\n    var dateString = dataPO.order_date;\n    var momentObj = moment(dateString, \"YYYY-MM-DD\");\n    var momentString = momentObj.format(\"MM-DD-YYYY\");\n    form.setFieldsValue({\n      supplier_id: `${supplier.attributes.id_supplier} - ${supplier.attributes.name}`,\n      order_date: moment(momentString),\n      location: dataPO.location.data.attributes.name,\n      tempo_days: dataPO.tempo_days,\n      tempo_time: dataPO.tempo_time,\n      additional_fee_1_desc: dataPO.additional_fee_1_desc,\n      additional_fee_2_desc: dataPO.additional_fee_2_desc,\n      additional_fee_3_desc: dataPO.additional_fee_3_desc,\n      additional_fee_4_desc: dataPO.additional_fee_4_desc,\n      additional_fee_5_desc: dataPO.additional_fee_5_desc,\n      additional_fee_1_sub: dataPO.additional_fee_1_sub,\n      additional_fee_2_sub: dataPO.additional_fee_2_sub,\n      additional_fee_3_sub: dataPO.additional_fee_3_sub,\n      additional_fee_4_sub: dataPO.additional_fee_4_sub,\n      additional_fee_5_sub: dataPO.additional_fee_5_sub,\n      additional_note: dataPO.additional_note,\n      delivery_fee: dataPO.delivery_fee,\n      disc_type: null,\n      disc_value: null,\n      DPP_active: null,\n      PPN_active: null\n    });\n    setAdditionalFee(_objectSpread(_objectSpread({}, additionalFee), {}, {\n      additional_fee_1_sub: dataPO.additional_fee_1_sub,\n      additional_fee_2_sub: dataPO.additional_fee_2_sub,\n      additional_fee_3_sub: dataPO.additional_fee_3_sub,\n      additional_fee_4_sub: dataPO.additional_fee_4_sub,\n      additional_fee_5_sub: dataPO.additional_fee_5_sub\n    }));\n    setNewGrandTotal(dataPO);\n    dispatch({\n      type: \"SET_PREORDER_DATA\",\n      data: res.data\n    });\n    purchase_details.forEach(element => {\n      var indexUnit = 1;\n      var unitOrder = element.attributes.unit_order;\n      var productUnit = element.attributes.products.data[0].attributes;\n\n      for (let index = 1; index < 6; index++) {\n        if (unitOrder === productUnit[`unit_${index}`]) {\n          indexUnit = index;\n        }\n      }\n\n      const productId = element.attributes.products.data[0].id;\n      form.setFieldsValue({\n        disc_rp: {\n          [productId]: element.attributes.disc\n        },\n        jumlah_option: {\n          [productId]: element.attributes.unit_order\n        },\n        jumlah_qty: {\n          [productId]: element.attributes.total_order\n        }\n      });\n      const test = form.getFieldsValue([\"disc_rp\", \"jumlah_option\", \"jumlah_qty\"]); // SET INITIAL PRODUCT\n\n      dispatch({\n        type: \"SET_INITIAL_PRODUCT\",\n        product: element.attributes.products.data[0],\n        qty: element.attributes.total_order,\n        unit: element.attributes.unit_order,\n        unitIndex: indexUnit,\n        priceUnit: element.attributes.unit_price,\n        disc: element.attributes.disc,\n        priceAfterDisc: element.attributes.unit_price_after_disc,\n        subTotal: element.attributes.sub_total,\n        d1: element.attributes.products.data[0].attributes.unit_1_dp1,\n        d2: element.attributes.products.data[0].attributes.unit_1_dp2,\n        d3: element.attributes.products.data[0].attributes.unit_1_dp3\n      });\n    });\n    setTimeout(() => {\n      setIsFetchingData(false);\n    }, 3000);\n  };\n\n  const setNewGrandTotal = data => {\n    var additionalPrice = 0;\n    const additionalPricePO = form.getFieldsValue([\"additional_fee_1_sub\", \"additional_fee_2_sub\", \"additional_fee_3_sub\", \"additional_fee_4_sub\", \"additional_fee_5_sub\"]);\n\n    for (const key in additionalPricePO) {\n      additionalPrice = additionalPrice + additionalPricePO[key];\n    }\n\n    setBiayaTambahan(additionalPrice);\n  };\n\n  const setTotalWithDisc = () => {\n    const disc = form.getFieldsValue([\"disc_type\", \"disc_value\"]);\n\n    if (disc.disc_type === \"Tetap\") {\n      setTotalPriceWithFixedDisc(disc);\n    } else {\n      setTotalPriceWithPercentDisc(disc);\n    }\n  };\n\n  const setTotalPriceWithFixedDisc = disc => {\n    var newTotal = 0;\n    newTotal = totalPrice - disc.disc_value;\n    setDiscPrice(newTotal);\n  };\n\n  const setTotalPriceWithPercentDisc = disc => {\n    var newTotal = 0;\n    newTotal = totalPrice - totalPrice * disc.disc_value / 100;\n    if (newTotal < 0) newTotal = 0;\n    setDiscPrice(newTotal);\n  };\n\n  const setDPPActive = value => {\n    if (value) {\n      // fungsi gak guna karena balik lagi\n      form.setFieldsValue({\n        PPN_active: \"PPN\"\n      });\n      var newTotal = grandTotal;\n      var afterDPP = newTotal / dpp;\n      ppn = newTotal - afterDPP; // var total = afterDPP + ppn;\n    }\n  };\n\n  const clearData = () => {\n    dispatch({\n      type: \"CLEAR_DATA\"\n    });\n    setTotalPrice(0);\n  };\n\n  useEffect(() => {\n    // this one is used for checking the price if the old price is same with new one.\n    // if both are same then we should not set new price for grand total.\n    // if they are not, then set new grand total\n    if (discPrice !== totalPrice && discPrice !== 0) {\n      setGrandTotal(discPrice + biayaPengiriman + biayaTambahan);\n    } else {\n      setGrandTotal(totalPrice + biayaPengiriman + biayaTambahan);\n    }\n  }, [biayaPengiriman, biayaTambahan, totalPrice, discPrice]);\n  useEffect(() => {\n    sumAdditionalPrice();\n  }, [additionalFee]);\n  useEffect(() => {\n    if (listId.length > 0) {\n      createOrder(dataValues);\n    }\n  }, [listId]);\n  useEffect(() => {\n    if (dataValues) createDetailOrder();\n  }, [dataValues]);\n  useEffect(() => {\n    // used to reset redux from value before\n    clearData();\n  }, []);\n\n  const onFinishFailed = () => {\n    const error = form.getFieldsError();\n    error.forEach(element => {\n      if (element.errors.length > 0) {\n        console.log();\n\n        _notification[\"error\"]({\n          message: \"Field Kosong\",\n          description: element.errors[0]\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Tambahkan Pembelian Barang\"\n      })\n    }), /*#__PURE__*/_jsx(DashboardLayout, {\n      children: /*#__PURE__*/_jsxs(LayoutWrapper, {\n        style: {},\n        children: [/*#__PURE__*/_jsx(TitlePage, {\n          titleText: \"Tambah Lembar Pembelian Barang\"\n        }), /*#__PURE__*/_jsx(LayoutContent, {\n          children: /*#__PURE__*/_jsxs(_Form, {\n            form: form,\n            name: \"add_order\",\n            initialValues: {\n              remember: true\n            },\n            onFinish: onFinish,\n            onFinishFailed: onFinishFailed,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-wrap -mx-3 mb-3\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/4 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(Supplier, {\n                  onChangeSupplier: setSupplier\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/4 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"no_purchasing\",\n                  initialValue: `PB/ET/${totalPurchases}/${mm}/${yyyy}`,\n                  rules: [{\n                    required: true,\n                    message: \"Nomor PO tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    style: {\n                      height: \"40px\"\n                    },\n                    placeholder: \"No.PO\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/4 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"order_date\",\n                  rules: [{\n                    required: true,\n                    message: \"Tanggal tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_DatePicker, {\n                    placeholder: \"Tanggal Pembelian\",\n                    size: \"large\",\n                    format: \"DD/MM/YYYY\",\n                    style: {\n                      width: \"100%\"\n                    }\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/4 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"status\",\n                  initialValue: \"Diproses\",\n                  children: /*#__PURE__*/_jsxs(_Select, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [/*#__PURE__*/_jsx(_Select.Option, {\n                      value: \"Diproses\",\n                      children: \"Diproses\"\n                    }, \"Diproses\"), /*#__PURE__*/_jsx(_Select.Option, {\n                      value: \"Selesai\",\n                      children: \"Selesai\"\n                    }, \"Selesai\")]\n                  })\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"w-full md:w-2/4 px-3 mb-2 md:mb-0\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"font-bold m-0\",\n                  children: \"Alamat Supplier : \"\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  className: \"m-0\",\n                  children: [\" \", supplier === null || supplier === void 0 ? void 0 : supplier.attributes.address]\n                }), /*#__PURE__*/_jsxs(\"p\", {\n                  children: [\" \", supplier === null || supplier === void 0 ? void 0 : supplier.attributes.phone]\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/4 px-3 mb-2 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"location\",\n                  rules: [{\n                    required: true,\n                    message: \"Lokasi tidak boleh kosong!\"\n                  }],\n                  children: /*#__PURE__*/_jsx(_Select, {\n                    placeholder: \"Pilih Lokasi\",\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: locations.map(element => {\n                      return /*#__PURE__*/_jsx(_Select.Option, {\n                        value: element.id,\n                        children: element.attributes.name\n                      }, element.attributes.name);\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"w-full md:w-1/4 px-3 mb-2 md:mb-0\",\n                children: [/*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"tempo_days\",\n                  initialValue: 0,\n                  noStyle: true,\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    size: \"large\",\n                    style: {\n                      width: \"50%\"\n                    },\n                    onChange: setTempoDays\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"tempo_time\",\n                  initialValue: \"Hari\",\n                  noStyle: true,\n                  children: /*#__PURE__*/_jsxs(_Select, {\n                    size: \"large\",\n                    onChange: setTempoOption,\n                    style: {\n                      width: \"50%\"\n                    },\n                    children: [/*#__PURE__*/_jsx(_Select.Option, {\n                      value: \"Hari\",\n                      children: \"Hari\"\n                    }, \"Hari\"), /*#__PURE__*/_jsx(_Select.Option, {\n                      value: \"Bulan\",\n                      children: \"Bulan\"\n                    }, \"Bulan\")]\n                  })\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/4 px-3 mb-2 mt-5 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"no_po\",\n                  children: /*#__PURE__*/_jsx(_Select, {\n                    placeholder: \"Pilih Nomor PO\",\n                    size: \"large\",\n                    onChange: e => fetchPOdata(e),\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: deliveredOrder.map(element => {\n                      return /*#__PURE__*/_jsx(_Select.Option, {\n                        value: element.id,\n                        children: element.attributes.no_po\n                      }, element.id);\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/4 px-3 mb-2 mt-5 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"no_nota_suppplier\",\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    placeholder: \"No. Nota Supplier\",\n                    size: \"large\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-4/4 px-3 mb-2 mt-2 mx-0  md:mb-0\",\n                children: /*#__PURE__*/_jsx(SearchBar, {\n                  form: form,\n                  tempList: tempList,\n                  onChange: onChange,\n                  user: user,\n                  selectedProduct: selectedProduct,\n                  isBasedOnLocation: false\n                })\n              }), isFetchinData ? /*#__PURE__*/_jsxs(\"div\", {\n                className: \"w-full md:w-4/4 px-3 mb-2 mt-5 mx-3  md:mb-0 text-lg\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"w-36 h-36 flex p-4 max-w-sm mx-auto\",\n                  children: /*#__PURE__*/_jsx(LoadingAnimations, {})\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"text-sm align-middle text-center animate-pulse text-slate-400\",\n                  children: \"Sedang Mengambil Data\"\n                })]\n              }) : /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-4/4 px-3 mb-2 mt-5 md:mb-0\",\n                children: /*#__PURE__*/_jsx(LPBTable, {\n                  products: products,\n                  productTotalPrice: productTotalPrice,\n                  setTotalPrice: setTotalPrice,\n                  setProductTotalPrice: setProductTotalPrice,\n                  calculatePriceAfterDisc: calculatePriceAfterDisc,\n                  productSubTotal: productSubTotal,\n                  locations: locations\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-end\",\n              children: /*#__PURE__*/_jsxs(\"p\", {\n                className: \"font-bold\",\n                children: [\"Total Item : \", products.productList.length, \" \"]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-end transition-all\",\n              children: /*#__PURE__*/_jsxs(_Row, {\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"font-bold\",\n                  children: \"Total Harga :\"\n                }), discPrice === 0 ? /*#__PURE__*/_jsx(\"p\", {}) : /*#__PURE__*/_jsx(\"p\", {\n                  className: \"font-bold text-red-500 ml-2\",\n                  children: formatter.format(discPrice)\n                }), discPrice === 0 ? /*#__PURE__*/_jsx(\"p\", {\n                  className: \"font-bold ml-2\",\n                  children: formatter.format(totalPrice)\n                }) : /*#__PURE__*/_jsx(\"p\", {\n                  className: \"font-bold line-through ml-2 \",\n                  children: formatter.format(totalPrice)\n                })]\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex flex-wrap -mx-3 mb-3\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mt-5 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"disc_type\",\n                  children: /*#__PURE__*/_jsxs(_Select, {\n                    disabled: products.productList.length === 0,\n                    onChange: setDiscType,\n                    placeholder: \"Pilih Jenis Diskon\",\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [/*#__PURE__*/_jsx(_Select.Option, {\n                      value: \"Tetap\",\n                      children: \"Tetap\"\n                    }, \"Tetap\"), /*#__PURE__*/_jsx(_Select.Option, {\n                      value: \"Persentase\",\n                      children: \"Persentase\"\n                    }, \"Persentase\")]\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mt-5 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"disc_value\",\n                  noStyle: true,\n                  children: /*#__PURE__*/_jsx(_InputNumber, {\n                    disabled: products.productList.length === 0,\n                    onChange: setTotalWithDisc,\n                    size: \"large\",\n                    min: 0,\n                    placeholder: \"Diskon\",\n                    style: {\n                      width: \"100%\"\n                    }\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mt-5 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"delivery_fee\",\n                  noStyle: true,\n                  children: /*#__PURE__*/_jsx(_InputNumber, {\n                    onChange: e => setBiayaPengiriman(e),\n                    size: \"large\",\n                    placeholder: \"Biaya Pengiriman\",\n                    style: {\n                      width: \"100%\"\n                    }\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mt-5 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"DPP_active\",\n                  children: /*#__PURE__*/_jsx(_Select, {\n                    disabled: products.productList.length === 0,\n                    placeholder: \"Pakai DPP\",\n                    onChange: setDPPActive,\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: /*#__PURE__*/_jsx(_Select.Option, {\n                      value: \"DPP\",\n                      children: \"DPP\"\n                    }, \"DPP\")\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mt-5 md:mb-0\",\n                children: /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"PPN_active\",\n                  children: /*#__PURE__*/_jsx(_Select, {\n                    disabled: true,\n                    placeholder: \"Pakai PPN\",\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: /*#__PURE__*/_jsx(_Select.Option, {\n                      value: \"PPN\",\n                      children: \"PPN\"\n                    }, \"PPN\")\n                  })\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-end font-bold w-full mb-3 md:w-3/4\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                children: \"Biaya Tambahan Lain-lain\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex justify-end\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mb-2 text-center md:mb-0\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"mb-4 font-bold\",\n                  children: \"Keterangan\"\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_1_desc\",\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    }\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_2_desc\",\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    }\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_3_desc\",\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    }\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_4_desc\",\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    }\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_5_desc\",\n                  children: /*#__PURE__*/_jsx(_Input, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    }\n                  })\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"w-full md:w-1/3 px-3 mb-2 text-center md:mb-0\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"mb-4 font-bold\",\n                  children: \"Jumlah\"\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_1_sub\",\n                  children: /*#__PURE__*/_jsx(_InputNumber, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    onChange: e => setAdditionalFee(_objectSpread(_objectSpread({}, additionalFee), {}, {\n                      additional_fee_1_sub: e\n                    }))\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_2_sub\",\n                  children: /*#__PURE__*/_jsx(_InputNumber, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    onChange: e => setAdditionalFee(_objectSpread(_objectSpread({}, additionalFee), {}, {\n                      additional_fee_2_sub: e\n                    }))\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_3_sub\",\n                  children: /*#__PURE__*/_jsx(_InputNumber, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    onChange: e => setAdditionalFee(_objectSpread(_objectSpread({}, additionalFee), {}, {\n                      additional_fee_3_sub: e\n                    }))\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_4_sub\",\n                  children: /*#__PURE__*/_jsx(_InputNumber, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    onChange: e => setAdditionalFee(_objectSpread(_objectSpread({}, additionalFee), {}, {\n                      additional_fee_4_sub: e\n                    }))\n                  })\n                }), /*#__PURE__*/_jsx(_Form.Item, {\n                  name: \"additional_fee_5_sub\",\n                  children: /*#__PURE__*/_jsx(_InputNumber, {\n                    size: \"large\",\n                    style: {\n                      width: \"100%\"\n                    },\n                    onChange: e => setAdditionalFee(_objectSpread(_objectSpread({}, additionalFee), {}, {\n                      additional_fee_5_sub: e\n                    }))\n                  })\n                })]\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: /*#__PURE__*/_jsxs(\"p\", {\n                className: \"font-bold flex justify-end\",\n                children: [\"Total Biaya : \", grandTotal === 0 ? formatter.format(totalPrice) : formatter.format(grandTotal)]\n              })\n            }), /*#__PURE__*/_jsx(_Form.Item, {\n              name: \"additional_note\",\n              children: /*#__PURE__*/_jsx(TextArea, {\n                rows: 4,\n                placeholder: \"Catatan Tambahan\"\n              })\n            }), /*#__PURE__*/_jsx(_Form.Item, {\n              className: \"mt-5\",\n              children: loading ? /*#__PURE__*/_jsx(\"div\", {\n                className: \" flex float-left ml-3 \",\n                children: /*#__PURE__*/_jsx(_Spin, {})\n              }) : /*#__PURE__*/_jsx(_Button, {\n                htmlType: \"submit\",\n                className: \" hover:text-white hover:bg-cyan-700 border border-cyan-700 ml-1\",\n                children: \"Tambah\"\n              })\n            })]\n          })\n        })]\n      })\n    })]\n  });\n}\n\nexport default Tambah;","map":null,"metadata":{},"sourceType":"module"}