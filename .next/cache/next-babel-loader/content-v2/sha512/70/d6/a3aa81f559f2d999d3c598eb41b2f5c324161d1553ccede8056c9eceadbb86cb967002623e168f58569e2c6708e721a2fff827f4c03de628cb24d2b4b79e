{"ast":null,"code":"var _jsxFileName = \"/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/containers/Topbar/TopbarAddToCart.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport Link from \"next/link\";\nimport { connect } from \"react-redux\";\nimport Popover from \"@iso/components/uielements/popover\";\nimport ecommerceAction from \"@iso/redux/ecommerce/actions\";\nimport TopbarDropdownWrapper from \"./TopbarDropdown.styles\";\nimport { TopbarCartIcon } from \"@iso/config/icon.config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  changeViewTopbarCart,\n  changeProductQuantity\n} = ecommerceAction;\nlet totalPrice;\n\nclass TopbarAddtoCart extends Component {\n  constructor(props) {\n    super(props);\n    this.handleVisibleChange = this.handleVisibleChange.bind(this);\n    this.hide = this.hide.bind(this);\n    this.renderProducts = this.renderProducts.bind(this);\n    this.changeQuantity = this.changeQuantity.bind(this);\n    this.cancelQuantity = this.cancelQuantity.bind(this);\n  }\n\n  hide() {\n    this.props.changeViewTopbarCart(false);\n  }\n\n  handleVisibleChange() {\n    this.props.changeViewTopbarCart(!this.props.viewTopbarCart);\n  }\n\n  renderProducts() {\n    const {\n      productQuantity,\n      products\n    } = this.props;\n    totalPrice = 0;\n\n    if (!productQuantity || productQuantity.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"isoNoItemMsg\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"No item found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this);\n    }\n\n    return productQuantity.map(product => {\n      totalPrice += product.quantity * products[product.objectID].price;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    });\n  }\n\n  changeQuantity(objectID, quantity) {\n    const {\n      productQuantity\n    } = this.props;\n    const newProductQuantity = [];\n    productQuantity.forEach(product => {\n      if (product.objectID !== objectID) {\n        newProductQuantity.push(product);\n      } else {\n        newProductQuantity.push({\n          objectID,\n          quantity\n        });\n      }\n    });\n    this.props.changeProductQuantity(newProductQuantity);\n  }\n\n  cancelQuantity(objectID) {\n    const {\n      productQuantity\n    } = this.props;\n    const newProductQuantity = [];\n    productQuantity.forEach(product => {\n      if (product.objectID !== objectID) {\n        newProductQuantity.push(product);\n      }\n    });\n    this.props.changeProductQuantity(newProductQuantity);\n  }\n\n  render() {\n    const {\n      url,\n      productQuantity,\n      viewTopbarCart,\n      customizedTheme\n    } = this.props;\n\n    const content = /*#__PURE__*/_jsxDEV(TopbarDropdownWrapper, {\n      className: \"topbarAddtoCart\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"isoDropdownHeader\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"isoDropdownBody isoCartItemsWrapper\",\n        children: this.renderProducts()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"isoDropdownFooterLinks\",\n        onClick: this.hide,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          href: \"/dashboard/cart\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"View Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Total Price: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", totalPrice.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(Popover, {\n      content: content,\n      trigger: \"click\",\n      visible: viewTopbarCart,\n      onVisibleChange: this.handleVisibleChange,\n      placement: \"bottomLeft\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"isoIconWrapper\",\n        children: [/*#__PURE__*/_jsxDEV(TopbarCartIcon, {\n          size: 24,\n          color: customizedTheme.textColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), productQuantity.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: productQuantity.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return _objectSpread(_objectSpread({}, state.Ecommerce), {}, {\n    customizedTheme: state.ThemeSwitcher.topbarTheme\n  });\n}\n\nexport default connect(mapStateToProps, {\n  changeViewTopbarCart,\n  changeProductQuantity\n})(TopbarAddtoCart);","map":{"version":3,"sources":["/Users/yudiananta/Development/NextJS/ERP Dev/JS Deploy/JS-Deploy/containers/Topbar/TopbarAddToCart.js"],"names":["React","Component","Link","connect","Popover","ecommerceAction","TopbarDropdownWrapper","TopbarCartIcon","changeViewTopbarCart","changeProductQuantity","totalPrice","TopbarAddtoCart","constructor","props","handleVisibleChange","bind","hide","renderProducts","changeQuantity","cancelQuantity","viewTopbarCart","productQuantity","products","length","map","product","quantity","objectID","price","newProductQuantity","forEach","push","render","url","customizedTheme","content","toFixed","textColor","mapStateToProps","state","Ecommerce","ThemeSwitcher","topbarTheme"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Link from \"next/link\";\nimport { connect } from \"react-redux\";\nimport Popover from \"@iso/components/uielements/popover\";\nimport ecommerceAction from \"@iso/redux/ecommerce/actions\";\nimport TopbarDropdownWrapper from \"./TopbarDropdown.styles\";\nimport { TopbarCartIcon } from \"@iso/config/icon.config\";\n\nconst { changeViewTopbarCart, changeProductQuantity } = ecommerceAction;\nlet totalPrice;\nclass TopbarAddtoCart extends Component {\n  constructor(props) {\n    super(props);\n    this.handleVisibleChange = this.handleVisibleChange.bind(this);\n    this.hide = this.hide.bind(this);\n    this.renderProducts = this.renderProducts.bind(this);\n    this.changeQuantity = this.changeQuantity.bind(this);\n    this.cancelQuantity = this.cancelQuantity.bind(this);\n  }\n  hide() {\n    this.props.changeViewTopbarCart(false);\n  }\n  handleVisibleChange() {\n    this.props.changeViewTopbarCart(!this.props.viewTopbarCart);\n  }\n  renderProducts() {\n    const { productQuantity, products } = this.props;\n    totalPrice = 0;\n    if (!productQuantity || productQuantity.length === 0) {\n      return (\n        <div className=\"isoNoItemMsg\">\n          <span>No item found</span>\n        </div>\n      );\n    }\n    return productQuantity.map((product) => {\n      totalPrice += product.quantity * products[product.objectID].price;\n      return <></>;\n    });\n  }\n  changeQuantity(objectID, quantity) {\n    const { productQuantity } = this.props;\n    const newProductQuantity = [];\n    productQuantity.forEach((product) => {\n      if (product.objectID !== objectID) {\n        newProductQuantity.push(product);\n      } else {\n        newProductQuantity.push({\n          objectID,\n          quantity,\n        });\n      }\n    });\n    this.props.changeProductQuantity(newProductQuantity);\n  }\n  cancelQuantity(objectID) {\n    const { productQuantity } = this.props;\n    const newProductQuantity = [];\n    productQuantity.forEach((product) => {\n      if (product.objectID !== objectID) {\n        newProductQuantity.push(product);\n      }\n    });\n    this.props.changeProductQuantity(newProductQuantity);\n  }\n\n  render() {\n    const { url, productQuantity, viewTopbarCart, customizedTheme } =\n      this.props;\n    const content = (\n      <TopbarDropdownWrapper className=\"topbarAddtoCart\">\n        <div className=\"isoDropdownHeader\">\n          <h3>Cart</h3>\n        </div>\n        <div className=\"isoDropdownBody isoCartItemsWrapper\">\n          {this.renderProducts()}\n        </div>\n        <div className=\"isoDropdownFooterLinks\" onClick={this.hide}>\n          <Link href=\"/dashboard/cart\">\n            <a>View Cart</a>\n          </Link>\n\n          <h3>\n            Total Price: <span>${totalPrice.toFixed(2)}</span>\n          </h3>\n        </div>\n      </TopbarDropdownWrapper>\n    );\n    return (\n      <Popover\n        content={content}\n        trigger=\"click\"\n        visible={viewTopbarCart}\n        onVisibleChange={this.handleVisibleChange}\n        placement=\"bottomLeft\"\n      >\n        <div className=\"isoIconWrapper\">\n          <TopbarCartIcon size={24} color={customizedTheme.textColor} />\n          {productQuantity.length === 0 ? (\n            <span>0</span>\n          ) : (\n            <span>{productQuantity.length}</span>\n          )}\n        </div>\n      </Popover>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    ...state.Ecommerce,\n    customizedTheme: state.ThemeSwitcher.topbarTheme,\n  };\n}\nexport default connect(mapStateToProps, {\n  changeViewTopbarCart,\n  changeProductQuantity,\n})(TopbarAddtoCart);\n"]},"metadata":{},"sourceType":"module"}