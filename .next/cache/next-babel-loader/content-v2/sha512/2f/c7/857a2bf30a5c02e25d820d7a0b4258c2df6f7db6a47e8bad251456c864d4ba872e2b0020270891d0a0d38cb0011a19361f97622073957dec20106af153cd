{"ast":null,"code":"var actions = {\n  GET_INVOICE: 'GET_INVOICE',\n  UPDATE_INVOICE: 'UPDATE_INVOICE',\n  UPDATE_INVOICE_SAGA: 'UPDATE_INVOICE_SAGA',\n  SELECT_CURRENT_INVOICE: 'SELECT_CURRENT_INVOICE',\n  TOGGLE_VIEW: 'INVOICE_TOGGLE_VIEW',\n  UPDATE_EDIT_INVOICE: 'INVOICE_UPDATE_EDIT_INVOICE',\n  initData: function initData() {\n    return {\n      type: actions.GET_INVOICE\n    };\n  },\n  deleteInvoice: function deleteInvoice(selected) {\n    return function (dispatch, getState) {\n      var invoices = getState().Invoices.invoices;\n      var newInvoices = [];\n      invoices.forEach(function (invoice) {\n        var selectedIndex = selected.indexOf(invoice.key);\n\n        if (selectedIndex === -1) {\n          newInvoices.push(invoice);\n        }\n      });\n      dispatch({\n        type: actions.UPDATE_INVOICE_SAGA,\n        invoices: newInvoices\n      });\n    };\n  },\n  updateInvoice: function updateInvoice(invoice) {\n    return function (dispatch, getState) {\n      var invoices = getState().Invoices.invoices;\n      var index = invoices.map(function (inv) {\n        return inv.id;\n      }).indexOf(invoice.id);\n\n      if (index === -1) {\n        invoices.push(invoice);\n      } else {\n        invoices[index] = invoice;\n      }\n\n      dispatch({\n        type: actions.UPDATE_INVOICE_SAGA,\n        invoices: invoices,\n        invoice: invoice\n      });\n    };\n  },\n  selectCurrentInvoice: function selectCurrentInvoice(id) {\n    return {\n      type: actions.SELECT_CURRENT_INVOICE,\n      id: id\n    };\n  },\n  toggleView: function toggleView(view) {\n    return {\n      type: actions.TOGGLE_VIEW,\n      view: view\n    };\n  },\n  editInvoice: function editInvoice(invoice) {\n    return {\n      type: actions.UPDATE_EDIT_INVOICE,\n      invoice: invoice\n    };\n  }\n};\nexport default actions;","map":null,"metadata":{},"sourceType":"module"}