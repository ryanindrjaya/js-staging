{"ast":null,"code":"import _InputNumber from \"antd/lib/input-number\";\nimport _Form from \"antd/lib/form\";\nimport _Input from \"antd/lib/input\";\nimport _EditOutlined from \"@ant-design/icons/lib/icons/EditOutlined\";\nimport DataTable from \"react-data-table-component\";\nimport AlertDialog from \"../../Alert/Alert\";\nimport { formatterNumber, parserNumber } from \"../../Formatter/CurrencyFormatter\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function UnitsTable(_ref) {\n  var onDelete = _ref.onDelete,\n      onUpdate = _ref.onUpdate,\n      onPageChange = _ref.onPageChange,\n      initialValue = _ref.initialValue,\n      getDescUnit = _ref.getDescUnit,\n      descUnit = _ref.descUnit;\n\n  var onConfirm = function onConfirm(id) {\n    onDelete(id);\n  };\n\n  var onCancel = function onCancel() {\n    console.log(\"onCancel\");\n  };\n\n  var onEdit = function onEdit(id) {\n    onUpdate(id);\n  };\n\n  var unit = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_5];\n  var qty = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_5];\n  var disc = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.disc_1_1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.disc_1_2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.disc_1_3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.disc_1_4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.disc_1_5];\n  var soldPrice = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.sold_price_1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.sold_price_2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.sold_price_3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.sold_price_4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.sold_price_5];\n  var pricelist = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.pricelist_1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.pricelist_2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.pricelist_3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.pricelist_4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.pricelist_5];\n  var buyPrice = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.buy_price_1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.buy_price_2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.buy_price_3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.buy_price_4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.buy_price_5];\n  var purchaseDiscount = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.purchase_discount_1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.purchase_discount_2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.purchase_discount_3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.purchase_discount_4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.purchase_discount_5];\n  var diskon1 = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_1_dp1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_2_dp1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_3_dp1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_4_dp1, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_5_dp1];\n  var diskon2 = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_1_dp2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_2_dp2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_3_dp2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_4_dp2, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_5_dp2];\n  var diskon3 = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_1_dp3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_2_dp3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_3_dp3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_4_dp3, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_5_dp3];\n  var diskon4 = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_1_dp4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_2_dp4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_3_dp4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_4_dp4, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_5_dp4];\n  var diskon5 = [initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_1_dp5, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_2_dp5, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_3_dp5, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_4_dp5, initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_5_dp5]; // const unit_1_dp1\n\n  var content = function content(row) {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsxs(\"button\", {\n        onClick: function onClick() {\n          return onEdit(row.id);\n        },\n        className: \" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md \",\n        children: [/*#__PURE__*/_jsx(_EditOutlined, {\n          className: \"mr-2 mt-0.5 float float-left\"\n        }), \"Edit\"]\n      }), /*#__PURE__*/_jsx(AlertDialog, {\n        onCancel: onCancel,\n        onConfirm: onConfirm,\n        title: \"Hapus Kategori\",\n        message: \"Kategori yang dihapus tidak dapat dikembalikan lagi. Lanjutkan?\",\n        id: row.id\n      })]\n    });\n  };\n\n  var customStyles = {\n    headCells: {\n      style: {\n        textTransform: \"uppercase\"\n      }\n    }\n  };\n  var data = [{\n    idx: 1,\n    unit: \"\",\n    qty: \"\",\n    price: \"\",\n    priceList: \"\"\n  }, {\n    idx: 2,\n    unit: \"\",\n    qty: \"\",\n    price: \"\",\n    priceList: \"\"\n  }, {\n    idx: 3,\n    unit: \"\",\n    qty: \"\",\n    price: \"\",\n    priceList: \"\"\n  }, {\n    idx: 4,\n    unit: \"\",\n    qty: \"\",\n    price: \"\",\n    priceList: \"\"\n  }, {\n    idx: 5,\n    unit: \"\",\n    qty: \"\",\n    price: \"\",\n    priceList: \"\"\n  }];\n  var locale = \"en-us\";\n\n  var rupiahFormatter = function rupiahFormatter(value) {\n    return new Intl.NumberFormat(locale, {\n      style: \"currency\",\n      currency: \"IDR\"\n    }).format(value);\n  };\n\n  var currencyParser = function currencyParser(val) {\n    try {\n      // for when the input gets clears\n      if (typeof val === \"string\" && !val.length) {\n        val = \"0.0\";\n      } // detecting and parsing between comma and dot\n\n\n      var group = new Intl.NumberFormat(locale).format(1111).replace(/1/g, \"\");\n      var decimal = new Intl.NumberFormat(locale).format(1.1).replace(/1/g, \"\");\n      var reversedVal = val.replace(new RegExp(\"\\\\\" + group, \"g\"), \"\");\n      reversedVal = reversedVal.replace(new RegExp(\"\\\\\" + decimal, \"g\"), \".\"); //  => 1232.21 â‚¬\n      // removing everything except the digits and dot\n\n      reversedVal = reversedVal.replace(/[^0-9.]/g, \"\"); //  => 1232.21\n      // appending digits properly\n\n      var digitsAfterDecimalCount = (reversedVal.split(\".\")[1] || []).length;\n      var needsDigitsAppended = digitsAfterDecimalCount > 2;\n\n      if (needsDigitsAppended) {\n        reversedVal = reversedVal * Math.pow(10, digitsAfterDecimalCount - 2);\n      }\n\n      return Number.isNaN(reversedVal) ? 0 : reversedVal;\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  var columns = [{\n    name: \"Unit\",\n    width: \"150px\",\n    style: {\n      backgroundColor: \"#f4f4f4\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"unit_\".concat(row.idx),\n        initialValue: unit[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_Input, {\n          size: \"small\",\n          placeholder: \"Nama Unit \".concat(row.idx),\n          onChange: getDescUnit\n        })\n      });\n    }\n  }, {\n    name: \"Isi\",\n    width: \"150px\",\n    style: {\n      backgroundColor: \"#f4f4f4\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"qty_\".concat(row.idx),\n        initialValue: qty[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          style: {\n            width: 100\n          },\n          size: \"small\",\n          placeholder: \"Isi \".concat(row.idx),\n          onChange: getDescUnit\n        })\n      });\n    }\n  }, {\n    name: \"Harga Pembelian\",\n    width: \"170px\",\n    style: {\n      backgroundColor: \"#036B82\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"buy_price_\".concat(row.idx),\n        initialValue: buyPrice[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          formatter: formatterNumber,\n          parser: parserNumber,\n          style: {\n            width: 120\n          },\n          size: \"small\"\n        })\n      });\n    }\n  }, {\n    name: \"Diskon Pembelian\",\n    width: \"150px\",\n    style: {\n      backgroundColor: \"#036B82\"\n    },\n    selector: function selector(row) {\n      var _purchaseDiscount;\n\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"purchase_discount_\".concat([row.idx]),\n        initialValue: (_purchaseDiscount = purchaseDiscount[row.idx - 1]) !== null && _purchaseDiscount !== void 0 ? _purchaseDiscount : 0,\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          formatter: formatterNumber,\n          parser: parserNumber,\n          style: {\n            width: 120\n          },\n          size: \"small\"\n        })\n      });\n    }\n  }, {\n    name: \"D1\",\n    width: \"80px\",\n    style: {\n      backgroundColor: \"#036B82\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"unit_\".concat(row.idx, \"_dp1\"),\n        rules: [{\n          type: \"number\",\n          max: 100,\n          message: \"Melebihi ketentuan\"\n        }],\n        initialValue: diskon1[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          style: {\n            width: 50\n          },\n          size: \"small\"\n        })\n      });\n    }\n  }, {\n    name: \"D2\",\n    width: \"80px\",\n    style: {\n      backgroundColor: \"#036B82\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"unit_\".concat(row.idx, \"_dp2\"),\n        rules: [{\n          type: \"number\",\n          max: 100,\n          message: \"Melebihi ketentuan\"\n        }],\n        initialValue: diskon2[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          style: {\n            width: 200\n          },\n          size: \"small\"\n        })\n      });\n    }\n  }, {\n    name: \"D3\",\n    width: \"80px\",\n    style: {\n      backgroundColor: \"#036B82\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"unit_\".concat(row.idx, \"_dp3\"),\n        rules: [{\n          type: \"number\",\n          max: 100,\n          message: \"Melebihi ketentuan\"\n        }],\n        initialValue: diskon3[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          style: {\n            width: 60\n          },\n          size: \"small\"\n        })\n      });\n    }\n  }, {\n    name: \"Pricelist\",\n    width: \"150px\",\n    style: {\n      backgroundColor: \"#f4f4f4\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"pricelist_\".concat(row.idx),\n        initialValue: pricelist[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          formatter: formatterNumber,\n          parser: parserNumber,\n          style: {\n            width: 110\n          },\n          size: \"small\"\n        })\n      });\n    }\n  }, {\n    name: \"Harga Jual\",\n    width: \"150px\",\n    style: {\n      backgroundColor: \"#f4f4f4\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"sold_price_\".concat(row.idx),\n        initialValue: soldPrice[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          formatter: formatterNumber,\n          parser: parserNumber,\n          style: {\n            width: 110\n          },\n          size: \"small\"\n        })\n      });\n    }\n  }, {\n    name: \"Disc Jual Persen\",\n    width: \"170px\",\n    style: {\n      backgroundColor: \"#f4f4f4\"\n    },\n    selector: function selector(row) {\n      return /*#__PURE__*/_jsx(_Form.Item, {\n        className: \"mt-4\",\n        name: \"disc_1_\".concat(row.idx),\n        initialValue: disc[row.idx - 1],\n        children: /*#__PURE__*/_jsx(_InputNumber, {\n          style: {\n            width: 120\n          },\n          size: \"small\"\n        })\n      });\n    }\n  }];\n\n  var getInitialDescUnit = function getInitialDescUnit() {\n    var _initialValue$qty_, _initialValue$unit_, _initialValue$qty_2, _initialValue$unit_2, _initialValue$qty_3, _initialValue$unit_3, _initialValue$qty_4, _initialValue$unit_4, _initialValue$qty_5, _initialValue$unit_5;\n\n    var unit1 = \"\".concat((_initialValue$qty_ = initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_1) !== null && _initialValue$qty_ !== void 0 ? _initialValue$qty_ : \"\", \" \").concat((_initialValue$unit_ = initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_1) !== null && _initialValue$unit_ !== void 0 ? _initialValue$unit_ : \"\", \" \");\n    var unit2 = \"\".concat((_initialValue$qty_2 = initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_2) !== null && _initialValue$qty_2 !== void 0 ? _initialValue$qty_2 : \"\", \" \").concat((_initialValue$unit_2 = initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_2) !== null && _initialValue$unit_2 !== void 0 ? _initialValue$unit_2 : \"\", \" \");\n    var unit3 = \"\".concat((_initialValue$qty_3 = initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_3) !== null && _initialValue$qty_3 !== void 0 ? _initialValue$qty_3 : \"\", \" \").concat((_initialValue$unit_3 = initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_3) !== null && _initialValue$unit_3 !== void 0 ? _initialValue$unit_3 : \"\", \" \");\n    var unit4 = \"\".concat((_initialValue$qty_4 = initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_4) !== null && _initialValue$qty_4 !== void 0 ? _initialValue$qty_4 : \"\", \" \").concat((_initialValue$unit_4 = initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_4) !== null && _initialValue$unit_4 !== void 0 ? _initialValue$unit_4 : \"\", \" \");\n    var unit5 = \"\".concat((_initialValue$qty_5 = initialValue === null || initialValue === void 0 ? void 0 : initialValue.qty_5) !== null && _initialValue$qty_5 !== void 0 ? _initialValue$qty_5 : \"\", \" \").concat((_initialValue$unit_5 = initialValue === null || initialValue === void 0 ? void 0 : initialValue.unit_5) !== null && _initialValue$unit_5 !== void 0 ? _initialValue$unit_5 : \"\", \" \");\n    var descUnit = unit1 + unit2 + unit3 + unit4 + unit5;\n    return descUnit;\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(DataTable, {\n      customStyles: customStyles,\n      onChangePage: onPageChange,\n      columns: columns,\n      data: data\n    }), /*#__PURE__*/_jsxs(\"p\", {\n      className: \"mt-3\",\n      children: [\"Keterangan Unit : \", descUnit !== null && descUnit !== void 0 ? descUnit : getInitialDescUnit()]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}