_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[94],{AVMw:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("+P9B"),a=n.n(r),s=n("xvhg"),o=n("q1tI"),i=n.n(o),c=n("G7Ku"),l=n("jmRU"),u=n("qw/b"),d=n("3Yy8"),j=n("oun0"),p=n("vWxj"),h=n("nKUr");function b(e){var t=e.onConfirm,n=e.onCancel,r=e.title,o=e.message,b=e.id,x=i.a.useState(!1),f=Object(s.a)(x,2),m=f[0],O=f[1],w=function(){O(!1)},g=function(){n(),w()};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("button",{className:"hover:bg-red-400 text-red-600 hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md",onClick:function(){O(!0)},children:[Object(h.jsx)(a.a,{className:"mr-2 mt-0.5 float float-left"})," Hapus"]}),Object(h.jsxs)(l.a,{open:m,onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(p.a,{id:"alert-dialog-title",className:"font-bold",children:[" ",r]}),Object(h.jsx)(d.a,{children:Object(h.jsx)(j.a,{id:"alert-dialog-description",children:o})}),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(c.a,{onClick:g,children:"Tidak"}),Object(h.jsx)(c.a,{onClick:function(){t(b),w()},className:"text-red-500",children:"Ya"})]})]})]})}},RY9J:function(e,t,n){"use strict";n.r(t);var r=n("rg98"),a=n("vJKn"),s=n.n(a),o=n("g4pe"),i=n.n(o),c=n("q1tI"),l=n("kM/w"),u=n("0Jbt"),d=n("PKTO"),j=n("d76Q"),p=n.n(j),h=n("AVMw"),b=n("nKUr");function x(e){var t=e.roleData,n=e.onDelete,r=(e.onUpdate,function(e){n(e)}),a=function(){console.log("onCancel")},s=[{name:"Nama",width:"w-1/3",sortable:!0,selector:function(e){return e.name}},{name:"Deskripsi",width:"w-1/3",sortable:!0,selector:function(e){return e.description}},{name:"Tindakan",width:"w-1/3",selector:function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object(b.jsx)(h.a,{onCancel:a,onConfirm:r,title:"Hapus Role",message:"Role yang dihapus tidak dapat dikembalikan lagi. Lanjutkan?",id:e.id})})})}}];return Object(b.jsx)(p.a,{customStyles:{headCells:{style:{color:"white",background:"#036B82"}}},columns:s,data:t,pagination:!0})}var f=n("20a2"),m=n("xBBV"),O=n("FGyW"),w=n("NyWP"),g=n.n(w),k=function(e){var t=e.props.data.roles.filter((function(e,t,n){return t>1})),n=Object(c.useState)(t),a=n[0],o=n[1],j=Object(f.useRouter)(),p=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,a,i,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://js-strapi.keelola.net/api/users-permissions/roles/"+t,r=g.a.get(null,"token"),a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.token}},e.next=5,fetch(n,a);case 5:return i=e.sent,e.next=8,i.json();case 8:if(!e.sent){e.next=19;break}return e.next=12,v(r);case 12:return c=e.sent,e.next=15,c.json();case 15:l=e.sent,u=l.roles.filter((function(e,t,n){return t>1})),o(u),O.b.success("Role berhasil dihapus");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{children:Object(b.jsx)("title",{children:"Daftar Pengguna"})}),Object(b.jsx)(u.a,{children:Object(b.jsxs)(d.a,{style:{},children:[Object(b.jsx)(m.a,{titleText:"Role"}),Object(b.jsxs)(l.a,{children:[Object(b.jsx)("button",{onClick:function(){j.push("/dashboard/role/tambah")},type:"button",className:"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5",children:Object(b.jsx)("div",{className:"text-white text-center text-sm font-bold",children:Object(b.jsx)("a",{className:"text-white no-underline text-xs sm:text-xs",children:"+ Tambah"})})}),Object(b.jsx)(x,{roleData:a,onDelete:p})]})]})})]})};k.getInitialProps=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.a.get(t),e.next=3,v(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",{props:{data:r}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var v=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://js-strapi.keelola.net/api/users-permissions/roles",n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}},e.next=4,fetch("https://js-strapi.keelola.net/api/users-permissions/roles",n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=k},hzAM:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/role",function(){return n("RY9J")}])}},[["hzAM",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,17,18,19]]]);