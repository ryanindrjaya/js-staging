_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[58],{"6rta":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/pembelian/retur",function(){return n("iEKB")}])},HWoU:function(t,e,n){"use strict";var a=n("284h"),r=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("3tO9")),o=a(n("q1tI")),c=r(n("lYt9")),l=r(n("KQxl")),s=function(t,e){return o.createElement(l.default,(0,i.default)((0,i.default)({},t),{},{ref:e,icon:c.default}))};s.displayName="CalculatorOutlined";var u=o.forwardRef(s);e.default=u},iEKB:function(t,e,n){"use strict";n.r(e);n("rR1Q");var a=n("iJl9"),r=n.n(a),i=n("rg98"),o=n("vJKn"),c=n.n(o),l=n("g4pe"),s=n.n(l),u=n("q1tI"),d=n("kM/w"),b=n("0Jbt"),h=n("PKTO"),m=n("20a2"),j=n("xBBV"),p=(n("kc6U"),n("NyWP")),x=n.n(p),v=n("nKUr");O.getInitialProps=function(){var t=Object(i.a)(c.a.mark((function t(e){var n,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x.a.get(e),t.next=3,f(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",{props:{data:a}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var f=function(){var t=Object(i.a)(c.a.mark((function t(e){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://js-strapi.keelola.net/api/purchasings?populate=deep",n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}},t.next=4,fetch("https://js-strapi.keelola.net/api/purchasings?populate=deep",n);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function O(t){var e=t.props.data,n=Object(u.useState)(e),a=(n[0],n[1],Object(u.useState)(!1)),i=(a[0],a[1],r.a.Search,Object(m.useRouter)());return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a,{children:Object(v.jsx)("title",{children:"Retur Pembelian"})}),Object(v.jsx)(b.a,{children:Object(v.jsxs)(h.a,{style:{},children:[Object(v.jsx)(j.a,{titleText:"Daftar Retur Pembelian"}),Object(v.jsx)(d.a,{children:Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:function(){i.push("/dashboard/pembelian/retur/tambah")},type:"button",className:"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5",children:Object(v.jsx)("div",{className:"text-white text-center text-sm font-bold",children:Object(v.jsx)("a",{className:"text-white no-underline text-xs sm:text-xs",children:"+ Tambah"})})})})})]})})]})}e.default=O},kc6U:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var a=n("aOJk"),r=n.n(a),i=n("EQeY"),o=n.n(i),c=n("HWoU"),l=n.n(c),s=n("MUZu"),u=n.n(s),d=n("3YMB"),b=n.n(d),h=n("wIya"),m=n.n(h),j=n("FAat"),p=n.n(j),x=n("d76Q"),v=n.n(x),f=n("+P9B"),O=n.n(f),g=n("xvhg"),y=n("q1tI"),k=n.n(y),w=n("G7Ku"),_=n("jmRU"),N=n("qw/b"),D=n("3Yy8"),C=n("oun0"),P=n("vWxj"),S=n("nKUr");function B(t){var e=t.onConfirm,n=t.onCancel,a=t.title,r=t.message,i=t.id,o=k.a.useState(!1),c=Object(g.a)(o,2),l=c[0],s=c[1],u=function(){s(!1)},d=function(){n(),u()};return Object(S.jsxs)("div",{children:[Object(S.jsxs)("button",{className:"hover:bg-red-400 text-red-600 hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md",onClick:function(){s(!0)},children:[Object(S.jsx)(O.a,{className:"mr-2 mt-0.5 float float-left"})," Batalkan"]}),Object(S.jsxs)(_.a,{open:l,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsxs)(P.a,{id:"alert-dialog-title",className:"font-bold",children:[" ",a]}),Object(S.jsx)(D.a,{children:Object(S.jsx)(C.a,{id:"alert-dialog-description",children:r})}),Object(S.jsxs)(N.a,{children:[Object(S.jsx)(w.a,{onClick:d,children:"Tidak"}),Object(S.jsx)(w.a,{onClick:function(){e(i),u()},className:"text-red-500",children:"Ya"})]})]})]})}var T=n("20a2"),E=n("IdFE");function R(t){var e,n,a=t.data,i=t.onDelete,c=t.onUpdate,s=t.onPageChange,d=t.onChangeStatus,h=Object(T.useRouter)(),j=p.a.Option,x="#F50",f="#87D068",O="#F4B042",g=function(){console.log("onCancel")};var y=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),k=function(t){return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:Object(S.jsxs)("button",{onClick:function(){return function(t){h.push("pembelian_barang/print/"+t.id)}(t)},className:" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:[Object(S.jsx)(m.a,{className:"mr-2 mt-0.5 float float-left"}),"Cetak"]})}),Object(S.jsx)("div",{children:Object(S.jsxs)("button",{onClick:function(){return function(t){h.push("pembelian_barang/print/"+t.id)}(t)},className:" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:[Object(S.jsx)(b.a,{className:"mr-2 mt-0.5 float float-left"}),"Lihat"]})}),"Diterima"===t.attributes.status?Object(S.jsx)("div",{}):Object(S.jsxs)("button",{onClick:function(){return e=t.id,void c(e);var e},className:" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:[Object(S.jsx)(u.a,{className:"mr-2 mt-0.5 float float-left"}),"Edit"]}),Object(S.jsx)(B,{onCancel:g,onConfirm:function(e){return function(t,e){console.log(t),i(t,e)}(e,t)},title:"Batalkan Transaksi",message:"Transaksi yang dibatalkan tidak dapat dikembalikan lagi. Lanjutkan?",id:t.id}),Object(S.jsx)("div",{className:"mt-4",children:Object(S.jsxs)("button",{onClick:function(){return function(t){h.push("pembelian_barang/pembayaran/"+t.id)}(t)},className:" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:[Object(S.jsx)(l.a,{className:"mr-2 mt-0.5 float float-left"}),"Pembayaran"]})}),Object(S.jsx)("div",{children:Object(S.jsxs)("button",{onClick:function(){return function(t){h.push("retur/"+t.id)}(t)},className:" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:[Object(S.jsx)(E.B,{className:"mr-2 mt-0.5 float float-left"}),"Retur Pembelian"]})})]})},w=[{name:"NO LPB",width:"180px",selector:function(t){var e,n;return null!==(e=null===(n=t.attributes)||void 0===n?void 0:n.no_purchasing)&&void 0!==e?e:"-"}},{name:"Supplier",width:"180px",selector:function(t){var e,n;return null!==(e=null===(n=t.attributes)||void 0===n?void 0:n.supplier.data.attributes.name)&&void 0!==e?e:"-"}},{name:"Nota Supplier",width:"180px",selector:function(t){var e,n;return null!==(e=null===(n=t.attributes)||void 0===n?void 0:n.no_nota_suppplier)&&void 0!==e?e:"-"}},{name:"Tanggal",width:"150px",selector:function(t){var e;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id-ID";return new Date(t).toLocaleDateString(e)}(null===(e=t.attributes)||void 0===e?void 0:e.date_purchasing)}},{name:"Lokasi",width:"200px",selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.location.data.attributes.name}},{name:"Status",width:"200px",selector:function(t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(p.a,{defaultValue:t.attributes.status,bordered:!1,disabled:"Selesai"===t.attributes.status||"Dibatalkan"===t.attributes.status,onChange:function(e){return d(e,t)},style:{width:"150px"},children:[Object(S.jsx)(j,{value:"Diproses",className:"text-black",children:Object(S.jsx)(o.a,{color:"default",children:"Diproses"})},"Diproses"),Object(S.jsx)(j,{value:"Dibatalkan",className:"text-black",children:Object(S.jsx)(o.a,{color:"error",children:"Dibatalkan"})},"Dibatalkan"),Object(S.jsx)(j,{value:"Selesai",className:"text-black",children:Object(S.jsx)(o.a,{color:"success",children:"Selesai"})},"Selesai")]})})}},{name:"Tempo",width:"150px",selector:function(t){var e,n,a,r,i,c,l=new Date(null===(e=t.attributes)||void 0===e?void 0:e.date_purchasing),s=parseInt(null!==(n=null===(a=t.attributes)||void 0===a?void 0:a.tempo_days)&&void 0!==n?n:0),u=new Date,d=!1,b=null===(r=t.attributes)||void 0===r?void 0:r.status_pembayaran,h=null===(i=t.attributes)||void 0===i?void 0:i.purchasing_payments.data;return"Hari"===(null===(c=t.attributes)||void 0===c?void 0:c.tempo_time)?l.setDate(l.getDate()+s):l.setDate(l.getMonth()+s),l<u&&(d=!0),d?"Belum Lunas"===b?Object(S.jsx)(o.a,{color:"red",children:"Tempo"}):"Lunas"===b?Object(S.jsx)(o.a,{color:"green",children:"Selesai"}):Object(S.jsx)(o.a,{color:O,children:"Menunggu"}):"Belum Lunas"===b&&h.length>0?Object(S.jsx)(o.a,{color:x,children:"Tempo"}):"Lunas"===b&&h.length>0?Object(S.jsx)(o.a,{color:f,children:"Selesai"}):Object(S.jsx)(o.a,{color:O,children:"Menunggu"})}},{name:"Pembayaran",width:"150px",selector:function(t){var e,n,a=null===(e=t.attributes.purchasing_payments)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.length,r=t.attributes.purchasing_payments.data[a-1];return(null===r||void 0===r?void 0:r.attributes.payment_remaining)===(null===r||void 0===r?void 0:r.attributes.total_payment)?Object(S.jsx)(o.a,{color:x,children:"Belum Dibayar"}):(null===r||void 0===r?void 0:r.attributes.payment_remaining)>0&&(null===r||void 0===r?void 0:r.attributes.payment_remaining)<(null===r||void 0===r?void 0:r.attributes.total_payment)?Object(S.jsx)(o.a,{color:O,children:"Dibayar Sebagian"}):(null===r||void 0===r?void 0:r.attributes.payment_remaining)<=0?Object(S.jsx)(o.a,{color:f,children:"Selesai"}):Object(S.jsx)(o.a,{color:O,children:"Dibayar Sebagian"})}},{name:"Total Beli",width:"150px",selector:function(t){var e,n;return y.format(null!==(e=null===(n=t.attributes)||void 0===n?void 0:n.total_purchasing)&&void 0!==e?e:0)}},{name:"Tindakan",width:"250px",selector:function(t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(r.a,{content:k(t),placement:"bottom",trigger:"click",children:Object(S.jsx)("button",{className:" text-cyan-700  transition-colors  text-xs font-normal py-2 rounded-md ",children:"Tindakan"})})})}}];return Object(S.jsx)(v.a,{customStyles:{headerStyle:{textAlign:"center"},headCells:{style:{color:"white",background:"#036B82"}}},onChangePage:s,paginationRowsPerPageOptions:[10],paginationTotalRows:null===a||void 0===a||null===(e=a.meta)||void 0===e||null===(n=e.pagination)||void 0===n?void 0:n.total,columns:w,data:a.data,pagination:!0,noDataComponent:"Belum ada data Pembelian"})}},lYt9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M251.2 387H320v68.8c0 1.8 1.8 3.2 4 3.2h48c2.2 0 4-1.4 4-3.3V387h68.8c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H376v-68.8c0-1.8-1.8-3.2-4-3.2h-48c-2.2 0-4 1.4-4 3.2V331h-68.8c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm328 0h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm0 265h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm0 104h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm-195.7-81l61.2-74.9c4.3-5.2.7-13.1-5.9-13.1H388c-2.3 0-4.5 1-5.9 2.9l-34 41.6-34-41.6a7.85 7.85 0 00-5.9-2.9h-50.9c-6.6 0-10.2 7.9-5.9 13.1l61.2 74.9-62.7 76.8c-4.4 5.2-.8 13.1 5.8 13.1h50.8c2.3 0 4.5-1 5.9-2.9l35.5-43.5 35.5 43.5c1.5 1.8 3.7 2.9 5.9 2.9h50.8c6.6 0 10.2-7.9 5.9-13.1L383.5 675zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-36 732H180V180h664v664z"}}]},name:"calculator",theme:"outlined"}},rg98:function(t,e,n){"use strict";function a(t,e,n,a,r,i,o){try{var c=t[i](o),l=c.value}catch(s){return void n(s)}c.done?e(l):Promise.resolve(l).then(a,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(t){a(o,r,i,c,l,"next",t)}function l(t){a(o,r,i,c,l,"throw",t)}c(void 0)}))}}n.d(e,"a",(function(){return r}))}},[["6rta",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,17,18,19,20,23]]]);