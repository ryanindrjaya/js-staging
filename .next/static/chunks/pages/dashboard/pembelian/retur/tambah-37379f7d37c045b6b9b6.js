_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[60],{"9xET":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("vhhj").Row;t.default=r},AVMw:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("+P9B"),i=n.n(r),a=n("xvhg"),o=n("q1tI"),c=n.n(o),u=n("G7Ku"),s=n("jmRU"),l=n("qw/b"),d=n("3Yy8"),p=n("oun0"),f=n("vWxj"),h=n("nKUr");function v(e){var t=e.onConfirm,n=e.onCancel,r=e.title,o=e.message,v=e.id,m=c.a.useState(!1),b=Object(a.a)(m,2),j=b[0],O=b[1],x=function(){O(!1)},g=function(){n(),x()};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("button",{className:"hover:bg-red-400 text-red-600 hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md",onClick:function(){O(!0)},children:[Object(h.jsx)(i.a,{className:"mr-2 mt-0.5 float float-left"})," Hapus"]}),Object(h.jsxs)(s.a,{open:j,onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(f.a,{id:"alert-dialog-title",className:"font-bold",children:[" ",r]}),Object(h.jsx)(d.a,{children:Object(h.jsx)(p.a,{id:"alert-dialog-description",children:o})}),Object(h.jsxs)(l.a,{children:[Object(h.jsx)(u.a,{onClick:g,children:"Tidak"}),Object(h.jsx)(u.a,{onClick:function(){t(v),x()},className:"text-red-500",children:"Ya"})]})]})]})}},C0Zn:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/pembelian/retur/tambah",function(){return n("VAK1")}])},C7ib:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("qu0K"),i=n.n(r),a=n("qWUW"),o=n.n(a),c=n("FAat"),u=n.n(c),s=n("rg98"),l=n("vJKn"),d=n.n(l),p=n("q1tI"),f=n("/MKj"),h=n("NyWP"),v=n.n(h),m=n("nKUr");function b(e){var t=e.onChangeSupplier,n=Object(p.useState)([]),r=n[0],a=n[1],c=v.a.get(null,"token"),l=(Object(f.d)((function(e){return e.Order})),function(){var e=Object(s.a)(d.a.mark((function e(n){var r,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://js-strapi.keelola.net/api"+"/suppliers/".concat(n),i={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c.token}},e.next=4,fetch(r,i);case 4:return a=e.sent,e.next=7,a.json();case 7:o=e.sent,t(o.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=r.map((function(e){return Object(m.jsx)(u.a.Option,{children:e.label},e.value)})),b=function(){var e=Object(s.a)(d.a.mark((function e(t,n){var r,i,a,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}n([]),e.next=19;break;case 4:return e.prev=4,r="https://js-strapi.keelola.net/api"+"/suppliers?filters[$or][0][name][$contains]=".concat(t,"&filters[$or][1][id_supplier][$contains]=").concat(t),i={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c.token}},e.next=9,fetch(r,i);case 9:return a=e.sent,e.next=12,a.json();case 12:o=e.sent,200==a.status&&(u=o.data.map((function(e){return{label:"".concat(e.attributes.id_supplier," - ").concat(e.attributes.name),value:e.id}})),n(u)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"w-full md:w-full mb-2 md:mb-0",children:Object(m.jsx)(i.a.Item,{name:"supplier_id",style:{width:"100%"},rules:[{required:!0,message:"Supplier tidak boleh kosong!"}],children:Object(m.jsx)(u.a,{size:"large",showSearch:!0,placeholder:"Pilih Supplier",onSearch:function(e){e?b(e,a):a([])},onChange:l,filterOption:!1,defaultActiveFirstOption:!1,suffixIcon:Object(m.jsx)(o.a,{}),children:h})})})})}},C9Sl:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3tO9")),o=r(n("q1tI")),c=i(n("eECc")),u=i(n("KQxl")),s=function(e,t){return o.createElement(u.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:c.default}))};s.displayName="UploadOutlined";var l=o.forwardRef(s);t.default=l},DL4k:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"}},F8q9:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("qu0K"),i=n.n(r),a=n("qWUW"),o=n.n(a),c=n("FAat"),u=n.n(c),s=n("rg98"),l=n("vJKn"),d=n.n(l),p=n("q1tI"),f=n("NyWP"),h=n.n(f),v=n("Ii0P"),m=n.n(v),b=n("/MKj"),j=n("nKUr");m.a.addProduct;function O(e){var t=e.form,n=(e.tempList,e.onChange,e.selectedProduct),r=e.user,a=(e.isBasedOnLocation,Object(b.c)()),c=Object(p.useState)(),l=c[0],f=(c[1],Object(p.useState)([])),v=f[0],m=f[1],O=h.a.get(null,"token"),x=function(){var e=Object(s.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(d.a.mark((function e(n){var r,i,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://js-strapi.keelola.net/api"+"/products/".concat(n),i={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+O.token}},e.next=4,fetch(r,i);case 4:return o=e.sent,e.next=7,o.json();case 7:(c=e.sent)&&(a({type:"ADD_PRODUCT",product:c.data}),t.setFieldsValue({products:void 0}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=v.map((function(e){return Object(j.jsx)(u.a.Option,{children:e.label},e.value)})),w=function(){var e=Object(s.a)(d.a.mark((function e(t,i){var a,o,c,u,s,l,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}i([]),e.next=19;break;case 4:return e.prev=4,a="https://js-strapi.keelola.net/api"+"/products?populate=*&filters[$or][0][name][$contains]=".concat(t,"&filters[$or][1][SKU][$contains]=").concat(t),o={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+O.token}},e.next=9,fetch(a,o);case 9:return c=e.sent,e.next=12,c.json();case 12:u=e.sent,200==c.status&&(s=u.data.filter((function(e){return!(null!==n&&void 0!==n&&n.some((function(t){return t.id==e.id})))})),l=s.filter((function(e){return e.attributes.locations.data.some((function(e){return r.locations.some((function(t){return t.id==e.id}))}))})),p=l.map((function(e){return{label:"".concat(e.attributes.name),value:e.id}})),i(p)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"w-full md:w-full mb-2 md:mb-0",children:Object(j.jsx)(i.a.Item,{name:"products",children:Object(j.jsx)(u.a,{allowClear:!0,size:"large",showSearch:!0,value:l,placeholder:"Ketikan Nama Produk / SKU",onSearch:function(e){e?w(e,m):m([])},onChange:x,onSelect:g,filterOption:!1,defaultActiveFirstOption:!1,suffixIcon:Object(j.jsx)(o.a,{}),style:{width:"100%"},children:y})})})})}},Ii0P:function(e,t,n){var r,i=n("oI91"),a=(i(r={ADD_PRODUCT:"ADD_PRODUCT",REMOVE_PRODUCT:"REMOVE_PRODUCT",addProduct:function(e){return{type:a.ADD_PRODUCT,product:e}},removeProduct:function(e){return{type:"REMOVE_PRODUCT",index:e}},changeProductUnit:function(e,t){return{type:"CHANGE_PRODUCT_UNIT",index:e,product:t}},changeProductQty:function(e,t){return{type:"CHANGE_PRODUCT_QTY",qty:e,product:t}},changeProductD1:function(e,t){return{type:"CHANGE_PRODUCT_D1",d1:e,product:t}},changeProductD2:function(e,t){return{type:"CHANGE_PRODUCT_D2",d2:e,product:t}},changeProductD3:function(e,t){return{type:"CHANGE_PRODUCT_D3",d3:e,product:t}},changeProductDisc:function(e,t){return{type:"CHANGE_PRODUCT_DISC",disc:e,product:t}},setPriceAfterDisc:function(e,t){return{type:"SET_PRICE_AFTER_DISC",price:e,product:t}}},"setPriceAfterDisc",(function(e,t){return{type:"SET_SUBTOTAL",subTotal:e,product:t}})),i(r,"setInitialProduct",(function(e){return{type:"SET_INITIAL_PRODUCT",product:e,qty:qty,unit:unit,unitIndex:unitIndex,priceUnit:priceUnit,disc:disc,priceAfterDisc:priceAfterDisc,subTotal:subTotal}})),i(r,"setPreOrderData",(function(e){return{type:"SET_PREORDER_DATA",data:e}})),i(r,"clearValue",(function(){return{type:"CLEAR_DATA"}})),r)},NyWP:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var i=n("iVi/"),a=n("U0US"),o=n("YAAg");function c(e,t){var n,r;return(null===(r=null===(n=null===e||void 0===e?void 0:e.req)||void 0===n?void 0:n.headers)||void 0===r?void 0:r.cookie)?i.parse(e.req.headers.cookie,t):o.isBrowser()?i.parse(document.cookie,t):{}}function u(e,t,n,c){var u,s;if(void 0===c&&(c={}),(null===(u=null===e||void 0===e?void 0:e.res)||void 0===u?void 0:u.getHeader)&&e.res.setHeader){if(null===(s=null===e||void 0===e?void 0:e.res)||void 0===s?void 0:s.finished)return console.warn('Not setting "'+t+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var l=e.res.getHeader("Set-Cookie")||[];"string"===typeof l&&(l=[l]),"number"===typeof l&&(l=[]);var d=a.parse(l,{decodeValues:!1}),p=o.createCookie(t,n,c),f=[];d.forEach((function(e){if(!o.areCookiesEqual(e,p)){var t=i.serialize(e.name,e.value,r({encode:function(e){return e}},e));f.push(t)}})),f.push(i.serialize(t,n,c)),e.res.setHeader("Set-Cookie",f)}if(o.isBrowser()){if(c&&c.httpOnly)throw new Error("Can not set a httpOnly cookie in the browser.");document.cookie=i.serialize(t,n,c)}return{}}function s(e,t,n){return u(e,t,"",r(r({},n||{}),{maxAge:-1}))}t.parseCookies=c,t.setCookie=u,t.destroyCookie=s,t.default={set:u,get:c,destroy:s}},OrCr:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));n("q1tI");function r(e,t,n,r,a){var o,c,u,s,l,d,p,f,h,v,m,b,j,O,x,g,y,w,_,C,k,P,S,T=e.attributes.buy_price_1,I=1,D=0,A=null===(o=e.attributes)||void 0===o?void 0:o.unit_1_dp1,E=null===(c=e.attributes)||void 0===c?void 0:c.unit_1_dp2,N=null===(u=e.attributes)||void 0===u?void 0:u.unit_1_dp3;null!==(s=t.productInfo[e.id])&&void 0!==s&&s.d1?A=null!==(g=t.productInfo[e.id].d1)&&void 0!==g?g:1:0!==(null===(l=t.productInfo[e.id])||void 0===l?void 0:l.d1)&&null!==(null===(d=t.productInfo[e.id])||void 0===d?void 0:d.d1)||(A=0);null!==(p=t.productInfo[e.id])&&void 0!==p&&p.d2?E=null!==(y=t.productInfo[e.id].d2)&&void 0!==y?y:1:0!==(null===(f=t.productInfo[e.id])||void 0===f?void 0:f.d2)&&null!==(null===(h=t.productInfo[e.id])||void 0===h?void 0:h.d2)||(E=0);null!==(v=t.productInfo[e.id])&&void 0!==v&&v.d3?N=null!==(w=t.productInfo[e.id].d3)&&void 0!==w?w:1:0!==(null===(m=t.productInfo[e.id])||void 0===m?void 0:m.d3)&&null!==(null===(b=t.productInfo[e.id])||void 0===b?void 0:b.d3)||(N=0);null!==(j=t.productInfo[e.id])&&void 0!==j&&j.priceUnit&&(T=null!==(_=t.productInfo[e.id].priceUnit)&&void 0!==_?_:e.attributes.buy_price_1);null!==(O=t.productInfo[e.id])&&void 0!==O&&O.qty&&(I=null!==(C=null===(k=t.productInfo[e.id])||void 0===k?void 0:k.qty)&&void 0!==C?C:1);null!==(x=t.productInfo[e.id])&&void 0!==x&&x.disc&&(D=null!==(P=null===(S=t.productInfo[e.id])||void 0===S?void 0:S.disc)&&void 0!==P?P:0);var R=i(T-=D,A),U=i(R,E),q=i(U,N);n[e.id]=q,r[e.id]=q*I;var F=0;for(var V in r)F+=r[V];return a(F),n[e.id]}var i=function(e,t){return e-e*t/100}},U0US:function(e,t,n){"use strict";var r={decodeValues:!0,map:!1,silent:!1};function i(e){return"string"===typeof e&&!!e.trim()}function a(e,t){var n=e.split(";").filter(i),a=function(e){var t="",n="",r=e.split("=");r.length>1?(t=r.shift(),n=r.join("=")):n=e;return{name:t,value:n}}(n.shift()),o=a.name,c=a.value;t=t?Object.assign({},r,t):r;try{c=t.decodeValues?decodeURIComponent(c):c}catch(s){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+c+"'. Set options.decodeValues to false to disable this feature.",s)}var u={name:o,value:c};return n.forEach((function(e){var t=e.split("="),n=t.shift().trimLeft().toLowerCase(),r=t.join("=");"expires"===n?u.expires=new Date(r):"max-age"===n?u.maxAge=parseInt(r,10):"secure"===n?u.secure=!0:"httponly"===n?u.httpOnly=!0:"samesite"===n?u.sameSite=r:u[n]=r})),u}function o(e,t){if(t=t?Object.assign({},r,t):r,!e)return t.map?{}:[];if(e.headers&&e.headers["set-cookie"])e=e.headers["set-cookie"];else if(e.headers){var n=e.headers[Object.keys(e.headers).find((function(e){return"set-cookie"===e.toLowerCase()}))];n||!e.headers.cookie||t.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=n}if(Array.isArray(e)||(e=[e]),(t=t?Object.assign({},r,t):r).map){return e.filter(i).reduce((function(e,n){var r=a(n,t);return e[r.name]=r,e}),{})}return e.filter(i).map((function(e){return a(e,t)}))}e.exports=o,e.exports.parse=o,e.exports.parseString=a,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!==typeof e)return[];var t,n,r,i,a,o=[],c=0;function u(){for(;c<e.length&&/\s/.test(e.charAt(c));)c+=1;return c<e.length}for(;c<e.length;){for(t=c,a=!1;u();)if(","===(n=e.charAt(c))){for(r=c,c+=1,u(),i=c;c<e.length&&"="!==(n=e.charAt(c))&&";"!==n&&","!==n;)c+=1;c<e.length&&"="===e.charAt(c)?(a=!0,c=i,o.push(e.substring(t,r)),t=c):c=r+1}else c+=1;(!a||c>=e.length)&&o.push(e.substring(t,e.length))}return o}},VAK1:function(e,t,n){"use strict";n.r(t);var r=n("FAat"),i=n.n(r),a=n("cpVT"),o=n("B8+X"),c=n.n(o),u=n("4IMT"),s=n.n(u),l=n("C9Sl"),d=n.n(l),p=n("wXtC"),f=n.n(p),h=n("iJl9"),v=n.n(h),m=n("QpBz"),b=n.n(m),j=n("z7pX"),O=n("qu0K"),x=n.n(O),g=n("xvhg"),y=n("rg98"),w=n("vJKn"),_=n.n(w),C=n("g4pe"),k=n.n(C),P=n("q1tI"),S=n("kM/w"),T=n("0Jbt"),I=n("PKTO"),D=n("C7ib"),A=n("xBBV"),E=n("NyWP"),N=n.n(E),R=n("F8q9"),U=n("/MKj"),q=n("OrCr"),F=n("9xET"),V=n.n(F),L=n("5Dct"),M=n.n(L),H=n("d76Q"),z=n.n(H),B=n("AVMw"),K=n("nKUr");function G(e){var t=e.calculatePriceAfterDisc,n=e.productSubTotal,r=e.products,a=Object(U.c)(),o=0,c=0,u=0,s=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),l=function(e){for(var t=0;t<r.productList.length;t++){r.productList[t].id===e&&a({type:"REMOVE_PRODUCT",index:t})}},d=function(){console.log("onCancel")},p=[{name:"Nama Produk",width:"250px",selector:function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.name}},{name:"Harga Satuan",width:"150px",selector:function(e){var t,n=null===(t=e.attributes)||void 0===t?void 0:t.buy_price_1;return r.productInfo[e.id]&&r.productInfo[e.id].priceUnit&&(n=r.productInfo[e.id].priceUnit),s.format(n)}},{name:"Jumlah Pesanan",width:"220px",selector:function(e){var t,n,o,c,u,s,l,d,p,f,h,v,m,b,j,O,g,y,w=1,_=(null===(t=e.attributes)||void 0===t||t.unit_1,1);return null!==(n=r.productInfo[e.id])&&void 0!==n&&n.qty&&(w=r.productInfo[e.id].qty),null!==(o=r.productInfo[e.id])&&void 0!==o&&o.unitIndex&&(_=r.productInfo[e.id].unitIndex),Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)(V.a,{children:[Object(K.jsx)(x.a.Item,{name:["jumlah_qty","".concat(e.id)],noStyle:!0,children:Object(K.jsx)(M.a,{defaultValue:w,onChange:function(t){a({type:"CHANGE_PRODUCT_QTY",qty:t,product:e})},rules:[{required:!0,message:"Required"}],style:{width:"30%"}})}),Object(K.jsx)(x.a.Item,{name:["jumlah_option","".concat(e.id)],noStyle:!0,children:Object(K.jsxs)(i.a,{defaultValue:_,onChange:function(t){return function(e,t){a({type:"CHANGE_PRODUCT_UNIT",index:e,product:t})}(t,e)},name:"jumlah_option",style:{width:"50%"},children:[null===(null===(c=e.attributes)||void 0===c?void 0:c.unit_1)?Object(K.jsx)(K.Fragment,{}):Object(K.jsx)(i.a.Option,{disabled:null===(null===(u=e.attributes)||void 0===u?void 0:u.unit_1),value:1,children:null===(s=e.attributes)||void 0===s?void 0:s.unit_1}),null===(null===(l=e.attributes)||void 0===l?void 0:l.unit_2)?Object(K.jsx)(K.Fragment,{}):Object(K.jsx)(i.a.Option,{disabled:null===(null===(d=e.attributes)||void 0===d?void 0:d.unit_2),value:2,children:null===(p=e.attributes)||void 0===p?void 0:p.unit_2}),null===(null===(f=e.attributes)||void 0===f?void 0:f.unit_3)?Object(K.jsx)(K.Fragment,{}):Object(K.jsx)(i.a.Option,{disabled:null===(null===(h=e.attributes)||void 0===h?void 0:h.unit_3),value:3,children:null===(v=e.attributes)||void 0===v?void 0:v.unit_3}),null===(null===(m=e.attributes)||void 0===m?void 0:m.unit_4)?Object(K.jsx)(K.Fragment,{}):Object(K.jsx)(i.a.Option,{disabled:null===(null===(b=e.attributes)||void 0===b?void 0:b.unit_4),value:4,children:null===(j=e.attributes)||void 0===j?void 0:j.unit_4}),null===(null===(O=e.attributes)||void 0===O?void 0:O.unit_5)?Object(K.jsx)(K.Fragment,{}):Object(K.jsx)(i.a.Option,{disabled:null===(null===(g=e.attributes)||void 0===g?void 0:g.unit_5),value:5,children:null===(y=e.attributes)||void 0===y?void 0:y.unit_5})]})})]})})}},{name:"Diskon",width:"150px",selector:function(e){var t,n=0;return null!==(t=r.productInfo[e.id])&&void 0!==t&&t.disc&&(n=r.productInfo[e.id].disc),Object(K.jsx)(V.a,{align:"bottom",justify:"center",children:Object(K.jsx)(x.a.Item,{name:["disc_rp","".concat(e.id)],noStyle:!0,children:Object(K.jsx)(M.a,{defaultValue:n,min:0,onChange:function(t){a({type:"CHANGE_PRODUCT_DISC",disc:t,product:e})},style:{width:"100px",marginRight:"10px"}})})})}},{name:"",width:"250px",selector:function(e){var t,n,r;return o=null===(t=e.attributes)||void 0===t?void 0:t.unit_1_dp1,c=null===(n=e.attributes)||void 0===n?void 0:n.unit_1_dp2,u=null===(r=e.attributes)||void 0===r?void 0:r.unit_1_dp3,Object(K.jsxs)("div",{className:"grid grid-cols-3 gap-2 disabled:bg-white",children:[Object(K.jsx)(M.a,{disabled:!0,max:100,min:0,name:"disc_rp1",value:o,style:{width:"60px",backgroundColor:"#f4f4f4"}}),Object(K.jsx)(M.a,{disabled:!0,max:100,min:0,value:c,name:"disc_rp2",style:{width:"60px",marginRight:"10px"}}),Object(K.jsx)(M.a,{disabled:!0,max:100,min:0,value:u,name:"disc_rp3",style:{width:"60px",marginRight:"10px"}})]})}},{name:"Harga Satuan Setelah Diskon",width:"200px",selector:function(e){return t(e)}},{name:"Subtotal",width:"200px",selector:function(e){return s.format(n[e.id])}},{name:"Hapus",width:"150px",selector:function(e){return Object(K.jsx)(B.a,{onCancel:d,onConfirm:l,title:"Hapus Produk",message:"Produk akan dihapus dari daftar ini. Lanjutkan?",id:e.id})}}];return Object(K.jsx)(z.a,{customStyles:{headCells:{style:{color:"white",background:"#036B82"}}},paginationRowsPerPageOptions:[50],columns:p,data:r.productList,noDataComponent:"--Belum ada produk--"})}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}J.getInitialProps=function(){var e=Object(y.a)(_.a.mark((function e(t){var n,r,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.a.get(t),e.next=3,$(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return i=e.sent,e.abrupt("return",{props:{location:i}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var $=function(){var e=Object(y.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://js-strapi.keelola.net/api/locations?populate=deep",n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}},e.next=4,fetch("https://js-strapi.keelola.net/api/locations?populate=deep",n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function J(e){var t=e.props.location.data,n=Object(U.d)((function(e){return e.Order})),r=(Object(U.c)(),x.a.useForm()),a=Object(g.a)(r,1)[0],o=Object(P.useState)(),u=(o[0],o[1]),l=Object(P.useState)({}),p=l[0],h=l[1],m=Object(P.useState)({}),O=m[0],w=(m[1],Object(P.useState)(0)),C=(w[0],w[1]),E=[],N=function(){var e=Object(y.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,E.find((function(e){productList.forEach((function(n){n.id===e.id&&(t=!0)}))})),t||(setProductList((function(e){return[].concat(Object(j.a)(e),[E[0]])})),toast.success("Produk berhasil ditambahkan!",{position:toast.POSITION.TOP_RIGHT,autoClose:1e3}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),V={name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?b.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&b.a.error("".concat(e.file.name," file upload failed."))}},L=new Date,M=String(L.getDate()).padStart(2,"0"),H=String(L.getMonth()+1).padStart(2,"0"),z=L.getFullYear();return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(k.a,{children:Object(K.jsx)("title",{children:"Tambah Retur"})}),Object(K.jsx)(T.a,{children:Object(K.jsxs)(I.a,{style:{},children:[Object(K.jsx)(A.a,{titleText:"Tambah Retur Pembelian Barang"}),Object(K.jsx)(S.a,{children:Object(K.jsx)(x.a,{form:a,name:"add_order",initialValues:{remember:!0},onFinish:function(){},onFinishFailed:function(){},children:Object(K.jsxs)("div",{className:"flex flex-wrap -mx-3 mb-3",children:[Object(K.jsx)("div",{className:"w-full md:w-1/4 px-3 mb-2 md:mb-0",children:Object(K.jsx)(D.a,{onChangeSupplier:u})}),Object(K.jsx)("div",{className:"w-full md:w-1/4 px-3 mb-2 md:mb-0",children:Object(K.jsx)(x.a.Item,{name:"no_purchasing",initialValue:"RB/ET/".concat(M,"/").concat(H,"/").concat(z),rules:[{required:!0,message:"Nomor PO tidak boleh kosong!"}],children:Object(K.jsx)(v.a,{style:{height:"40px"},placeholder:"No.PO"})})}),Object(K.jsx)("div",{className:"w-full md:w-1/4 px-3 mb-2 md:mb-0",children:Object(K.jsx)(x.a.Item,{name:"retur_date",rules:[{required:!0,message:"Tanggal tidak boleh kosong!"}],children:Object(K.jsx)(f.a,{placeholder:"Tanggal Retur",size:"large",format:"DD/MM/YYYY",style:{width:"100%"}})})}),Object(K.jsx)("div",{className:"w-full md:w-1/4 px-3 mb-2 md:mb-0",children:Object(K.jsx)(c.a,Y(Y({},V),{},{children:Object(K.jsx)(s.a,{size:"large",icon:Object(K.jsx)(d.a,{}),children:"Click to Upload"})}))}),Object(K.jsx)("div",{className:"w-full md:w-1/4 px-3 mb-2 md:mb-0",children:Object(K.jsx)(x.a.Item,{name:"location",rules:[{required:!0,message:"Lokasi tidak boleh kosong!"}],children:Object(K.jsx)(i.a,{placeholder:"Pilih Lokasi",size:"large",style:{width:"100%"},children:t.map((function(e){return Object(K.jsx)(i.a.Option,{value:e.id,children:e.attributes.name},e.attributes.name)}))})})}),Object(K.jsx)("div",{className:"w-full md:w-4/4 px-3 mb-2 mt-2 mx-0  md:mb-0",children:Object(K.jsx)(R.a,{form:a,tempList:E,onChange:N})}),Object(K.jsx)("div",{className:"w-full md:w-4/4 px-3 mb-2 mt-5 md:mb-0",children:Object(K.jsx)(G,{products:n,productTotalPrice:p,setProductTotalPrice:h,calculatePriceAfterDisc:function(e){var t=Object(q.default)(e,n,p,O,C);return F.format(t)},productSubTotal:O})})]})})})]})})]})}t.default=J},YAAg:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(e[a]!==t[a])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.areCookiesEqual=t.hasSameProperties=t.createCookie=t.isBrowser=void 0,t.isBrowser=function(){return"undefined"!==typeof window},t.createCookie=function(e,t,n){var i=n.sameSite;!0===i&&(i="strict"),void 0!==i&&!1!==i||(i="lax");var a=r(r({},n),{sameSite:i});return delete a.encode,r({name:e,value:t},a)},t.hasSameProperties=i,t.areCookiesEqual=function(e,t){var n=e.sameSite===t.sameSite;return"string"===typeof e.sameSite&&"string"===typeof t.sameSite&&(n=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),i(r(r({},e),{sameSite:void 0}),r(r({},t),{sameSite:void 0}))&&n}},eECc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"}},"iVi/":function(e,t,n){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},a=e.split(";"),c=i.decode||r,u=0;u<a.length;u++){var s=a[u],l=s.indexOf("=");if(!(l<0)){var d=s.substring(0,l).trim();if(void 0==n[d]){var p=s.substring(l+1,s.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),n[d]=o(p,c)}}}return n},t.serialize=function(e,t,n){var r=n||{},o=r.encode||i;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var c=o(t);if(c&&!a.test(c))throw new TypeError("argument val is invalid");var u=e+"="+c;if(null!=r.maxAge){var s=r.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(s)}if(r.domain){if(!a.test(r.domain))throw new TypeError("option domain is invalid");u+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw new TypeError("option path is invalid");u+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(u+="; HttpOnly");r.secure&&(u+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=decodeURIComponent,i=encodeURIComponent,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(n){return e}}},iuhU:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},qWUW:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3tO9")),o=r(n("q1tI")),c=i(n("DL4k")),u=i(n("KQxl")),s=function(e,t){return o.createElement(u.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:c.default}))};s.displayName="CaretDownOutlined";var l=o.forwardRef(s);t.default=l},rg98:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function c(e){r(o,i,a,c,u,"next",e)}function u(e){r(o,i,a,c,u,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return i}))},z7pX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("6FTQ");var i=n("8rE2");function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["C0Zn",0,1,13,21,2,3,4,5,6,7,9,8,10,12,11,14,16,17,18,19,20,22,24,25]]]);