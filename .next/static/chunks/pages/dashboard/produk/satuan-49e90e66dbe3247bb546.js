_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[86],{AVMw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var a=n("+P9B"),r=n.n(a),s=n("xvhg"),i=n("q1tI"),c=n.n(i),o=n("G7Ku"),u=n("jmRU"),l=n("qw/b"),d=n("3Yy8"),j=n("oun0"),p=n("vWxj"),b=n("nKUr");function h(t){var e=t.onConfirm,n=t.onCancel,a=t.title,i=t.message,h=t.id,x=c.a.useState(!1),f=Object(s.a)(x,2),m=f[0],O=f[1],w=function(){O(!1)},v=function(){n(),w()};return Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{className:"hover:bg-red-400 text-red-600 hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md",onClick:function(){O(!0)},children:[Object(b.jsx)(r.a,{className:"mr-2 mt-0.5 float float-left"})," Hapus"]}),Object(b.jsxs)(u.a,{open:m,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(b.jsxs)(p.a,{id:"alert-dialog-title",className:"font-bold",children:[" ",a]}),Object(b.jsx)(d.a,{children:Object(b.jsx)(j.a,{id:"alert-dialog-description",children:i})}),Object(b.jsxs)(l.a,{children:[Object(b.jsx)(o.a,{onClick:v,children:"Tidak"}),Object(b.jsx)(o.a,{onClick:function(){e(h),w()},className:"text-red-500",children:"Ya"})]})]})]})}},iU1d:function(t,e,n){"use strict";n.r(e);var a=n("rg98"),r=n("vJKn"),s=n.n(r),i=n("g4pe"),c=n.n(i),o=n("q1tI"),u=n("kM/w"),l=n("PKTO"),d=n("20a2"),j=n("FGyW"),p=n("NyWP"),b=n.n(p),h=n("0Jbt"),x=n("xBBV"),f=n("d76Q"),m=n.n(f),O=n("AVMw"),w=(n("YFqc"),n("nKUr"));function v(t){var e=t.unitData,n=t.onDelete,a=function(t){console.log(t),n(t)},r=function(){console.log("onCancel")},s=[{name:"Nama Satuan",width:"w-1/2",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.name}},{name:"Tindakan",width:"w-1/2",selector:function(t){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object(w.jsx)(O.a,{onCancel:r,onConfirm:a,title:"Hapus Satuan",message:"Satuan yang dihapus tidak dapat dikembalikan lagi. Lanjutkan?",id:t.id})})})}}];return Object(w.jsx)(m.a,{customStyles:{headCells:{style:{color:"white",background:"#036B82"}}},columns:s,data:e,pagination:!0})}var g=function(t){var e=t.props;console.log(e);var n=e.data.data,r=Object(o.useState)(n),i=r[0],p=(r[1],Object(d.useRouter)()),f=function(){var t=Object(a.a)(s.a.mark((function t(e){var n,a,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://js-strapi.keelola.net/api/units/"+e,a=b.a.get(null,"token"),r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token}},t.next=5,fetch(n,r);case 5:return i=t.sent,t.next=8,i.json();case 8:if(!t.sent){t.next=14;break}return t.next=12,k(a);case 12:j.b.success("Satuan berhasil dihapus"),p.reload("/dashboard/produk/satuan");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(c.a,{children:Object(w.jsx)("title",{children:"Satuan Produk"})}),Object(w.jsx)(h.a,{children:Object(w.jsxs)(l.a,{style:{},children:[Object(w.jsx)(x.a,{titleText:"Satuan"}),Object(w.jsxs)(u.a,{children:[Object(w.jsx)("button",{onClick:function(){p.push("/dashboard/produk/satuan/tambah")},type:"button",className:"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5",children:Object(w.jsx)("div",{className:"text-white text-center text-sm font-bold",children:Object(w.jsx)("a",{className:"text-white no-underline text-xs sm:text-xs",children:"+ Tambah"})})}),Object(w.jsx)(v,{unitData:i,onDelete:f})]})]})})]})};g.getInitialProps=function(){var t=Object(a.a)(s.a.mark((function t(e){var n,a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.a.get(e),t.next=3,k(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",{props:{data:a}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var k=function(){var t=Object(a.a)(s.a.mark((function t(e){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://js-strapi.keelola.net/api/units",n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}},t.next=4,fetch("https://js-strapi.keelola.net/api/units",n);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.default=g},"w/GN":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/produk/satuan",function(){return n("iU1d")}])}},[["w/GN",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,17,18,19]]]);