_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[79],{AVMw:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("+P9B"),r=n.n(a),o=n("xvhg"),i=n("q1tI"),s=n.n(i),c=n("G7Ku"),u=n("jmRU"),l=n("qw/b"),d=n("3Yy8"),p=n("oun0"),h=n("vWxj"),f=n("nKUr");function b(t){var e=t.onConfirm,n=t.onCancel,a=t.title,i=t.message,b=t.id,j=s.a.useState(!1),x=Object(o.a)(j,2),v=x[0],g=x[1],m=function(){g(!1)},k=function(){n(),m()};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("button",{className:"hover:bg-red-400 text-red-600 hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md",onClick:function(){g(!0)},children:[Object(f.jsx)(r.a,{className:"mr-2 mt-0.5 float float-left"})," Hapus"]}),Object(f.jsxs)(u.a,{open:v,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(f.jsxs)(h.a,{id:"alert-dialog-title",className:"font-bold",children:[" ",a]}),Object(f.jsx)(d.a,{children:Object(f.jsx)(p.a,{id:"alert-dialog-description",children:i})}),Object(f.jsxs)(l.a,{children:[Object(f.jsx)(c.a,{onClick:k,children:"Tidak"}),Object(f.jsx)(c.a,{onClick:function(){e(b),m()},className:"text-red-500",children:"Ya"})]})]})]})}},MUZu:function(t,e,n){"use strict";var a=n("284h"),r=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("3tO9")),i=a(n("q1tI")),s=r(n("ZxNd")),c=r(n("KQxl")),u=function(t,e){return i.createElement(c.default,(0,o.default)((0,o.default)({},t),{},{ref:e,icon:s.default}))};u.displayName="EditOutlined";var l=i.forwardRef(u);e.default=l},QoXh:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("aOJk"),r=n.n(a),o=n("MUZu"),i=n.n(o),s=n("d76Q"),c=n.n(s),u=n("AVMw"),l=(n("q1tI"),n("nKUr"));function d(t){var e,n=t.categoryData,a=t.onDelete,o=t.onUpdate,s=t.onPageChange,d=t.isSubCategory,p=function(t){console.log(t),a(t)},h=function(){console.log("onCancel")},f=function(t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("button",{onClick:function(){return e=t.id,void o(e);var e},className:" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:[Object(l.jsx)(i.a,{className:"mr-2 mt-0.5 float float-left"}),"Edit"]}),Object(l.jsx)(u.a,{onCancel:h,onConfirm:p,title:"Hapus Kategori",message:"Kategori yang dihapus tidak dapat dikembalikan lagi. Lanjutkan?",id:t.id})]})},b=[{name:"Kode Kategori",width:"w-1/4",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.category_id}},{name:"Nama Kategori",width:"w-1/4",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.name}},{name:"Deskripsi",width:"w-1/4",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.description}},{name:"Tindakan",width:"w-1/4",selector:function(t){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(r.a,{content:f(t),placement:"bottom",trigger:"click",children:Object(l.jsx)("button",{className:" text-cyan-700  transition-colors  text-xs font-normal py-2 rounded-md ",children:"Tindakan"})})})}}],j=[{name:"Induk Kategori",width:"250px",sortable:!0,selector:function(t){var e,n,a,r;return null!==(e=null===(n=t.attributes)||void 0===n||null===(a=n.category)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.attributes.name)&&void 0!==e?e:"-"}},{name:"Kode Sub Kategori",width:"250px",sortable:!0,selector:function(t){var e,n;return null!==(e=null===(n=t.attributes)||void 0===n?void 0:n.sub_id)&&void 0!==e?e:"-"}},{name:"Nama Kategori",width:"250px",sortable:!0,selector:function(t){var e,n;return null!==(e=null===(n=t.attributes)||void 0===n?void 0:n.name)&&void 0!==e?e:"-"}},{name:"Deskripsi",width:"250px",sortable:!0,selector:function(t){var e,n;return null!==(e=null===(n=t.attributes)||void 0===n?void 0:n.description)&&void 0!==e?e:"-"}},{name:"Tindakan",width:"250px",selector:function(t){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(r.a,{content:f(t),placement:"bottom",trigger:"click",children:Object(l.jsx)("button",{className:" text-cyan-700  transition-colors  text-xs font-normal py-2 rounded-md ",children:"Tindakan"})})})}}];return Object(l.jsx)(c.a,{customStyles:{headCells:{style:{color:"white",background:"#036B82"}}},onChangePage:s,paginationRowsPerPageOptions:[10],paginationTotalRows:null===n||void 0===n||null===(e=n.meta)||void 0===e?void 0:e.pagination.total,columns:d?j:b,data:null===n||void 0===n?void 0:n.data,pagination:!0})}},ZxNd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"}},fn6E:function(t,e,n){"use strict";n.r(e);var a=n("rg98"),r=n("iJl9"),o=n.n(r),i=n("vJKn"),s=n.n(i),c=n("g4pe"),u=n.n(c),l=n("q1tI"),d=n("kM/w"),p=n("PKTO"),h=n("20a2"),f=n("FGyW"),b=n("NyWP"),j=n.n(b),x=n("0Jbt"),v=n("xBBV"),g=n("QoXh"),m=n("nKUr"),k=function(t){var e=t.props.data,n=Object(l.useState)(!1),r=n[0],i=n[1],c=Object(l.useState)(e),b=c[0],k=c[1],O=Object(h.useRouter)(),y=o.a.Search,C=function(){var t=Object(a.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.target.value.length>=2)){t.next=12;break}return i(!0),t.next=4,N(n.target.value);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,k(r),i(!1),t.next=15;break;case 12:console.log("clear"),k(e),i(!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(a.a)(s.a.mark((function t(e){var n,a,r,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://js-strapi.keelola.net/api/categories?filters[$or][0][name][$contains]="+e+"&filters[$or][1][category_id][$contains]="+e,a=j.a.get(null,"token"),r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token}},t.next=5,fetch(n,r);case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(a.a)(s.a.mark((function t(e){var n,a,r,o,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://js-strapi.keelola.net/api/categories/"+e,a=j.a.get(null,"token"),r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token}},t.next=5,fetch(n,r);case 5:return o=t.sent,t.next=8,o.json();case 8:if(!t.sent){t.next=18;break}return t.next=12,w(a);case 12:return i=t.sent,t.next=15,i.json();case 15:c=t.sent,f.b.success("Satuan berhasil dihapus"),k(c);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(a.a)(s.a.mark((function t(e){var n,a,r,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=j.a.get(null,"token"),a="https://js-strapi.keelola.net/api/categories?pagination[page]="+e,r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.token}},t.prev=3,t.next=6,fetch(a,r);case 6:return o=t.sent,t.next=9,o.json();case 9:(i=t.sent)?k((function(t){return{data:_(t.data.concat(i.data)),meta:t.meta}})):console.log("something is wrong"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),_=function(t){var e=new Set;return t.filter((function(t){var n=e.has(t.id);return e.add(t.id),!n}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a,{children:Object(m.jsx)("title",{children:"Kategori Produk"})}),Object(m.jsx)(x.a,{children:Object(m.jsxs)(p.a,{style:{},children:[Object(m.jsx)(v.a,{titleText:"Kategori"}),Object(m.jsxs)(d.a,{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(y,{loading:r,onChange:function(t){return C(t)},placeholder:"Cari Kategori",style:{width:200}}),Object(m.jsx)("button",{onClick:function(){O.push("/dashboard/produk/kategori/tambah")},type:"button",className:"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5",children:Object(m.jsx)("div",{className:"text-white text-center text-sm font-bold",children:Object(m.jsx)("a",{className:"text-white no-underline text-xs sm:text-xs",children:"+ Tambah"})})})]}),Object(m.jsx)(g.a,{categoryData:b,onDelete:K,onUpdate:function(t){O.push("/dashboard/produk/kategori/edit/"+t)},onPageChange:T})]})]})})]})};k.getInitialProps=function(){var t=Object(a.a)(s.a.mark((function t(e){var n,a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=j.a.get(e),t.next=3,w(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",{props:{data:a}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var w=function(){var t=Object(a.a)(s.a.mark((function t(e){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://js-strapi.keelola.net/api/categories",n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}},t.next=4,fetch("https://js-strapi.keelola.net/api/categories",n);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.default=k},o1K6:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/produk/kategori",function(){return n("fn6E")}])}},[["o1K6",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,17,18,19]]]);