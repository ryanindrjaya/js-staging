_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[67],{AVMw:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n("+P9B"),r=n.n(a),s=n("xvhg"),o=n("q1tI"),i=n.n(o),c=n("G7Ku"),l=n("jmRU"),u=n("qw/b"),d=n("3Yy8"),p=n("oun0"),b=n("vWxj"),h=n("nKUr");function x(e){var t=e.onConfirm,n=e.onCancel,a=e.title,o=e.message,x=e.id,j=i.a.useState(!1),f=Object(s.a)(j,2),m=f[0],g=f[1],v=function(){g(!1)},O=function(){n(),v()};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("button",{className:"hover:bg-red-400 text-red-600 hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md",onClick:function(){g(!0)},children:[Object(h.jsx)(r.a,{className:"mr-2 mt-0.5 float float-left"})," Hapus"]}),Object(h.jsxs)(l.a,{open:m,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(b.a,{id:"alert-dialog-title",className:"font-bold",children:[" ",a]}),Object(h.jsx)(d.a,{children:Object(h.jsx)(p.a,{id:"alert-dialog-description",children:o})}),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(c.a,{onClick:O,children:"Tidak"}),Object(h.jsx)(c.a,{onClick:function(){t(x),v()},className:"text-red-500",children:"Ya"})]})]})]})}},DlbC:function(e,t,n){"use strict";n.r(t);var a=n("rg98"),r=n("vJKn"),s=n.n(r),o=n("g4pe"),i=n.n(o),c=n("q1tI"),l=n("kM/w"),u=n("0Jbt"),d=n("PKTO"),p=n("d76Q"),b=n.n(p),h=n("AVMw"),x=n("nKUr");function j(e){var t=e.userData,n=e.onDelete,a=e.onUpdate,r=function(e){n(e)},s=function(){console.log("onCancel")},o=function(e){a(e)},i=[{name:"Nama Pengguna",width:"250px",sortable:!0,selector:function(e){return e.username}},{name:"Nama",width:"250px",sortable:!0,selector:function(e){return e.name}},{name:"Email",width:"250px",sortable:!0,selector:function(e){return e.email}},{name:"Role",width:"250px",sortable:!0,selector:function(e){var t;return null===(t=e.role)||void 0===t?void 0:t.name}},{name:"Tindakan",width:"250px",selector:function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[e.deleteAble?Object(x.jsx)("button",{onClick:function(){return o(e.id)},className:"hover:bg-cyan-700  hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:"Edit"}):Object(x.jsx)("button",{onClick:function(){return o(e.id)},className:"invisible hover:bg-cyan-700  hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:"Edit"}),e.deleteAble?Object(x.jsx)(h.a,{onCancel:s,onConfirm:r,title:"Hapus User",message:"Data User yang dihapus tidak dapat dikembalikan lagi. Lanjutkan?",id:e.id}):Object(x.jsx)("div",{className:"invisible",children:Object(x.jsx)("button",{className:"hover:bg-cyan-400  hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:"Hapus"})})]})})}}];return Object(x.jsx)(b.a,{customStyles:{headCells:{style:{color:"white",background:"#036B82"}}},columns:i,data:t,pagination:!0})}var f=n("20a2"),m=n("xBBV"),g=n("FGyW"),v=n("NyWP"),O=n.n(v),w=function(e){var t=e.props.data,n=Object(c.useState)(t),r=n[0],o=n[1],p=Object(f.useRouter)(),b=function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.push("/dashboard/pengguna/edit/"+t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,a,r,i,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://js-strapi.keelola.net/api/users/"+t,a=O.a.get(null,"token"),r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token}},e.next=5,fetch(n,r);case 5:return i=e.sent,e.next=8,i.json();case 8:if(!e.sent){e.next=18;break}return e.next=12,k(a);case 12:return c=e.sent,e.next=15,c.json();case 15:l=e.sent,g.b.success("Data Pengguna berhasil dihapus"),o(l);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(i.a,{children:Object(x.jsx)("title",{children:"Daftar Pengguna"})}),Object(x.jsx)(u.a,{children:Object(x.jsxs)(d.a,{style:{},children:[Object(x.jsx)(m.a,{titleText:"Pengguna"}),Object(x.jsxs)(l.a,{children:[Object(x.jsx)("button",{onClick:function(){p.push("/dashboard/pengguna/tambah")},type:"button",className:"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5",children:Object(x.jsx)("div",{className:"text-white text-center text-sm font-bold",children:Object(x.jsx)("a",{className:"text-white no-underline text-xs sm:text-xs",children:"+ Tambah"})})}),Object(x.jsx)(j,{userData:r,onDelete:h,onUpdate:b})]})]})})]})};w.getInitialProps=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.a.get(t),e.next=3,k(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",{props:{data:a}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var k=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://js-strapi.keelola.net/api/users?populate=*",n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}},e.next=4,fetch("https://js-strapi.keelola.net/api/users?populate=*",n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=w},d5v3:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/pengguna",function(){return n("DlbC")}])}},[["d5v3",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,17,18,19]]]);