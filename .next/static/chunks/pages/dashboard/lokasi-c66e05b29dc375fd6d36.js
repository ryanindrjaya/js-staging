_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[46],{AVMw:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var a=n("+P9B"),r=n.n(a),o=n("xvhg"),i=n("q1tI"),s=n.n(i),c=n("G7Ku"),l=n("jmRU"),d=n("qw/b"),u=n("3Yy8"),b=n("oun0"),h=n("vWxj"),p=n("nKUr");function j(t){var e=t.onConfirm,n=t.onCancel,a=t.title,i=t.message,j=t.id,x=s.a.useState(!1),f=Object(o.a)(x,2),v=f[0],m=f[1],k=function(){m(!1)},w=function(){n(),k()};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("button",{className:"hover:bg-red-400 text-red-600 hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md",onClick:function(){m(!0)},children:[Object(p.jsx)(r.a,{className:"mr-2 mt-0.5 float float-left"})," Hapus"]}),Object(p.jsxs)(l.a,{open:v,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(p.jsxs)(h.a,{id:"alert-dialog-title",className:"font-bold",children:[" ",a]}),Object(p.jsx)(u.a,{children:Object(p.jsx)(b.a,{id:"alert-dialog-description",children:i})}),Object(p.jsxs)(d.a,{children:[Object(p.jsx)(c.a,{onClick:w,children:"Tidak"}),Object(p.jsx)(c.a,{onClick:function(){e(j),k()},className:"text-red-500",children:"Ya"})]})]})]})}},BNMg:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/lokasi",function(){return n("KQaz")}])},KQaz:function(t,e,n){"use strict";n.r(e);var a=n("rg98"),r=n("vJKn"),o=n.n(r),i=n("g4pe"),s=n.n(i),c=n("q1tI"),l=n("kM/w"),d=n("0Jbt"),u=n("PKTO"),b=n("d76Q"),h=n.n(b),p=n("AVMw"),j=n("YFqc"),x=n.n(j),f=n("nKUr");function v(t){var e=t.locationData,n=t.onDelete,a=function(t){console.log(t),n(t)},r=function(){console.log("onCancel")},o=[{name:"ID Lokasi",width:"200px",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.location_id}},{name:"Nama Lokasi",width:"200px",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.name}},{name:"No.Telp",width:"200px",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.phone}},{name:"Jalan",width:"200px",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.street}},{name:"Kode POS",width:"200px",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.postal_code}},{name:"Kota",width:"200px",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.city}},{name:"Provinsi",width:"200px",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.province}},{name:"Negara",width:"200px",sortable:!0,selector:function(t){var e;return null===(e=t.attributes)||void 0===e?void 0:e.country}},{name:"Tindakan",width:"250px",selector:function(t){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[Object(f.jsx)(x.a,{href:{pathname:"/dashboard/lokasi/edit/[id]",query:{id:t.id}},children:Object(f.jsx)("a",{className:"hover:bg-blue-400  hover:text-white transition-colors  text-xs font-normal py-2 px-3 rounded-md no-underline",children:"Edit"})}),Object(f.jsx)(p.a,{onCancel:r,onConfirm:a,title:"Hapus Lokasi",message:"Data Lokasi yang dihapus tidak dapat dikembalikan lagi. Lanjutkan?",id:t.id})]})})}}];return Object(f.jsx)(h.a,{customStyles:{headCells:{style:{color:"white",background:"#036B82"}}},columns:o,data:e,pagination:!0})}var m=n("20a2"),k=n("xBBV"),w=n("FGyW"),O=n("NyWP"),g=n.n(O),y=function(t){var e=t.props.data.data,n=Object(c.useState)(e),r=n[0],i=(n[1],Object(m.useRouter)()),b=function(){var t=Object(a.a)(o.a.mark((function t(e){var n,a,r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://js-strapi.keelola.net/api/locations/"+e,a=g.a.get(null,"token"),r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token}},t.next=5,fetch(n,r);case 5:return s=t.sent,t.next=8,s.json();case 8:if(!t.sent){t.next=14;break}return t.next=12,N(a);case 12:w.b.success("Data Lokasi berhasil dihapus"),i.reload("/dashboard/lokasi");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{children:Object(f.jsx)("title",{children:"Lokasi Bisnis"})}),Object(f.jsx)(d.a,{children:Object(f.jsxs)(u.a,{style:{},children:[Object(f.jsx)(k.a,{titleText:"Lokasi Bisnis"}),Object(f.jsxs)(l.a,{children:[Object(f.jsx)("button",{onClick:function(){i.push("/dashboard/lokasi/tambah")},type:"button",className:"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5",children:Object(f.jsx)("div",{className:"text-white text-center text-sm font-bold",children:Object(f.jsx)("a",{className:"text-white no-underline text-xs sm:text-xs",children:"+ Tambah"})})}),Object(f.jsx)(v,{locationData:r,onDelete:b})]})]})})]})};y.getInitialProps=function(){var t=Object(a.a)(o.a.mark((function t(e){var n,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=g.a.get(e),t.next=3,N(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",{props:{data:a}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var N=function(){var t=Object(a.a)(o.a.mark((function t(e){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://js-strapi.keelola.net/api/locations",n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}},t.next=4,fetch("https://js-strapi.keelola.net/api/locations",n);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.default=y}},[["BNMg",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,17,18,19]]]);