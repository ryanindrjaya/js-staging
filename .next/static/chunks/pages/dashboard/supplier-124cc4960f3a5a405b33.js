_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[96],{AVMw:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n("+P9B"),r=n.n(a),s=n("xvhg"),o=n("q1tI"),i=n.n(o),c=n("G7Ku"),l=n("jmRU"),u=n("qw/b"),d=n("3Yy8"),p=n("oun0"),f=n("vWxj"),h=n("nKUr");function j(e){var t=e.onConfirm,n=e.onCancel,a=e.title,o=e.message,j=e.id,x=i.a.useState(!1),b=Object(s.a)(x,2),m=b[0],v=b[1],O=function(){v(!1)},g=function(){n(),O()};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("button",{className:"hover:bg-red-400 text-red-600 hover:text-white transition-colors  text-xs font-normal py-2 px-2 rounded-md",onClick:function(){v(!0)},children:[Object(h.jsx)(r.a,{className:"mr-2 mt-0.5 float float-left"})," Hapus"]}),Object(h.jsxs)(l.a,{open:m,onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(f.a,{id:"alert-dialog-title",className:"font-bold",children:[" ",a]}),Object(h.jsx)(d.a,{children:Object(h.jsx)(p.a,{id:"alert-dialog-description",children:o})}),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(c.a,{onClick:g,children:"Tidak"}),Object(h.jsx)(c.a,{onClick:function(){t(j),O()},className:"text-red-500",children:"Ya"})]})]})]})}},MUZu:function(e,t,n){"use strict";var a=n("284h"),r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("3tO9")),o=a(n("q1tI")),i=r(n("ZxNd")),c=r(n("KQxl")),l=function(e,t){return o.createElement(c.default,(0,s.default)((0,s.default)({},e),{},{ref:t,icon:i.default}))};l.displayName="EditOutlined";var u=o.forwardRef(l);t.default=u},Xk2e:function(e,t,n){"use strict";n.r(t);var a=n("rg98"),r=n("iJl9"),s=n.n(r),o=n("vJKn"),i=n.n(o),c=n("g4pe"),l=n.n(c),u=n("q1tI"),d=n("kM/w"),p=n("0Jbt"),f=n("PKTO"),h=n("aOJk"),j=n.n(h),x=n("MUZu"),b=n.n(x),m=n("zdCA"),v=n.n(m),O=n("d76Q"),g=n.n(O),w=n("AVMw"),k=n("nKUr");function y(e){var t,n=e.data,a=e.onDelete;e.onUpdate,e.onPageChange;console.log(n);var r=function(e){a(e)},s=function(){console.log("onCancel")},o=function(e){return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsxs)("button",{className:" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:[Object(k.jsx)(v.a,{className:"mr-2 mt-0.5 float float-left"}),"Lihat"]})}),Object(k.jsxs)("button",{className:" hover:text-cyan-700 transition-colors  text-xs font-normal py-2 px-2 rounded-md ",children:[Object(k.jsx)(b.a,{className:"mr-2 mt-0.5 float float-left"}),"Edit"]}),Object(k.jsx)(w.a,{onCancel:s,onConfirm:r,title:"Hapus Kategori",message:"Kategori yang dihapus tidak dapat dikembalikan lagi. Lanjutkan?",id:e.id})]})},i=[{name:"ID Supplier",width:"w-1/3",sortable:!0,selector:function(e){return e.attributes.id_supplier}},{name:"Nama",width:"w-1/3",sortable:!0,selector:function(e){return e.attributes.name}},{name:"No Telp",width:"w-1/3",sortable:!0,selector:function(e){return e.attributes.phone}},{name:"Alamat",width:"w-1/3",sortable:!0,selector:function(e){return e.attributes.address}},{name:"Tindakan",width:"250px",selector:function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(j.a,{content:o(e),placement:"bottom",children:Object(k.jsx)("button",{className:" text-cyan-700  transition-colors  text-xs font-normal py-2 rounded-md ",children:"Tindakan"})})})}}];return Object(k.jsx)(g.a,{customStyles:{headCells:{style:{color:"white",background:"#036B82"}}},columns:i,data:n.data,paginationTotalRows:null===n||void 0===n||null===(t=n.meta)||void 0===t?void 0:t.pagination.total,paginationRowsPerPageOptions:[10],pagination:!0})}var N=n("20a2"),C=n("xBBV"),T=n("FGyW"),_=n("NyWP"),E=n.n(_),P=function(e){var t=e.props.data,n=Object(u.useState)(t),r=n[0],o=n[1],c=Object(u.useState)(!1),h=c[0],j=c[1],x=s.a.Search,b=Object(N.useRouter)(),m=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,a,r,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://js-strapi.keelola.net/api/suppliers/"+t,a=E.a.get(null,"token"),r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token}},e.next=5,fetch(n,r);case 5:return s=e.sent,e.next=8,s.json();case 8:if(!e.sent){e.next=18;break}return e.next=12,M(a);case 12:return c=e.sent,e.next=15,c.json();case 15:l=e.sent,T.b.success("Supplier berhasil dihapus"),o(l);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,a,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.a.get(null,"token"),a="https://js-strapi.keelola.net/api/suppliers?pagination[page]="+t,r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.token}},e.prev=3,e.next=6,fetch(a,r);case 6:return s=e.sent,e.next=9,s.json();case 9:(c=e.sent)?o((function(e){return{data:filterDuplicateData(e.data.concat(c.data)),meta:e.meta}})):console.log("something is wrong"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(i.a.mark((function e(n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.target.value.length>=2)){e.next=12;break}return j(!0),e.next=4,g(n.target.value);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,o(r),j(!1),e.next=14;break;case 12:o(t),j(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://js-strapi.keelola.net/api/suppliers?filters[$or][0][name][$contains]="+t+"&filters[$or][1][id_supplier][$contains]="+t+"&populate=*",a=E.a.get(null,"token"),r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token}},e.next=5,fetch(n,r);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(l.a,{children:Object(k.jsx)("title",{children:"Daftar Supplier"})}),Object(k.jsx)(p.a,{children:Object(k.jsxs)(f.a,{style:{},children:[Object(k.jsx)(C.a,{titleText:"Supplier"}),Object(k.jsxs)(d.a,{children:[Object(k.jsxs)("div",{className:"w-full flex justify-between",children:[Object(k.jsx)(x,{className:"",loading:h,onChange:function(e){return O(e)},placeholder:"Cari Supplier",style:{width:200}}),Object(k.jsx)("button",{onClick:function(){b.push("/dashboard/supplier/tambah")},type:"button",className:"bg-cyan-700 rounded px-5 py-2 hover:bg-cyan-800  shadow-sm flex float-right mb-5",children:Object(k.jsx)("div",{className:"text-white text-center text-sm font-bold",children:Object(k.jsx)("a",{className:"text-white no-underline text-xs sm:text-xs",children:"+ Tambah"})})})]}),Object(k.jsx)(y,{data:r,onDelete:m,onPageChange:v})]})]})})]})};P.getInitialProps=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.a.get(t),e.next=3,M(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",{props:{data:a}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var M=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://js-strapi.keelola.net/api/suppliers?populate=*",n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}},e.next=4,fetch("https://js-strapi.keelola.net/api/suppliers?populate=*",n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=P},ZxNd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"}},yoLM:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/supplier",function(){return n("Xk2e")}])}},[["yoLM",0,1,13,2,3,4,5,6,7,9,8,10,12,11,14,15,17,18,19]]]);